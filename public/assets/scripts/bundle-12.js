/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={9492:(e,t,n)=>{"use strict";n.r(t),n.d(t,{afterMain:()=>E,afterRead:()=>b,afterWrite:()=>k,applyStyles:()=>$,arrow:()=>Z,auto:()=>a,basePlacements:()=>l,beforeMain:()=>x,beforeRead:()=>v,beforeWrite:()=>S,bottom:()=>r,clippingParents:()=>h,computeStyles:()=>ne,createPopper:()=>Le,createPopperBase:()=>Me,createPopperLite:()=>$e,detectOverflow:()=>ve,end:()=>u,eventListeners:()=>re,flip:()=>ye,hide:()=>we,left:()=>o,main:()=>w,modifierPhases:()=>A,offset:()=>Ee,placements:()=>m,popper:()=>p,popperGenerator:()=>Te,popperOffsets:()=>Se,preventOverflow:()=>Ce,read:()=>y,reference:()=>f,right:()=>s,start:()=>c,top:()=>i,variationPlacements:()=>g,viewport:()=>d,write:()=>C});var i="top",r="bottom",s="right",o="left",a="auto",l=[i,r,s,o],c="start",u="end",h="clippingParents",d="viewport",p="popper",f="reference",g=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+u])}),[]),m=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])}),[]),v="beforeRead",y="read",b="afterRead",x="beforeMain",w="main",E="afterMain",S="beforeWrite",C="write",k="afterWrite",A=[v,y,b,x,w,E,S,C,k];function D(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function T(e){return e instanceof _(e).Element||e instanceof Element}function M(e){return e instanceof _(e).HTMLElement||e instanceof HTMLElement}function L(e){return"undefined"!=typeof ShadowRoot&&(e instanceof _(e).ShadowRoot||e instanceof ShadowRoot)}const $={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];M(r)&&D(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});M(i)&&D(i)&&(Object.assign(i.style,s),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};function R(e){return e.split("-")[0]}var F=Math.max,B=Math.min,I=Math.round;function O(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function P(){return!/^((?!chrome|android).)*safari/i.test(O())}function N(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&M(e)&&(r=e.offsetWidth>0&&I(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&I(i.height)/e.offsetHeight||1);var o=(T(e)?_(e):window).visualViewport,a=!P()&&n,l=(i.left+(a&&o?o.offsetLeft:0))/r,c=(i.top+(a&&o?o.offsetTop:0))/s,u=i.width/r,h=i.height/s;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function z(e){var t=N(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function W(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&L(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function V(e){return _(e).getComputedStyle(e)}function H(e){return["table","td","th"].indexOf(D(e))>=0}function j(e){return((T(e)?e.ownerDocument:e.document)||window.document).documentElement}function U(e){return"html"===D(e)?e:e.assignedSlot||e.parentNode||(L(e)?e.host:null)||j(e)}function G(e){return M(e)&&"fixed"!==V(e).position?e.offsetParent:null}function q(e){for(var t=_(e),n=G(e);n&&H(n)&&"static"===V(n).position;)n=G(n);return n&&("html"===D(n)||"body"===D(n)&&"static"===V(n).position)?t:n||function(e){var t=/firefox/i.test(O());if(/Trident/i.test(O())&&M(e)&&"fixed"===V(e).position)return null;var n=U(e);for(L(n)&&(n=n.host);M(n)&&["html","body"].indexOf(D(n))<0;){var i=V(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function X(e,t,n){return F(e,B(t,n))}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function J(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Z={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,c=e.options,u=n.elements.arrow,h=n.modifiersData.popperOffsets,d=R(n.placement),p=K(d),f=[o,s].indexOf(d)>=0?"height":"width";if(u&&h){var g=function(e,t){return Y("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:J(e,l))}(c.padding,n),m=z(u),v="y"===p?i:o,y="y"===p?r:s,b=n.rects.reference[f]+n.rects.reference[p]-h[p]-n.rects.popper[f],x=h[p]-n.rects.reference[p],w=q(u),E=w?"y"===p?w.clientHeight||0:w.clientWidth||0:0,S=b/2-x/2,C=g[v],k=E-m[f]-g[y],A=E/2-m[f]/2+S,D=X(C,A,k),_=p;n.modifiersData[a]=((t={})[_]=D,t.centerOffset=D-A,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&W(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Q(e){return e.split("-")[1]}var ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function te(e){var t,n=e.popper,a=e.popperRect,l=e.placement,c=e.variation,h=e.offsets,d=e.position,p=e.gpuAcceleration,f=e.adaptive,g=e.roundOffsets,m=e.isFixed,v=h.x,y=void 0===v?0:v,b=h.y,x=void 0===b?0:b,w="function"==typeof g?g({x:y,y:x}):{x:y,y:x};y=w.x,x=w.y;var E=h.hasOwnProperty("x"),S=h.hasOwnProperty("y"),C=o,k=i,A=window;if(f){var D=q(n),T="clientHeight",M="clientWidth";D===_(n)&&"static"!==V(D=j(n)).position&&"absolute"===d&&(T="scrollHeight",M="scrollWidth"),(l===i||(l===o||l===s)&&c===u)&&(k=r,x-=(m&&D===A&&A.visualViewport?A.visualViewport.height:D[T])-a.height,x*=p?1:-1),l!==o&&(l!==i&&l!==r||c!==u)||(C=s,y-=(m&&D===A&&A.visualViewport?A.visualViewport.width:D[M])-a.width,y*=p?1:-1)}var L,$=Object.assign({position:d},f&&ee),R=!0===g?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:I(n*r)/r||0,y:I(i*r)/r||0}}({x:y,y:x},_(n)):{x:y,y:x};return y=R.x,x=R.y,p?Object.assign({},$,((L={})[k]=S?"0":"",L[C]=E?"0":"",L.transform=(A.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",L)):Object.assign({},$,((t={})[k]=S?x+"px":"",t[C]=E?y+"px":"",t.transform="",t))}const ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:R(t.placement),variation:Q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,te(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,te(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ie={passive:!0};const re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=void 0===r||r,o=i.resize,a=void 0===o||o,l=_(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,ie)})),a&&l.addEventListener("resize",n.update,ie),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ie)})),a&&l.removeEventListener("resize",n.update,ie)}},data:{}};var se={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return se[e]}))}var ae={start:"end",end:"start"};function le(e){return e.replace(/start|end/g,(function(e){return ae[e]}))}function ce(e){var t=_(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ue(e){return N(j(e)).left+ce(e).scrollLeft}function he(e){var t=V(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function de(e){return["html","body","#document"].indexOf(D(e))>=0?e.ownerDocument.body:M(e)&&he(e)?e:de(U(e))}function pe(e,t){var n;void 0===t&&(t=[]);var i=de(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),s=_(i),o=r?[s].concat(s.visualViewport||[],he(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(pe(U(o)))}function fe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ge(e,t,n){return t===d?fe(function(e,t){var n=_(e),i=j(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=P();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+ue(e),y:l}}(e,n)):T(t)?function(e,t){var n=N(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):fe(function(e){var t,n=j(e),i=ce(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=F(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=F(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+ue(e),l=-i.scrollTop;return"rtl"===V(r||n).direction&&(a+=F(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(j(e)))}function me(e){var t,n=e.reference,a=e.element,l=e.placement,h=l?R(l):null,d=l?Q(l):null,p=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2;switch(h){case i:t={x:p,y:n.y-a.height};break;case r:t={x:p,y:n.y+n.height};break;case s:t={x:n.x+n.width,y:f};break;case o:t={x:n.x-a.width,y:f};break;default:t={x:n.x,y:n.y}}var g=h?K(h):null;if(null!=g){var m="y"===g?"height":"width";switch(d){case c:t[g]=t[g]-(n[m]/2-a[m]/2);break;case u:t[g]=t[g]+(n[m]/2-a[m]/2)}}return t}function ve(e,t){void 0===t&&(t={});var n=t,o=n.placement,a=void 0===o?e.placement:o,c=n.strategy,u=void 0===c?e.strategy:c,g=n.boundary,m=void 0===g?h:g,v=n.rootBoundary,y=void 0===v?d:v,b=n.elementContext,x=void 0===b?p:b,w=n.altBoundary,E=void 0!==w&&w,S=n.padding,C=void 0===S?0:S,k=Y("number"!=typeof C?C:J(C,l)),A=x===p?f:p,_=e.rects.popper,L=e.elements[E?A:x],$=function(e,t,n,i){var r="clippingParents"===t?function(e){var t=pe(U(e)),n=["absolute","fixed"].indexOf(V(e).position)>=0&&M(e)?q(e):e;return T(n)?t.filter((function(e){return T(e)&&W(e,n)&&"body"!==D(e)})):[]}(e):[].concat(t),s=[].concat(r,[n]),o=s[0],a=s.reduce((function(t,n){var r=ge(e,n,i);return t.top=F(r.top,t.top),t.right=B(r.right,t.right),t.bottom=B(r.bottom,t.bottom),t.left=F(r.left,t.left),t}),ge(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(T(L)?L:L.contextElement||j(e.elements.popper),m,y,u),R=N(e.elements.reference),I=me({reference:R,element:_,strategy:"absolute",placement:a}),O=fe(Object.assign({},_,I)),P=x===p?O:R,z={top:$.top-P.top+k.top,bottom:P.bottom-$.bottom+k.bottom,left:$.left-P.left+k.left,right:P.right-$.right+k.right},H=e.modifiersData.offset;if(x===p&&H){var G=H[a];Object.keys(z).forEach((function(e){var t=[s,r].indexOf(e)>=0?1:-1,n=[i,r].indexOf(e)>=0?"y":"x";z[e]+=G[n]*t}))}return z}const ye={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var h=n.mainAxis,d=void 0===h||h,p=n.altAxis,f=void 0===p||p,v=n.fallbackPlacements,y=n.padding,b=n.boundary,x=n.rootBoundary,w=n.altBoundary,E=n.flipVariations,S=void 0===E||E,C=n.allowedAutoPlacements,k=t.options.placement,A=R(k),D=v||(A!==k&&S?function(e){if(R(e)===a)return[];var t=oe(e);return[le(e),t,le(t)]}(k):[oe(k)]),_=[k].concat(D).reduce((function(e,n){return e.concat(R(n)===a?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?m:c,h=Q(i),d=h?a?g:g.filter((function(e){return Q(e)===h})):l,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=ve(e,{placement:n,boundary:r,rootBoundary:s,padding:o})[R(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:b,rootBoundary:x,padding:y,flipVariations:S,allowedAutoPlacements:C}):n)}),[]),T=t.rects.reference,M=t.rects.popper,L=new Map,$=!0,F=_[0],B=0;B<_.length;B++){var I=_[B],O=R(I),P=Q(I)===c,N=[i,r].indexOf(O)>=0,z=N?"width":"height",W=ve(t,{placement:I,boundary:b,rootBoundary:x,altBoundary:w,padding:y}),V=N?P?s:o:P?r:i;T[z]>M[z]&&(V=oe(V));var H=oe(V),j=[];if(d&&j.push(W[O]<=0),f&&j.push(W[V]<=0,W[H]<=0),j.every((function(e){return e}))){F=I,$=!1;break}L.set(I,j)}if($)for(var U=function(e){var t=_.find((function(t){var n=L.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return F=t,"break"},G=S?3:1;G>0&&"break"!==U(G);G--);t.placement!==F&&(t.modifiersData[u]._skip=!0,t.placement=F,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function be(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xe(e){return[i,s,r,o].some((function(t){return e[t]>=0}))}const we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=ve(t,{elementContext:"reference"}),a=ve(t,{altBoundary:!0}),l=be(o,i),c=be(a,r,s),u=xe(l),h=xe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},Ee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,l=void 0===a?[0,0]:a,c=m.reduce((function(e,n){return e[n]=function(e,t,n){var r=R(e),a=[o,i].indexOf(r)>=0?-1:1,l="function"==typeof n?n(Object.assign({},t,{placement:e})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*a,[o,s].indexOf(r)>=0?{x:u,y:c}:{x:c,y:u}}(n,t.rects,l),e}),{}),u=c[t.placement],h=u.x,d=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=c}},Se={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=me({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ce={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,l=n.mainAxis,u=void 0===l||l,h=n.altAxis,d=void 0!==h&&h,p=n.boundary,f=n.rootBoundary,g=n.altBoundary,m=n.padding,v=n.tether,y=void 0===v||v,b=n.tetherOffset,x=void 0===b?0:b,w=ve(t,{boundary:p,rootBoundary:f,padding:m,altBoundary:g}),E=R(t.placement),S=Q(t.placement),C=!S,k=K(E),A="x"===k?"y":"x",D=t.modifiersData.popperOffsets,_=t.rects.reference,T=t.rects.popper,M="function"==typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,L="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(D){if(u){var O,P="y"===k?i:o,N="y"===k?r:s,W="y"===k?"height":"width",V=D[k],H=V+w[P],j=V-w[N],U=y?-T[W]/2:0,G=S===c?_[W]:T[W],Y=S===c?-T[W]:-_[W],J=t.elements.arrow,Z=y&&J?z(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[P],ne=ee[N],ie=X(0,_[W],Z[W]),re=C?_[W]/2-U-ie-te-L.mainAxis:G-ie-te-L.mainAxis,se=C?-_[W]/2+U+ie+ne+L.mainAxis:Y+ie+ne+L.mainAxis,oe=t.elements.arrow&&q(t.elements.arrow),ae=oe?"y"===k?oe.clientTop||0:oe.clientLeft||0:0,le=null!=(O=null==$?void 0:$[k])?O:0,ce=V+se-le,ue=X(y?B(H,V+re-le-ae):H,V,y?F(j,ce):j);D[k]=ue,I[k]=ue-V}if(d){var he,de="x"===k?i:o,pe="x"===k?r:s,fe=D[A],ge="y"===A?"height":"width",me=fe+w[de],ye=fe-w[pe],be=-1!==[i,o].indexOf(E),xe=null!=(he=null==$?void 0:$[A])?he:0,we=be?me:fe-_[ge]-T[ge]-xe+L.altAxis,Ee=be?fe+_[ge]+T[ge]-xe-L.altAxis:ye,Se=y&&be?function(e,t,n){var i=X(e,t,n);return i>n?n:i}(we,fe,Ee):X(y?we:me,fe,y?Ee:ye);D[A]=Se,I[A]=Se-fe}t.modifiersData[a]=I}},requiresIfExists:["offset"]};function ke(e,t,n){void 0===n&&(n=!1);var i,r,s=M(t),o=M(t)&&function(e){var t=e.getBoundingClientRect(),n=I(t.width)/e.offsetWidth||1,i=I(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),a=j(t),l=N(e,o,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!n)&&(("body"!==D(t)||he(a))&&(c=(i=t)!==_(i)&&M(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:ce(i)),M(t)?((u=N(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ue(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Ae(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var De={placement:"bottom",modifiers:[],strategy:"absolute"};function _e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Te(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,s=void 0===r?De:r;return function(e,t,n){void 0===n&&(n=s);var r,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},De,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},s,a.options,r),a.scrollParents={reference:T(e)?pe(e):e.contextElement?pe(e.contextElement):[],popper:pe(t)};var o,c,d=function(e){var t=Ae(e);return A.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(i,a.options.modifiers),c=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=d.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var s=r({state:a,name:t,instance:u,options:i});l.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(_e(t,n)){a.rects={reference:ke(t,q(n),"fixed"===a.options.strategy),popper:z(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var r=a.orderedModifiers[i],s=r.fn,o=r.options,l=void 0===o?{}:o,h=r.name;"function"==typeof s&&(a=s({state:a,options:l,name:h,instance:u})||a)}else a.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(r())}))}))),o}),destroy:function(){h(),c=!0}};if(!_e(e,t))return u;function h(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Me=Te(),Le=Te({defaultModifiers:[re,Se,ne,$,Ee,ye,Ce,Z,we]}),$e=Te({defaultModifiers:[re,Se,ne,$]})},2085:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var r=s(e,t);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(null==c&&i.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},i=function(e,t){var r=n("",e,t);return null==r&&i.original?i.original.apply(this,arguments):r},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,i){i=r(e,i);var s=t.modules[i];if(!s){if("function"==typeof(s=t.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0},l=s((function(e,t){return n(i,e,t)}),o,a);o=l||a.exports,t.modules[i]=o,delete t.payloads[i]}s=t.modules[i]=o||s}return s};!function(n){var r=e;e[n]||(e[n]={}),(r=e[n]).define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})),String.prototype.repeat||i(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||i(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];null!=i&&Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||i(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return r}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return i}})),Array.prototype.includes||i(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||i(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,i=arguments[1],r=i>>0,s=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],a=void 0===o?n:o>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);s<l;)t[s]=e,s++;return t})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),s=i.userAgent||"",o=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isAndroid=s.indexOf("Android")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";function i(){var e=a;a=null,e&&e.forEach((function(e){r(e[0],e[1])}))}function r(e,n,r){if("undefined"!=typeof document){if(a)if(r)i();else if(!1===r)return a.push([e,n]);if(!o){var s=r;r&&r.getRootNode&&(s=r.getRootNode())&&s!=r||(s=document);var l=s.ownerDocument||s;if(n&&t.hasCssString(n,s))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),s==l&&(s=t.getDocumentHead(l)),s.insertBefore(c,s.firstChild)}}}var s=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var s=[],o=0;o<t.length;o++){var a=e(t[o],n,i);a&&s.push(a)}return s}var l=document.createElement(t[0]),c=t[1],u=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(u=2),o=u;o<t.length;o++)e(t[o],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o,a=[];if(t.useStrictCSP=function(e){o=e,0==e?i():a||(a=[])},t.importCssString=r,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var s=e.documentElement;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o==a&&(a=i.clientWidth),s.removeChild(i),o-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!s.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,s.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&void 0!==l.style.animationName&&(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var s=r.indexOf(t);-1!=s&&r.splice(s,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){function i(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var s=e("./oop"),o=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(e,t):(n.handlesSet||(this["$"+e]=t),void(n&&n.set&&n.set.call(this,t))):i('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:i('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){s.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),s.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=i,this.reportError=r}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var i=e("./lib/lang"),r=(e("./lib/oop"),e("./lib/net")),s=e("./lib/dom"),o=e("./lib/app_config").AppConfig;n.exports=t=new o;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&s.useStrictCSP(t)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(s,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var o=a[t+"Path"];return null==o?o=a.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,n){return"ace/theme/textmate"==t?n(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(n,i){var s,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{s=e(n)}catch(e){}if(s&&!t.$loading[n])return i&&i(s);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){l(n,(function(e,i){t._emit("load.module",{name:n,module:i});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(e){e&&e(i)}))}))};if(!t.get("packaged"))return a();r.loadScript(t.moduleUrl(n,o),a),c()}};var c=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.11.1"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,i){"use strict";function r(t){if(a&&a.document){o.set("packaged",t||e.packaged||i.packaged||a.define&&n.amdD.packaged);for(var r={},l="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],p=d.src||d.getAttribute("src");if(p){for(var f=d.attributes,g=0,m=f.length;g<m;g++){var v=f[g];0===v.name.indexOf("data-ace-")&&(r[s(v.name.replace(/^data-ace-/,""))]=v.value)}var y=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(l=y[1])}}for(var b in l&&(r.base=r.base||l,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base,r)void 0!==r[b]&&o.set(b,r[b])}}function s(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}e("./lib/fixoldbrowsers");var o=e("./config");o.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var a=function(){return this||"undefined"!=typeof window&&window}();i.exports=function(t){o.init=r,t.require=e,t.define=n.amdD}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";function i(){return null==a&&function(){a=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){a={passive:!1}}})}catch(e){}}(),a}function r(e,t,n){this.elem=e,this.type=t,this.callback=n}function s(e,t,n){var i=f(t);if(!c.isMac&&u){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),u.altGr){if(3==(3&i))return;u.altGr=0}if(18===n||17===n){var r="location"in t?t.location:t.keyLocation;17===n&&1===r?1==u[n]&&(h=t.timeStamp):18===n&&3===i&&2===r&&t.timeStamp-h<50&&(u.altGr=!0)}}if(n in l.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(r="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(c.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in l.FUNCTION_KEYS||n in l.PRINTABLE_KEYS)&&e(t,i,n)}}function o(){u=Object.create(null)}var a,l=e("./keys"),c=e("./useragent"),u=null,h=0;r.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=t.addListener=function(e,t,n,s){e.addEventListener(t,n,i()),s&&s.$toDestroy.push(new r(e,t,n))},p=t.removeListener=function(e,t,n){e.removeEventListener(t,n,i())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||c.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function i(e){t&&t(e),n&&n(e),p(r,"mousemove",t),p(r,"mouseup",i),p(r,"dragstart",i)}var r=e&&e.ownerDocument||document;return d(r,"mousemove",t),d(r,"mouseup",i),d(r,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){d(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){function o(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,c.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;u&&!s||(h=1),u&&clearTimeout(u),u=setTimeout((function(){u=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](p[h],e)}var a,l,u,h=0,p={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach((function(e){d(e,"mousedown",o,s)}))};var f=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};if(t.getModifierString=function(e){return l.KEY_MODS[f(e)]},t.addCommandKeyListener=function(e,n,i){if(c.isOldGecko||c.isOpera&&!("KeyboardEvent"in window)){var r=null;d(e,"keydown",(function(e){r=e.keyCode}),i),d(e,"keypress",(function(e){return s(n,e,r)}),i)}else{var a=null;d(e,"keydown",(function(e){u[e.keyCode]=(u[e.keyCode]||0)+1;var t=s(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),d(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),d(e,"keyup",(function(e){u[e.keyCode]=null}),i),u||(o(),d(window,"focus",o))}},"object"==typeof window&&window.postMessage&&!c.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+g++,r=function(s){s.data==i&&(t.stopPropagation(s),p(n,"message",r),e())};d(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,u=r.isChrome>63,h=400,d=e("../lib/keys"),p=d.KEY_MODS,f=r.isIOS,g=f?/\s/:/\n/,m=r.isMobile;t.TextInput=function(e,t){function n(){k=!0,y.blur(),y.focus(),k=!1}function v(){clearTimeout(j),j=setTimeout((function(){S&&(y.style.cssText=S,S=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}var y=s.createElement("textarea");y.className="ace_text-input",y.setAttribute("wrap","off"),y.setAttribute("autocorrect","off"),y.setAttribute("autocapitalize","off"),y.setAttribute("spellcheck",!1),y.style.opacity="0",e.insertBefore(y,e.firstChild);var b=!1,x=!1,w=!1,E=!1,S="";m||(y.style.fontSize="1px");var C=!1,k=!1,A="",D=0,_=0,T=0;try{var M=document.activeElement===y}catch(e){}i.addListener(y,"blur",(function(e){k||(t.onBlur(e),M=!1)}),t),i.addListener(y,"focus",(function(e){if(!k){if(M=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(L):L()}}),t),this.$focusScroll=!1,this.focus=function(){if(S||u||"browser"==this.$focusScroll)return y.focus({preventScroll:!0});var e=y.style.top;y.style.position="fixed",y.style.top="0px";try{var t=0!=y.getBoundingClientRect().top}catch(e){return}var n=[];if(t)for(var i=y.parentElement;i&&1==i.nodeType;)n.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;y.focus({preventScroll:!0}),t&&n.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){y.style.position="","0px"==y.style.top&&(y.style.top=e)}),0)},this.blur=function(){y.blur()},this.isFocused=function(){return M},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;if("insertstring"!=n){var i=n&&(e.docChanged||e.selectionChanged);w&&i&&(A=y.value="",V()),L()}}));var L=f?function(e){if(M&&(!b||e)&&!E){e||(e="");var n="\n ab"+e+"cde fg\n";n!=y.value&&(y.value=A=n);var i=4+(e.length||(t.selection.isEmpty()?0:1));(4!=D||_!=i)&&y.setSelectionRange(4,i),D=4,_=i}}:function(){if(!w&&!E&&(M||R)){w=!0;var e=0,n=0,i="";if(t.session){var r=t.selection,s=r.getRange(),o=r.cursor.row;if(e=s.start.column,n=s.end.column,i=t.session.getLine(o),s.start.row!=o){var a=t.session.getLine(o-1);e=s.start.row<o-1?0:e,n+=a.length+1,i=a+"\n"+i}else if(s.end.row!=o){var l=t.session.getLine(o+1);n=s.end.row>o+1?l.length:n,n+=i.length+1,i=i+"\n"+l}else m&&o>0&&(i="\n"+i,n+=1,e+=1);i.length>h&&(e<h&&n<h?i=i.slice(0,h):(i="\n",e==n?e=n=0:(e=0,n=1)))}var c=i+"\n\n";if(c!=A&&(y.value=A=c,D=_=c.length),R&&(D=y.selectionStart,_=y.selectionEnd),_!=n||D!=e||y.selectionEnd!=_)try{y.setSelectionRange(e,n),D=e,_=n}catch(e){}w=!1}};this.resetSelection=L,M&&t.onFocus();var $=null;this.setInputHandler=function(e){$=e},this.getInputHandler=function(){return $};var R=!1,F=function(e,n){if(R&&(R=!1),x)return L(),e&&t.onPaste(e),x=!1,"";for(var i=y.selectionStart,s=y.selectionEnd,o=D,a=A.length-_,l=e,c=e.length-i,u=e.length-s,h=0;o>0&&A[h]==e[h];)h++,o--;for(l=l.slice(h),h=1;a>0&&A.length-h>D-1&&A[A.length-h]==e[e.length-h];)h++,a--;c-=h-1,u-=h-1;var d=l.length-h+1;if(d<0&&(o=-d,d=0),l=l.slice(0,d),!(n||l||c||o||a||u))return"";E=!0;var p=!1;return r.isAndroid&&". "==l&&(l="  ",p=!0),l&&!o&&!a&&!c&&!u||C?t.onTextInput(l):t.onTextInput(l,{extendLeft:o,extendRight:a,restoreStart:c,restoreEnd:u}),E=!1,A=e,D=i,_=s,T=u,p?"\n":l},B=function(e){if(w)return W();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=y.value,i=F(n,!0);(n.length>500||g.test(i)||m&&D<1&&D==_)&&L()},I=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var r=c||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return I(e,t,!0)}}},O=function(e,n){var r=t.getCopyText();if(!r)return i.preventDefault(e);I(e,r)?(f&&(L(r),b=r,setTimeout((function(){b=!1}),10)),n?t.onCut():t.onCopy(),i.preventDefault(e)):(b=!0,y.value=r,y.select(),setTimeout((function(){b=!1,L(),n?t.onCut():t.onCopy()})))},P=function(e){O(e,!0)},N=function(e){O(e,!1)},z=function(e){var n=I(e);a.pasteCancelled()||("string"==typeof n?(n&&t.onPaste(n,e),r.isIE&&setTimeout(L),i.preventDefault(e)):(y.value="",x=!0))};i.addCommandKeyListener(y,t.onCommandKey.bind(t),t),i.addListener(y,"select",(function(e){w||(b?b=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=A.length&&e.value===A&&A&&e.selectionEnd!==_}(y)?(t.selectAll(),L()):m&&y.selectionStart!=D&&L())}),t),i.addListener(y,"input",B,t),i.addListener(y,"cut",P,t),i.addListener(y,"copy",N,t),i.addListener(y,"paste",z,t),(!("oncut"in y)||!("oncopy"in y)||!("onpaste"in y))&&i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:N(e);break;case 86:z(e);break;case 88:P(e)}}),t);var W=function(){if(w&&t.onCompositionUpdate&&!t.$readOnly){if(C)return n();if(w.useTextareaForIME)t.onCompositionUpdate(y.value);else{var e=y.value;F(e),w.markerRange&&(w.context&&(w.markerRange.start.column=w.selectionStart=w.context.compositionStartOffset),w.markerRange.end.column=w.markerRange.start.column+_-w.selectionStart+T)}}},V=function(e){t.onCompositionEnd&&!t.$readOnly&&(w=!1,t.onCompositionEnd(),t.off("mousedown",n),e&&B())},H=o.delayedCall(W,50).schedule.bind(null,null);i.addListener(y,"compositionstart",(function(e){if(!w&&t.onCompositionStart&&!t.$readOnly&&(w={},!C)){e.data&&(w.useTextareaForIME=!1),setTimeout(W,0),t._signal("compositionStart"),t.on("mousedown",n);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,w.markerRange=i,w.selectionStart=D,t.onCompositionStart(w),w.useTextareaForIME?(A=y.value="",D=0,_=0):(y.msGetInputContext&&(w.context=y.msGetInputContext()),y.getInputContext&&(w.context=y.getInputContext()))}}),t),i.addListener(y,"compositionupdate",W,t),i.addListener(y,"keyup",(function(e){27==e.keyCode&&y.value.length<y.selectionStart&&(w||(A=y.value),D=_=-1,L()),H()}),t),i.addListener(y,"keydown",H,t),i.addListener(y,"compositionend",V,t),this.getElement=function(){return y},this.setCommandMode=function(e){C=e,y.readOnly=!1},this.setReadOnly=function(e){C||(y.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){R=!0,L(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){S||(S=y.style.cssText),y.style.cssText=(n?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(D+_)*t.renderer.characterWidth*.5+"px;";var o=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),l=o.top+(parseInt(a.borderTopWidth)||0),c=o.left+(parseInt(o.borderLeftWidth)||0),u=o.bottom-l-y.clientHeight-2,h=function(e){s.translate(y,e.clientX-c-2,Math.min(e.clientY-l-2,u))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(j),r.isWin&&i.capture(t.container,h,v))},this.onContextMenuClose=v;var j,U=function(e){t.textInput.onContextMenu(e),v()};i.addListener(y,"mouseup",U,t),i.addListener(y,"mousedown",(function(e){e.preventDefault(),v()}),t),i.addListener(t.renderer.scroller,"contextmenu",U,t),i.addListener(y,"contextmenu",U,t),f&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var s=function(e){if(document.activeElement===n&&!(r||w||t.$mouseHandler.isMousePressed||b)){var i=n.selectionStart,s=n.selectionEnd,o=null,a=0;if(0==i?o=d.up:1==i?o=d.home:s>_&&"\n"==A[s]?o=d.end:i<D&&" "==A[i-1]?(o=d.left,a=p.option):i<D||i==D&&_!=D&&i==s?o=d.left:s>_&&A.slice(0,s).split("\n").length>2?o=d.down:s>_&&" "==A[s-1]?(o=d.right,a=p.option):(s>_||s==_&&_!=D&&i==s)&&(o=d.right),i!==s&&(a|=p.shift),o){if(!t.onCommandKey({},a,o)&&t.commands){o=d.keyCodeToString(o);var l=t.commands.findKeyCommand(a,o);l&&t.execCommand(l)}D=i,_=s,L("")}}};document.addEventListener("selectionchange",s),t.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,t,y),this.destroy=function(){y.parentElement&&y.parentElement.removeChild(y)}},t.$setUserAgentForTests=function(e,t){m=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();return 0!==r?((i.getSelectionRange().isEmpty()||1==r)&&i.selection.moveToPosition(n),void(2==r&&(i.textInput.onContextMenu(e.domEvent),s.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var s=r(this.$clickSelection,n);n=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[e](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==o&&a<=0)t=this.$clickSelection.end,s.end.row==i.row&&s.end.column==i.column||(i=s.start);else if(1==a&&o>=0)t=this.$clickSelection.start,s.start.row==i.row&&s.start.column==i.column||(i=s.end);else if(-1==o&&1==a)i=s.end,t=s.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,s=r?e.wheelX/r:n.vx,o=r?e.wheelY/r:n.vy;r<550&&(s=(s+n.vx)/2,o=(o+n.vy)/2);var a=Math.abs(s/o),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(s)<=1.5*Math.abs(n.vx)&&Math.abs(o)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=s,n.vy=o,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var r=e("./lib/dom"),s="ace_tooltip";(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";function i(e){a.call(this,e)}var r=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;s.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+s>i&&(t-=20+s),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=function(e){function t(){var t=l.getDocumentPosition().row,i=h.$annotations[t];if(!i)return n();if(t==u.session.getLength()){var r=u.renderer.pixelToScreenCoordinates(0,l.y).row,o=l.$pos;if(r>u.session.documentToScreenRow(o.row,o.column))return n()}if(c!=i){c=i.text.join("<br/>"),d.setHtml(c);var a=i.className;if(a&&d.setClassName(a.trim()),d.show(),u._signal("showGutterTooltip",d),u.on("mousewheel",n),e.$tooltipFollowsMouse)s(l);else{var p=l.domEvent.target.getBoundingClientRect(),f=d.getElement().style;f.left=p.right+"px",f.top=p.bottom+"px"}}}function n(){a&&(a=clearTimeout(a)),c&&(d.hide(),c=null,u._signal("hideGutterTooltip",d),u.off("mousewheel",n))}function s(e){d.setPosition(e.x,e.y)}var a,l,c,u=e.editor,h=u.renderer.$gutterLayer,d=new i(u.container);e.editor.setDefaultHandler("guttermousedown",(function(t){if(u.isFocused()&&0==t.getButton()&&"foldWidgets"!=h.getRegion(t)){var n=t.getDocumentPosition().row,i=u.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return u.selectAll(),t.preventDefault();e.$clickSelection=u.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(i){var o=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(o,"ace_fold-widget"))return n();c&&e.$tooltipFollowsMouse&&s(i),l=i,a||(a=setTimeout((function(){a=null,l&&!e.isMousePressed?t():n()}),50))})),o.addListener(u.renderer.$gutter,"mouseout",(function(e){l=null,c&&!a&&(a=setTimeout((function(){a=null,n()}),50))}),u),u.on("changeSession",n)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e){function t(){var e=w;(function(e,t){var n=Date.now(),i=!t||e.row!=t.row,s=!t||e.column!=t.column;!k||i||s?(f.moveCursorToPosition(e),k=n,A={x:v,y}):r(A.x,A.y,v,y)>u?k=null:n-k>=c&&(f.renderer.scrollCursorIntoView(),k=null)})(w=f.renderer.screenToTextCoordinates(v,y),e),function(e,t){var n=Date.now(),i=f.renderer.layerConfig.lineHeight,r=f.renderer.layerConfig.characterWidth,s=f.renderer.scroller.getBoundingClientRect(),o={x:{left:v-s.left,right:s.right-v},y:{top:y-s.top,bottom:s.bottom-y}},a=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};a/r<=2&&(u.column+=o.x.left<o.x.right?-3:2),c/i<=1&&(u.row+=o.y.top<o.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,p=!t||e.row!=t.row;h||d&&!p?C?n-C>=l&&f.renderer.scrollCursorIntoView(u):C=n:C=null}(w,e)}function n(){x=f.selection.toOrientedRange(),m=f.session.addMarker(x,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),t(),b=setInterval(t,20),_=0,o.addListener(document,"mousemove",h)}function i(){clearInterval(b),f.session.removeMarker(m),m=null,f.selection.fromOrientedRange(x),f.isFocused()&&!S&&f.$resetCursorStyle(),x=null,w=null,_=0,C=null,k=null,o.removeListener(document,"mousemove",h)}function h(){null==T&&(T=setTimeout((function(){null!=T&&m&&i()}),20))}function d(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function p(e){var t=["copy","copymove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}var f=e.editor,g=s.createElement("div");g.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",g.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),f.on("mousedown",this.onMouseDown.bind(e));var m,v,y,b,x,w,E,S,C,k,A,D=f.container,_=0;this.onDragStart=function(e){if(this.cancelDrag||!D.draggable){var t=this;return setTimeout((function(){t.startSelect(),t.captureMouse(e)}),0),e.preventDefault()}x=f.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=f.getReadOnly()?"copy":"copyMove",f.container.appendChild(g),n.setDragImage&&n.setDragImage(g,0,0),setTimeout((function(){f.container.removeChild(g)})),n.clearData(),n.setData("Text",f.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(e){if(D.draggable=!1,S=!1,this.setState(null),!f.getReadOnly()){var t=e.dataTransfer.dropEffect;!E&&"move"==t&&f.session.remove(f.getSelectionRange()),f.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!f.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,y=e.clientY,m||n(),_++,e.dataTransfer.dropEffect=E=p(e),o.preventDefault(e)},this.onDragOver=function(e){if(!f.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,y=e.clientY,m||(n(),_++),null!==T&&(T=null),e.dataTransfer.dropEffect=E=p(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--_<=0&&m)return i(),E=null,o.preventDefault(e)},this.onDrop=function(e){if(w){var t=e.dataTransfer;if(S)switch(E){case"move":x=x.contains(w.row,w.column)?{start:w,end:w}:f.moveText(x,w);break;case"copy":x=f.moveText(x,w,!0)}else{var n=t.getData("Text");x={start:w,end:f.session.insert(w,n)},f.focus(),E=null}return i(),o.preventDefault(e)}},o.addListener(D,"dragstart",this.onDragStart.bind(e),f),o.addListener(D,"dragend",this.onDragEnd.bind(e),f),o.addListener(D,"dragenter",this.onDragEnter.bind(e),f),o.addListener(D,"dragover",this.onDragOver.bind(e),f),o.addListener(D,"dragleave",this.onDragLeave.bind(e),f),o.addListener(D,"drop",this.onDrop.bind(e),f);var T=null}function r(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var s=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=a.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;a.isIE&&"dragReady"==this.state&&r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(a.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(i.prototype),t.DragdropHandler=i})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),s=e("../lib/dom");t.addTouchListeners=function(e,t){function n(){var e=window.navigator&&window.navigator.clipboard,n=!1,i=function(){var i=t.getCopyText(),r=t.session.getUndoManager().hasUndo();v.replaceChild(s.buildDom(n?["span",!i&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],i&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],i&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],r&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),v.firstChild)},r=function(r){var s=r.target.getAttribute("action");if("more"==s||!n)return n=!n,i();"paste"==s?e.readText().then((function(e){t.execCommand(s,e)})):s&&("cut"!=s&&"copy"!=s||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(s)),v.firstChild.style.display="none",n=!1,"openCommandPallete"!=s&&t.focus()};v=s.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){y="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function o(){v||n();var e=t.selection.cursor,i=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,s=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();v.style.top=i.pageY-o.top-3+"px",i.pageX-o.left<o.width-70?(v.style.left="",v.style.right="10px"):(v.style.right="",v.style.left=r+s-o.left+"px"),v.style.display="",v.firstChild.style.display="none",t.on("input",a)}function a(e){v&&(v.style.display="none"),t.off("input",a)}function l(){p=null,clearTimeout(p);var e=t.selection.getRange(),n=e.contains(g.row,g.column);!e.isEmpty()&&n||(t.selection.moveToPosition(g),t.selection.selectWord()),y="wait",o()}var c,u,h,d,p,f,g,m,v,y="scroll",b=0,x=0,w=0,E=0;r.addListener(e,"contextmenu",(function(e){m&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var n=e.touches;if(p||n.length>1)return clearTimeout(p),p=null,h=-1,void(y="zoom");m=t.$mouseHandler.isMousePressed=!0;var r=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.lineHeight,o=e.timeStamp;d=o;var a=n[0],f=a.clientX,v=a.clientY;Math.abs(c-f)+Math.abs(u-v)>r&&(h=-1),c=e.clientX=f,u=e.clientY=v,w=E=0;var S=new i(e,t);if(g=S.getDocumentPosition(),o-h<500&&1==n.length&&!b)x++,e.preventDefault(),e.button=0,function(){p=null,clearTimeout(p),t.selection.moveToPosition(g);var e=x>=2?t.selection.getLineRange(g.row):t.session.getBracketRange(g);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),y="wait"}();else{x=0;var C=t.selection.cursor,k=t.selection.isEmpty()?C:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(C,!0),D=t.renderer.$cursorLayer.getPixelPosition(k,!0),_=t.renderer.scroller.getBoundingClientRect(),T=t.renderer.layerConfig.offset,M=t.renderer.scrollLeft,L=function(e,t){return(e/=s)*e+(t=t/r-.75)*t};if(e.clientX<_.left)return void(y="zoom");var $=L(e.clientX-_.left-A.left+M,e.clientY-_.top-A.top+T),R=L(e.clientX-_.left-D.left+M,e.clientY-_.top-D.top+T);$<3.5&&R<3.5&&(y=$>R?"cursor":"anchor"),y=R<3.5?"anchor":$<3.5?"cursor":"scroll",p=setTimeout(l,450)}h=o}),t),r.addListener(e,"touchend",(function(e){m=t.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),"zoom"==y?(y="",b=0):p?(t.selection.moveToPosition(g),b=0,o()):"scroll"==y?(b+=60,f=setInterval((function(){b--<=0&&(clearInterval(f),f=null),Math.abs(w)<.01&&(w=0),Math.abs(E)<.01&&(E=0),b<20&&(w*=.9),b<20&&(E*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*w,10*E),e==t.session.getScrollTop()&&(b=0)}),10),a()):o(),clearTimeout(p),p=null}),t),r.addListener(e,"touchmove",(function(e){p&&(clearTimeout(p),p=null);var n=e.touches;if(!(n.length>1||"zoom"==y)){var r=n[0],s=c-r.clientX,o=u-r.clientY;if("wait"==y){if(!(s*s+o*o>4))return e.preventDefault();y="cursor"}c=r.clientX,u=r.clientY,e.clientX=r.clientX,e.clientY=r.clientY;var a=e.timeStamp,l=a-d;if(d=a,"scroll"==y){var h=new i(e,t);h.speed=1,h.wheelX=s,h.wheelY=o,10*Math.abs(s)<Math.abs(o)&&(s=0),10*Math.abs(o)<Math.abs(s)&&(o=0),0!=l&&(w=s/l,E=o/l),t._emit("mousewheel",h),h.propagationStopped||(w=E=0)}else{var f=new i(e,t).getDocumentPosition();"cursor"==y?t.selection.moveCursorToPosition(f):"anchor"==y&&t.selection.setSelectionAnchor(f.row,f.column),t.renderer.scrollCursorIntoView(f),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new s(this),new o(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),s=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?s.setCursorStyle("default"):s.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,l=function(e){if(e)return r.isWebKit&&!e.which&&o.releaseMouse?o.releaseMouse():(o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),void(o.$mouseMoved=!0))},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e),n.endOperation()},u=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){o.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=l,o.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,s=r.getFoldAt(n.row,n.column,1);s&&(t.getAccelKey()?r.removeFold(s):r.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&i.hasCssClass(o,"ace_inline_button")&&i.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),s=r.range||r.firstRange;if(s){n=s.start.row;var o=i.getFoldAt(n,i.getLine(n).length,1);o?i.removeFold(o):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,i))&&i&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(i),o)););return!o&&-1==e&&(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";function i(e,t,n,i){var r=a?p:d,f=null,g=null,m=null,v=0,y=null,b=-1,E=null,C=null,k=[];if(!i)for(E=0,i=[];E<n;E++)i[E]=o(e[E]);for(l=a,c=!1,u=!1,h=!1,C=0;C<n;C++){if(f=v,k[C]=g=s(e,i,k,C),y=240&(v=r[f][g]),v&=15,t[C]=m=r[v][5],y>0)if(16==y){for(E=b;E<C;E++)t[E]=1;b=-1}else b=-1;if(r[v][6])-1==b&&(b=C);else if(b>-1){for(E=b;E<C;E++)t[E]=m;b=-1}i[C]==x&&(t[C]=0),l|=m}if(h)for(E=0;E<n;E++)if(i[E]==w){t[E]=a;for(var A=E-1;A>=0&&i[A]==S;A--)t[A]=a}}function r(e,t,n){if(!(l<e))if(1!=e||a!=f||u)for(var i,r,s,o,c=n.length,h=0;h<c;){if(t[h]>=e){for(i=h+1;i<c&&t[i]>=e;)i++;for(r=h,s=i-1;r<s;r++,s--)o=n[r],n[r]=n[s],n[s]=o;h=i}h++}else n.reverse()}function s(e,t,n,i){var r,s,o,l,d=t[i];switch(d){case g:case m:c=!1;case b:case y:return d;case v:return c?y:v;case E:return c=!0,m;case S:return b;case C:return i<1||i+1>=t.length||(r=n[i-1])!=v&&r!=y||(s=t[i+1])!=v&&s!=y?b:(c&&(s=y),s==r?s:b);case k:return(r=i>0?n[i-1]:x)==v&&i+1<t.length&&t[i+1]==v?v:b;case A:if(i>0&&n[i-1]==v)return v;if(c)return b;for(l=i+1,o=t.length;l<o&&t[l]==A;)l++;return l<o&&t[l]==v?v:b;case D:for(o=t.length,l=i+1;l<o&&t[l]==D;)l++;if(l<o){var p=e[i],f=p>=1425&&p<=2303||64286==p;if(r=t[l],f&&(r==m||r==E))return m}return i<1||(r=t[i-1])==x?b:n[i-1];case x:return c=!1,u=!0,a;case w:return h=!0,b;case _:case T:case L:case $:case M:c=!1;case R:return b}}function o(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?g:F[t]:5==n?/[\u0591-\u05f4]/.test(e)?m:g:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?D:/[\u0660-\u0669\u066b-\u066c]/.test(e)?y:1642==t?A:/[\u06f0-\u06f9]/.test(e)?v:E:32==n&&t<=8287?B[255&t]:254==n&&t>=65136?E:b}var a=0,l=0,c=!1,u=!1,h=!1,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f=1,g=0,m=1,v=2,y=3,b=4,x=5,w=6,E=7,S=8,C=9,k=10,A=11,D=12,_=13,T=14,M=15,L=16,$=17,R=18,F=[R,R,R,R,R,R,R,R,R,w,x,w,S,x,R,R,R,R,R,R,R,R,R,R,R,R,R,R,x,x,x,w,S,b,b,A,A,A,b,b,b,b,b,k,C,k,C,C,v,v,v,v,v,v,v,v,v,v,C,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,R,R,R,R,R,R,x,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,C,b,A,A,A,A,b,b,b,b,g,b,b,R,b,b,A,A,v,v,b,g,b,b,b,v,g,b,b,b,b,b],B=[S,S,S,S,S,S,S,S,S,S,S,R,R,R,g,m,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,S,x,_,T,M,L,$,C,A,A,A,A,A,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,C,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,S];t.L=g,t.R=m,t.EN=v,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,n,s){if(e.length<2)return{};var o=e.split(""),l=new Array(o.length),c=new Array(o.length),u=[];a=s?f:0,i(o,u,o.length,n);for(var h=0;h<l.length;l[h]=h,h++);for(r(2,u,l),r(1,u,l),h=0;h<l.length-1;h++)n[h]===y?u[h]=t.AN:u[h]===m&&(n[h]>E&&n[h]<_||n[h]===b||n[h]===R)?u[h]=t.ON_R:h>0&&"ل"===o[h-1]&&/\u0622|\u0623|\u0625|\u0627/.test(o[h])&&(u[h-1]=u[h]=t.R_H,h++);for(o[o.length-1]===t.DOT&&(u[o.length-1]=t.B),"‫"===o[0]&&(u[0]=t.RLE),h=0;h<l.length;h++)c[h]=u[l[h]];return{logicalFromVisual:l,bidiLevels:c}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=o(e.charAt(i)),!n&&(t[i]==m||t[i]==E||t[i]==y)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[e];s&&(void 0===t&&(t=this.getSplitIndex()),t>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<s.length?this.line.substring(s[t-1],s[t]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[t]),t==s.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(o="\t"===e?a.getScreenTabSize(t+l):2,l+=o-1,r.stringRepeat(i.DOT,o)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("ה");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[r]%2!=0&&r++;for(var a=0;a<r;a++)o+=this.charWidths[s[a]];return!this.session.getOverwrite()&&e>t&&s[r]%2==0&&(o+=this.charWidths[s[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,s=[],o=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<r.length;p++)d=i.logicalFromVisual[p],n=r[p],(c=d>=a&&d<l)&&!u?h=o:!c&&u&&s.push({left:h,width:o-h}),o+=this.charWidths[n],u=c;if(c&&p===r.length&&s.push({left:h,width:o-h}),this.isRtlDir)for(var f=0;f<s.length;f++)s[f].left+=this.rtlLineOffset;return s},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+s/2;){if(n+=s,i===r.length-1){s=0;break}s=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===s&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==s&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(o.prototype),t.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")}))};(function(){i.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var s=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var s=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<s&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var s=r.stringReverse(i),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var s=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,s=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&-1===o.indexOf("i")&&(o+="i"),c.unicode&&-1===o.indexOf("u")&&(o+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),s[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,s=n.length;r<s;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,s,o,a,l){return i?i="]"!=a:a?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",s=this.states[i];s||(i="start",s=this.states[i]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=o.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=s[o[y]]).onMatch?f.onMatch(g,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(s=this.states[i])||(this.reportError("state doesn't exist",i),i="start",s=this.states[i]),o=this.matchMappings[i],u=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(u=m);break}if(g)if("string"==typeof p)f&&!1===f.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p)for(d.type&&c.push(d),d={type:null,value:""},y=0;y<p.length;y++)c.push(p[y]);if(u==e.length)break;if(u=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(s.prototype),t.Tokenizer=s})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(t)&&(s.next=t+s.next),s.nextState&&0!==s.nextState.indexOf(t)&&(s.nextState=t+s.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,s){var o="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],o)r.push(t+l);if(this.addRules(o,t),n){var c=Array.prototype[s?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(s){var o=i[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,l.next=h,r(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),o.splice.apply(o,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var s=e[t].split(i||"|"),o=s.length;o--;){var a=s[o];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,r,s,o){var l=r.getCursorPosition(),c=s.doc.getLine(l.row);if("{"==o){d(r);var u=r.getSelectionRange(),h=s.doc.getTextRange(u);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return p(u,h,"{","}");if(f.isSaneInsertion(r,s))return/[\]\}\)]/.test(c[l.column])||r.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(r,s,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(r,s,"{"),{text:"{",selection:[1,1]})}else if("}"==o){if(d(r),"}"==c.substring(l.column,l.column+1)&&null!==s.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,o))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==o||"\r\n"==o){d(r);var g="";if(f.isMaybeInsertedClosing(l,c)&&(g=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=s.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(s.getLine(m.row))}else{if(!g)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+s.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(d(n),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,r){if("("==r){d(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return p(s,o,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(d(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,r){if("["==r){d(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return p(s,o,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(d(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var s=i.$mode.$quotes||h;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var o=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&(1!=l.length||!s[l])&&n.getWrapBehavioursEnabled())return p(a,l,o,o);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),f=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),x=!v||/string|escape/.test(v.type);if(g==o)(y=b!==x)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!x)return null;if(b&&x)return null;var w=i.$mode.tokenRe;w.lastIndex=0;var E=w.test(f);w.lastIndex=0;var S=w.test(f);if(E||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var C=u[c.column-2];if(f==o&&(C==o||w.test(C)))return null;y=!0}return{text:y?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var s=i.$mode.$quotes||h,o=i.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(o)&&(d(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+s.substr(r.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=s.substr(0,r.column)+n,i.maybeInsertedLineEnd=s.substr(r.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(f,s),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],o=0;o<i.length;o+=2)s.push(r+=i[o]),i[o+1]&&s.push(45,r+=i[o+1]);t.wordChars=String.fromCharCode.apply(null,s)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),r=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;t<=i;t++)e(s.getLine(t),t)}var s=t.doc,o=!0,a=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(m=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(m=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),m=new RegExp("^(\\s*)(?:"+m+") ?"),h=t.getUseSoftTabs(),b=function(e,t){var n=e.match(m);if(n){var i=n[1].length,r=n[0].length;!p(e,i,r)&&" "==n[0][r-1]&&r--,s.removeInLine(t,i,r)}};var d=f+" ",p=(y=function(e,t){o&&!/\S/.test(e)||(p(e,c,c)?s.insertInLine({row:t,column:c},d):s.insertInLine({row:t,column:c},f))},x=function(e,t){return m.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%u!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,g=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),v=new RegExp("(?:"+l.escapeRegExp(g)+")\\s*$"),y=function(e,t){x(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},g),s.insertInLine({row:t,column:c},f))},b=function(e,t){var n;(n=e.match(v))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&s.removeInLine(t,n[1].length,n[0].length)},x=function(e,n){if(m.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var w=1/0;r((function(e,t){var n=e.search(/\S/);-1!==n?(n<c&&(c=n),a&&!x(e,t)&&(a=!1)):w>e.length&&(w=e.length)})),c==1/0&&(c=w,o=!1,a=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),r(a?b:y)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;h=new u(p,f,p,f+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m,d=new u(p,f,p,f+r.end.length);break}a=g.stepForward()}d&&t.remove(d),h&&(t.remove(h),s=h.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,s=i.$modes[r];s||(i.$modes[r]=s=new n),i.$modes[t]||(i.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<o.length;t++)!function(e){var n=o[t],i=e[n];e[o[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(o=this.$modes[r])return o[e].apply(o,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var o,a=i.split(this.$embeds[s]);if(!a[0]&&a[1])return t[0]=a[1],(o=this.$modes[this.$embeds[s]])[e].apply(o,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)/keyword|support|storage/.test(r[s].token[a])&&(i=r[s].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,s=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=s.substring(0,r)+t.lines[0]+s.substring(r);else{var o=[i,1].concat(t.lines);e.splice.apply(e,o),e[i]=s.substring(0,r)+e[i],e[i+t.lines.length-1]+=s.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=s.substring(0,r)+s.substring(a):e.splice(i,l-i+1,s.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}function t(t,n,i){var r="insert"==t.action,s=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+s,column:n.column+(n.row==l.row?o:0)}:{row:a.row,column:a.column}}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,s=e.start.column,o=0,a=0;o<i;o=a){a+=t-1;var l=n.slice(o,a);l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:e.action,lines:l},!0)}e.lines=n.slice(o),e.start.row=r+o,e.start.column=s,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,s=n.length;r<s;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:s-1,column:e+n[s-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(e.row,n.length),o=t||0;o<s;++o)r+=n[o].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,s=t;n.lines[t];)t++;var o=r.getLength(),a=0;for(n.running=!1;t<o;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),s<=i&&n.fireUpdateEvent(s,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(s.prototype),t.BackgroundTokenizer=s})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),s=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l={},c=o;c<=a;c++){var u=this.cache[c];null==u&&((u=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new r(c,e.offset,c,e.offset+e.length)})),this.cache[c]=u.length?u:"");for(var h=u.length;h--;){var d=u[h].toScreenRange(n),p=d.toString();l[p]||(l[p]=!0,t.drawSingleLineMarker(e,d,this.clazz,s))}}}}).call(s.prototype),t.SearchHighlight=s})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,s=0,o=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(t,n)))return void e(null,t,n,s,a);if(!e(null,i.start.row,i.start.column,s,a)&&e(i.placeholder,i.start.row,i.start.column,s)||0===r)return;a=!i.sameRow,s=i.end.column}e(null,t,n,s,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,s=this.getNextFoldTo(e,t);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if((i=r[o]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,s=this.folds,o=this.foldData,a=s.indexOf(r),l=s[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(o,s=s.splice(a,s.length-a));return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,s=n||0;s<r.length;s++){var o=r[s],a=i(e,o.end);if(!(a>0)){var l=i(e,o.start);return 0===a?t&&0!==l?-s-2:s:l>0||0===l&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort((function(e,t){return i(e.start,t.start)}));for(var n,r=t[0],s=1;s<t.length;s++){n=r,r=t[s];var o=i(n.end,r.start);o<0||(0!=o||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(s,1),e.push(r),r=n,s--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,s=this.ranges,o=0,a=s.length;o<a&&!((u=s[o]).end.row>=i);o++);if("insert"==e.action){for(var l=r-i,c=-t.column+n.column;o<a&&!((u=s[o]).start.row>i);o++)if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&o<a-1&&u.end.column>u.start.column&&u.end.column==s[o+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;o<a&&!((u=s[o]).start.row>r);o++)u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l);if(0!=l&&o<a)for(;o<a;o++){var u;(u=s[o]).start.row+=l,u.end.row+=l}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){i(e.start,t),i(e.end,t)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var o=e("../range_list").RangeList,a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,o),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){r(e,this.start);for(var t=e.start.row,n=e.start.column,i=0,s=-1;i<this.subFolds.length&&1==(s=this.subFolds[i].range.compare(t,n));i++);var o=this.subFolds[i],a=0;if(0==s){if(o.range.containsRange(e))return o.addSubFold(e);a=1}t=e.range.end.row,n=e.range.end.column;var l=i;for(s=-1;l<this.subFolds.length&&1==(s=this.subFolds[l].range.compare(t,n));l++);0==s&&l++;for(var c=this.subFolds.splice(i,l-i,e),u=0==s?c.length-1:c.length,h=a;h<u;h++)e.addSubFold(c[h]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)}}.call(l.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s].range;if(o.contains(e,t)){if(1==n&&o.isEnd(e,t)&&!o.isEmpty())continue;if(-1==n&&o.isStart(e,t)&&!o.isEmpty())continue;return r[s]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(o=c.range.compareRange(e)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(s=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=t){a<t&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,o=!1;e instanceof s?n=e:(n=new s(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var g=i[f];if(c==g.start.row){g.addFold(n),o=!0;break}if(a==g.end.row){if(g.addFold(n),o=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,s=t.folds;if(1==s.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;n=e}for(var s=r=this.getFoldsInRangeList(n);1==r.length&&i.comparePoints(r[0].start,n.start)<0&&i.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(r):this.expandFolds(r),s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}o+=null!=e?e:s.getLine(t).substring(a,n)}}),t,n),o},this.getDisplayLine=function(e,t,n,i){var r,s=this.getFoldLine(e);return s?this.getFoldDisplayLine(s,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)})),e},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(e,t,n){var r=new o(this,e,t),s=r.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{s=r.stepBackward()}while(s&&l.test(s.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new o(this,e,t),-1!=n){var u=-1;do{if(s=r.stepForward(),-1==u){var h=this.getState(r.$row);l.test(h)||(u=r.$row)}else if(r.$row>u)break}while(s&&l.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+s.value.length-2,c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==r[s]&&(r[s]=this.getFoldWidget(s)),"start"==r[s]&&(!i||i(s))){var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,s=this.getFoldAt(e,-1===r?0:i.length,r);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,s=n.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var s=new r(e.row,e.column-1,e.row,e.column),o=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return o?[s,new r(o.row,o.column,o.row,o.column+1)]:[s]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else h==e&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./bidihandler").BidiHandler,o=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var n=this;this.bgTokenizer.on("update",(function(e){n._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(t),o._signal("session",this),this.destroyed=!1};f.$uid=0,function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r];if(t>s)n=r+1;else{if(!(t<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var s=i.length-1;r=this.getLine(e).length}else for(s=0;s<i.length&&!((r+=i[s].value.length)>=t);s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var s=t;if(s>0){do{s--}while(s>=0&&n.charAt(s).match(r));s++}for(var o=t;o<n.length&&n.charAt(o).match(r);)o++;return new u(e,s,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,o.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];("insert"==i.action||"remove"==i.action)&&this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,s=0;s<e.length;s++){var o=e[s];o.start&&(i?n(o)?(r=o.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=o.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=o.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(o.start,o.start))):i=n(o)?u.fromPoints(o.start,o.end):u.fromPoints(o.start,o.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),s=u.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row;(c=o?-e.end.column:e.start.column-e.end.column)&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=c),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=c)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var a=e.start,l=s.start,c=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=o,e.end.row+=o,e})))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var s=new u(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var h=this.getFoldLine(s);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++)(g=c[u]).start.row>=r.row&&g.shiftRow(-a);o=s}else{var d=Array(a);d.unshift(s,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,d),c=this.$foldData,u=0,g=this.getFoldLine(s)){var f=g.range.compareInside(i.row,i.column);0==f?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-i.column)):-1==f&&(g.addRemoveChars(s,0,r.column-i.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,i){var r,s,o=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=e;for(i=Math.min(i,o.length-1);u<=i;)(s=this.getFoldLine(u,s))?(r=[],s.walk(function(e,i,s,a){var l;if(null!=e){(l=this.$getDisplayTokens(e,r.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=n}else l=this.$getDisplayTokens(o[i].substring(a,s),r.length);r=r.concat(l)}.bind(this),s.end.row,o[s.end.row].length+1),l[s.start.row]=this.$computeWrapSplits(r,c,a),u=s.end.row+1):(r=this.$getDisplayTokens(o[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var t=3,n=4;this.$computeWrapSplits=function(e,i,r){function s(){var t=0;if(0===p)return t;if(d)for(var n=0;n<e.length;n++){var i=e[n];if(10==i)t+=1;else{if(11!=i){if(12==i)continue;break}t+=r}}return h&&!1!==d&&(t+=r),Math.min(t,p)}function o(t){for(var n=t-c,i=c;i<t;i++){var r=e[i];12!==r&&2!==r||(n-=1)}a.length||(f=s(),a.indent=f),u+=n,a.push(u),c=t}if(0==e.length)return[];for(var a=[],l=e.length,c=0,u=0,h=this.$wrapAsCode,d=this.$indentedSoftWrap,p=i<=Math.max(2*r,8)||!1===d?0:Math.floor(i/2),f=0;l-c>i-f;){var g=c+i-f;if(e[g-1]>=10&&e[g]>=10)o(g);else if(e[g]!=t&&e[g]!=n){for(var m=Math.max(g-(i-(i>>2)),c-1);g>m&&e[g]<t;)g--;if(h){for(;g>m&&e[g]<t;)g--;for(;g>m&&9==e[g];)g--}else for(;g>m&&e[g]<10;)g--;g>m?o(++g):(2==e[g=c+i]&&g--,o(g-f))}else{for(;g!=c-1&&e[g]!=t;g--);if(g>c){o(g);continue}for(g=c+i;g<e.length&&e[g]==n;g++);if(g==e.length)break;o(g)}}return a},this.$getDisplayTokens=function(t,n){var i,r=[];n=n||0;for(var s=0;s<t.length;s++){var o=t.charCodeAt(s);if(9==o){i=this.getScreenTabSize(r.length+n),r.push(11);for(var a=1;a<i;a++)r.push(12)}else 32==o?r.push(10):o>39&&o<48||o>57&&o<64?r.push(9):o>=4352&&e(o)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];var r,s;for(null==n&&(n=1/0),i=i||0,s=0;s<t.length&&(9==(r=t.charCodeAt(s))?i+=this.getScreenTabSize(i):r>=4352&&e(r)?i+=2:i+=1,!(i>n));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,s=0,o=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],s=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var p=this.getLength()-1,f=this.getNextFoldLine(s),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(s))>e||s>=p);)a+=l,++s>g&&(s=f.end.row+1,g=(f=this.getNextFoldLine(s,f))?f.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(f&&f.start.row<=s)i=this.getFoldDisplayLine(f),s=f.start.row;else{if(a+l<=e||s>p)return{row:p,column:this.getLine(p).length};i=this.getLine(s),f=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[s];y&&(r=y[v],v>0&&y.length&&(m=y.indent,o=y[v-1]||y[y.length-1],i=i.substring(o)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,s,v)&&(t=this.$bidiHandler.offsetToCol(n)),o+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),f?f.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,s=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((o=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),s=d.start.row):(f=this.getLine(e).substring(0,t),s=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;f.length>=m[v];)r++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var s=this.$wrapData[i];e+=s?s.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)e-=(t=o[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,s;for(n||(n=1/0),i=i||0,s=0;s<t.length&&!((i+="\t"===(r=t.charAt(s))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);s++);return[i,s]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=e}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),o.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,o){return i=new s(e,n,r,o),!(n==o&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var p=r[h],f=r[h+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new s(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(n){var x=n.start.column,w=n.start.column;for(v=0,d=o.length-1;v<d&&o[v].start.column<x&&o[v].start.row==n.start.row;)v++;for(;v<d&&o[d].end.column>w&&o[d].end.row==n.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var s=new RegExp(n,r)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,s=t.range,o=t.start;o||(o=s?s[i?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=i?"end":"start"]);var a=s?s.start.row:0,l=s?s.end.row:e.getLength()-1;if(i)var c=function(e){var n=o.row;if(!h(n,o.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=o.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=o.row;if(!h(n,o.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=o.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,r,s){var o=i?t-u+1:t;if(!(o<0||o+u>e.getLength())){var a=e.getLine(o),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(o+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!s(o,l,o+u-1,h)||void 0}}};else h=i?function(t,i,r){var s,o=e.getLine(t),a=[],l=0;for(n.lastIndex=0;s=n.exec(o);){var c=s[0].length;if(l=s.index,!c){if(l>=o.length)break;n.lastIndex=l+=1}if(s.index+c>i)break;a.push(s.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(r(t,h,t,h+(c=a[u])))return!0}}:function(t,i,r){var s,o,a=e.getLine(t);for(n.lastIndex=i;o=n.exec(a);){var l=o[0].length;if(r(t,s=o.index,t,s+l))return!0;if(!l&&(n.lastIndex=s+=1,s>=a.length))return!1}};return{forEach:c}}}).call(o.prototype),t.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function r(e,t){i.call(this,e,t),this.$singleCommand=!1}var s=e("../lib/keys"),o=e("../lib/useragent"),a=s.KEY_MODS;r.prototype=i.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==e)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(e);-1!=o&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var s=this.parseKeys(e),o=a[s.hashId]+s.key;this._addCommandToBinding(i+o,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,s=this.commandKeyBinding;if(n)if(!s[t]||this.$singleCommand)s[t]=n;else{Array.isArray(s[t])?-1!=(r=s[t].indexOf(n))&&s[t].splice(r,1):s[t]=[s[t]],"number"!=typeof i&&(i=e(n));var o=s[t];for(r=0;r<o.length&&!(e(o[r])>i);r++);o.splice(r,0,n)}else delete s[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=s[n];if(s.FUNCTION_KEYS[i])n=s.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,o=t.length;o--;){var a=s.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=a[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(i.prototype),t.HashHandler=i,t.MultiHashHandler=r})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};i.inherits(o,r),function(){i.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(o.prototype),t.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";function i(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),s=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(e){s.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(e){s.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(e,t){"number"==typeof t&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row!==t||i[s].end.column!==n)&&r.push(new o(i[s].end.row,i[s].end.column,t,n)),0===s?(0!==i[s].start.row||0!==i[s].start.column)&&r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:i("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),x=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++x.$uid,this.commands=new g(o.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new h("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};x.$uid=0,function(){i.implement(this,f),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var i="ace_bracket";Array.isArray(n)?1==n.length&&(i="ace_error_bracket"):n=[n],2==n.length&&(0==p.comparePoints(n[0].end,n[1].start)?n=[p.fromPoints(n[0].start,n[1].end)]:0==p.comparePoints(n[0].start,n[1].end)&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,i,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&!t.destroyed){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var s=r.value,o=r.value,a=0,l=i.stepBackward();if("<"===l.value)do{l=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?s===(o=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):s===o&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=l,l=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))s===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===s){a--;break}if("<"===u.value)break;u=i.stepBackward(),c++}for(var h=0;h<c;h++)i.stepForward()}}while(l&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=i.getCurrentTokenRow(),f=i.getCurrentTokenColumn(),g=new p(d,f,d,f+r.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==g.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(g,"ace_bracket","text"))}}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),s=r.substring(n,i);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),a=r.substring(n-1,i+1);if(o.test(a))return o}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var s=i[r];r&&i[r-1].start.row==s.start.row||(e+=this.session.getLine(s.start.row)+t)}}var o={text:e};return this._signal("copy",o),b.lineMode=!!n&&o.text,o.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===b.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges,o=!(2!=r.length||r[0]&&r[1]);if(r.length!=s.length||o)return this.commands.exec("insertstring",this,t);for(var a=s.length;a--;){var l=s[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=i.transformAction(n.getState(r.row),"insertion",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((o=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(o));else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new p(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new p(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var s,o,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=i.getNextLineIndent(l,c,h)),s=n.getLine(d),u!==(o=i.$getIndent(s))&&(o.length>0&&(a=new p(d,0,d,o.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove()),(e||!this.selection.isEmpty())&&this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var s=n.getTextRange(t);if("\n"==s[s.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void e.indentRows(u.first,u.last,"\t")}var i=e.getLine(t.start.row),r=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=s.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var s=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new p(t,s.start,t,s.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(s.start+1,n+c.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-i-1;o<0&&(o=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,o>=a&&o<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var p=h[d],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(p[f])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(s.escapeRegExp(p[f]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,u=0;u<c;u++){var h=u;o[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(o[u])).first,p=n.last;++u<c;){l&&o[u].moveBy(l,0);var f=this.$getSelectedRows(o[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(h=u+1);h<=u;)o[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),s=r||i.stepForward();if(s){var o,a,l=!1,c={},u=n.column-s.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;u<s.value.length&&!l;u++)if(h[s.value[u]])switch(a=h[s.value[u]]+"."+s.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),s.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(o="bracket",l=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===r.value?c[s.value]++:"</"===r.value&&c[s.value]--,-1===c[s.value]&&(o="tag",l=!0));l||(r=s,s=i.stepForward(),u=0)}while(s&&!l);if(o){var d,f;if("bracket"===o)(d=this.session.getBracketRange(n))||(f=(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var g=s.value;if(0===(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{s=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),s.value===g&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?c[g]++:"</"===r.value&&c[g]--,0===c[g]&&(l=!0)))}while(r&&!l)}s&&s.type.indexOf("tag-name")&&(f=d.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",(function(){i=!0})),o=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=s.top-o.offset;null!=(i=s.top>=0&&a+t.top<0||!(s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;v.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}.call(x.prototype),v.defineOptions(x.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=x})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(e){return{row:e.row,column:e.column}}function r(e){if(e=e||this,Array.isArray(e))return e.map(r).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(s).join("\n"):s(e.value)),e.start&&(t+=s(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function s(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function o(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(g(t.start,e.end)>=0)c(t,e,-1);else{if(!(g(t.start,e.start)<=0))return null;c(e,t,1)}else if(n&&!i)if(g(t.start,e.end)>=0)c(t,e,-1);else{if(!(g(t.end,e.start)<=0))return null;c(e,t,-1)}else if(!n&&i)if(g(t.start,e.start)>=0)c(t,e,1);else{if(!(g(t.start,e.start)<=0))return null;c(e,t,1)}else if(!n&&!i)if(g(t.start,e.start)>=0)c(t,e,1);else{if(!(g(t.end,e.start)<=0))return null;c(e,t,-1)}return[t,e]}function a(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!o(e[n],t[i])){for(;n<e.length;){for(;i--;)o(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function l(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)g(e.start,t.start)<0?c(t,e,1):c(e,t,1);else if(n&&!i)g(e.start,t.end)>=0?c(e,t,-1):(g(e.start,t.start)<=0||c(e,f.fromPoints(t.start,e.start),-1),c(t,e,1));else if(!n&&i)g(t.start,e.end)>=0?c(t,e,-1):(g(t.start,e.start)<=0||c(t,f.fromPoints(e.start,t.start),-1),c(e,t,1));else if(!n&&!i)if(g(t.start,e.end)>=0)c(t,e,-1);else{var r,s;if(!(g(t.end,e.start)<=0))return g(e.start,t.start)<0&&(r=e,e=h(e,t.start)),g(e.end,t.end)>0&&(s=h(e,t.end)),u(t.end,e.start,e.end,-1),s&&!r&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,r,s].filter(Boolean);c(e,t,-1)}return[t,e]}function c(e,t,n){u(e.start,t.start,t.end,n),u(e.end,t.start,t.end,n)}function u(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function h(e,t){var n=e.lines,r=e.end;e.end=i(t);var s=e.end.row-e.start.row,o=n.splice(s,n.length),a=s?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:i(t),end:r,lines:o,action:e.action}}function d(e,t){t=function(e){return{start:i(e.start),end:i(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],s=0;s<r.length;s++){var o=l(r[s],t);t=o[0],2!=o.length&&(o[2]?(r.splice(s+1,1,o[1],o[2]),s++):o[1]||(r.splice(s,1),s--))}r.length||e.splice(n,1)}return e}var p=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,s=n.length;s--;){var o=n[s][0];if(o.id<t&&!i&&(i=s+1),o.id<=e){r=s+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=a(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)d(e,i[r])})(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?r(e):r(this.$undoStack)+"\n---\n"+r(this.$redoStack)}}).call(p.prototype);var f=e("./range").Range,g=f.comparePoints;f.comparePoints,t.UndoManager=p})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var s=this.cellCache.pop();if(!s){var o=i.createElement("div");r&&r(o),this.element.appendChild(o),s={element:o,text:"",row:e}}return s.row=e,s}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";function i(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}var r=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,l=e("./lines").Lines,c=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new l(this.element),this.$lines.$offsetCoefficient=1};(function(){s.implement(this,a),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type,l=n.className;l?r.className=l:"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"==a&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0!==n)if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(n),o=s?s.start.row:1/0,a=null,l=-1,c=n;;){if(c>o&&(c=s.end.row+1,o=(s=t.getNextFoldLine(c,s))?s.start.row:1/0),c>r){for(;this.$lines.getLength()>l+1;)this.$lines.pop();break}(a=this.$lines.get(++l))?a.row=c:(a=this.$lines.createCell(c,e,this.session,i),this.$lines.push(a)),this.$renderCell(a,e,s,c),c++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var s=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)!==this.gutterWidth&&!isNaN(s)&&(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var r=[],s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,a=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var l=this.$lines.createCell(s,e,this.session,i);this.$renderCell(l,e,o,s),r.push(l),s++}return r},this.$renderCell=function(e,t,n,i){var s=e.element,o=this.session,a=s.childNodes[0],l=s.childNodes[1],c=o.$firstLineNumber,u=o.$breakpoints,h=o.$decorations,d=o.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&o.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=f&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[i]&&(g+=u[i]),h[i]&&(g+=h[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),s.className!=g&&(s.className=g),p){var m=p[i];null==m&&(m=p[i]=o.getFoldWidget(i))}if(m){g="ace_fold-widget ace_"+m,"start"==m&&i==f&&i<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";r.setStyle(l.style,"height",v),r.setStyle(l.style,"display","inline-block")}else l&&r.setStyle(l.style,"display","none");var y=(d?d.getText(o,i):i+c).toString();return y!==a.data&&(a.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,o)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,o)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(c.prototype),t.Gutter=c})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,s,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,r,s,o){for(var a=this.session,l=n.start.row,c=n.end.row,u=l,h=0,d=0,p=a.getScreenLastRowColumn(u),f=new i(u,n.start.column,u,d);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?n.start.column:a.getRowWrapIndent(u),f.end.column=p,h=d,d=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,f,r+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,h<d,d>p,u==c),s,u==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=s+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+o+"px;width:"+u+"px;top:"+a+"px;left:"+s+"px;"+(r||""))}if(!((o=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+o+"px;right:0;top:"+a+"px;left:"+s+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,s);var o=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(s||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,s){var o=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+o+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(s||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-s),this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))}}).call(s.prototype),t.Marker=s})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=s.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(s.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+o,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),s=this.element.childNodes,o=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var h=s[o++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;o<this.$lines.cells.length;){var p=this.$lines.cells[o++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,n){for(var i=[],s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,a=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var l=this.$lines.createCell(s,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(c,s,s==a&&o),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),s++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,o=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;r=a.exec(i);){var u=r[1],h=r[2],d=r[3],p=r[4],f=r[5];if(o.showSpaces||!h){var g=c!=r.index?i.slice(c,r.index):"";if(c=r.index+r[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),u){var m=o.session.getScreenTabSize(t+r.index);l.appendChild(o.$tabStrings[m].cloneNode(!0)),t+=m-1}else h?o.showSpaces?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",y.textContent=s.stringRepeat(o.SPACE_CHAR,h.length),l.appendChild(y)):l.appendChild(this.com.createTextNode(h,this.element)):d?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",y.textContent=s.stringRepeat(o.SPACE_CHAR,d.length),l.appendChild(y)):p?(t+=1,(y=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",y.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=o.showSpaces?o.SPACE_CHAR:p,l.appendChild(y)):f&&(t+=1,(y=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",y.className="ace_cjk",y.textContent=f,l.appendChild(y))}}if(l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element)),this.$textToken[n.type])e.appendChild(l);else{var v="ace_"+n.type.replace(/\./g," ace_"),y=this.dom.createElement("span");"fold"==n.type&&(y.style.width=n.value.length*this.config.characterWidth+"px"),y.className=v,y.appendChild(l),e.appendChild(y)}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,s=0;s<r;s++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(s=0;s<i;s++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,s=0;s<r.length;s++)if(t.row!==r[s].start.row){this.$highlightIndentGuideMarker.end=r[s].start.row,t.row>r[s].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,s=t.row+1;s<e.length;s++){var o=e[s],a=/^\s*/.exec(o)[0].length;if(""!==o&&(this.$highlightIndentGuideMarker.end=s,a<=n))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;n&&n[t-1]&&n[t-1].classList&&n[t-1].classList.add("ace_indent-guide-active")}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--)if(i=e[n],this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,o=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,o)))continue;i-=h.length}if(i+h.length<o)a=this.$renderToken(l,a,u,h),i+=h.length;else{for(;i+h.length>=o;)a=this.$renderToken(l,a,u,h.substring(0,o-i)),h=h.substring(o-i),i=o,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat(" ",n.indent),this.element)),a=0,o=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var n=0,i=0;i<t.length;i++){var r=t[i],s=r.value;if(0!=i||!this.displayIndentGuides||(s=this.renderIndentGuide(e,s))){if(n+s.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,s);n=this.$renderToken(e,n,r,s)}}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=r?"<hide>":"<click to see more...>",e.appendChild(s)},this.$renderLine=function(e,t,n){if(!n&&0!=n&&(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var s=this.session.getRowSplitData(t);s&&s.length?(this.$renderWrappedLine(e,i,s),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,s,o,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,s=0;s+e[r].value.length<t;)if(s+=e[r].value.length,++r==e.length)return;for(s!=t&&((o=e[r].value.substring(t-s)).length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),s=t+o.length,r+=1);s<n&&r<e.length;){var o;(o=e[r].value).length+s>n?i.push({type:e[r].type,value:o.substring(0,n-s)}):i.push(e[r]),s+=o.length,r+=1}}(r,o,s))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var s=t.length;n<s;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,e,t[n],this.session):this.isCursorInView(o,e)?(i.setStyle(l,"display","block"),i.translate(a,o.left,o.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter;r.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}");var a=function(e){this.element=r.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};i.inherits(l,a),function(){this.classSuffix="-v",i.implement(this,o),this.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,r=t.clientY,o=this.thumbTop;s.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(o+i-r);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),s.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};i.inherits(c,a),function(){this.classSuffix="-h",i.implement(this,o),this.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,r=t.clientX,o=this.thumbLeft;s.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(o+i-r);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),s.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,u="function"==typeof ResizeObserver,h=200,d=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle((function t(){e.checkForSizeChanges(),o.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=s.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function s(e,t){return[e*t[0],e*t[1]]}function o(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=s(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),c=o(this.els[2]),u=o(this.els[3]),d=n(i(u,l),i(u,c),i(r(l,c),r(u,a))),p=s(1+d[0],i(l,a)),f=s(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/h+d[1]*g[1]/h+1,v=r(s(g[0],p),s(g[1],f));return r(s(1/m/h,v),a)}var y=i(e,a),b=n(i(p,s(d[0],y)),i(f,s(d[1],y)),y);return s(h,b)}}).call(d.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,n){n.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/event_emitter").EventEmitter,o=function(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){r.implement(this,s),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var r={info:1,warning:2,error:3};i.forEach((function(e){e.priority=r[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var s=this.renderer.session.$foldData,o=0;o<i.length;o++){var a=i[o].row,l=this.compensateFoldRows(a,s),c=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-u<this.minDecorationHeight){var d=(u+h)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(d-this.halfMinDecorationHeight),h=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[i[o].type]||null,n.fillRect(0,c,this.canvasWidth,h-u)}}var p=this.renderer.session.selection.getCursor();p&&(l=this.compensateFoldRows(p.row,s),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio),n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2))},this.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n}}).call(o.prototype),t.Decorator=o})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./config"),o=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./scrollbar_custom").HScrollBar,p=e("./scrollbar_custom").VScrollBar,f=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,v=e("./css/editor.css"),y=e("./layer/decorators").Decorator,b=e("./lib/useragent"),x=b.isIE;r.importCssString(v,"ace_editor.css",!1);var w=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==s.get("useStrictCSP")&&s.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var s=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if(i&&(e||o.height!=i)&&(o.height=i,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)}return o.$dirty=!n||!i,s&&this._signal("resize",a),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,s=n.top,o=n.left;s-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:x?0:1;if(s<0||s>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else s+=this.lineHeight+2;else s+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(s,c))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var s=n.width+2*this.$padding+"px",o=n.minHeight+"px";r.setStyle(this.content.style,"width",s),r.setStyle(this.content.style,"height",o)}return e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):e&this.CHANGE_SCROLL?(this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):(e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender",e))}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var p,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var x=e.getFoldLine(v);x&&(v=x.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+f,g=this.scrollTop-p*b;var w=0;return(this.layerConfig.width!=r||o)&&(w=this.CHANGE_H_SCROLL),(o||d)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(t&&l+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(s(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var s=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.session)return clearInterval(i.$timer);s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:a,side:s-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=r.getTokens(n);if(null==i)o.push(s);else for(var a=0,l=0;l<o.length;l++){var c=o[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);o.splice(l,1,{type:c.type,value:h},s,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),r.importCssString(n.cssText,n.cssClass,i.container),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var o=e||this.$options.theme.initialValue;s.loadModule(["theme",o],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(w.prototype),s.defineOptions(w.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=w})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";function i(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var r=e("../lib/oop"),s=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,r,s,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)s=s||a.moduleUrl(n,"worker");else{var l=this.$normalizePath;s=s||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=i(s),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,r=!1,s=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&s._signal(e.event,e.data)};return s.postMessage=function(e){u.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],(function(e){for(i=new e[n](s);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=i})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,i,r,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a={row:(l=this.others[o]).row,column:l.column+s};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var l;a={row:(l=this.others[o]).row,column:l.column+s},this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}var r=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&i(f,g),v=e.x,y=e.y,b=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),w=x;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=o?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&o)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var E=d.toOrientedRange();h.addSelectionMarker(E)}var S=d.rangeList.rangeAtPoint(f);h.inVirtualSelectionMode=!0,o&&(S=null,E=d.ranges[0]||E,h.removeSelectionMarker(E)),h.once("mouseup",(function(){var e=d.toOrientedRange();S&&e.isEmpty()&&i(S.cursor,e.cursor)?d.substractPoint(e.cursor):(o?d.substractPoint(E.cursor):E&&(h.removeSelectionMarker(E),d.addRange(E)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var C,k=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);i(w,e)&&i(t,d.lead)||(w=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(k),k=d.rectangularRangeBlock(w,x),h.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=h.$mouseHandler.$clickSelection.clone()),k.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(C=d.toOrientedRange(),h.addSelectionMarker(C)),o?x=b.documentToScreenPosition(d.lead):d.moveToPosition(f),w={row:-1,column:-1};var D=A;r.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){A(),clearInterval(_),h.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),C&&(h.removeSelectionMarker(C),d.toSingleRange(C));for(var t=0;t<k.length;t++)d.addRange(k[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var _=setInterval((function(){D()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",l),e.commands.addCommands(h.defaultCommands),function(e){function t(t){i&&(e.renderer.setMouseCursor(""),i=!1)}if(e.textInput){var n=e.textInput.getElement(),i=!1;c.addListener(n,"keydown",(function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&r?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&t()}),e),c.addListener(n,"keyup",t,e),c.addListener(n,"blur",t,e)}}(e))}var s=e("./range_list").RangeList,o=e("./range").Range,a=e("./selection").Selection,l=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),u=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=new(0,e("./search").Search),p=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],r=i.start.row,s=i.end.row;if(r===s)t.push(i.clone());else{for(t.push(new o(r,i.start.column,r,this.session.getLine(r).length));++r<s;)t.push(this.getLineRange(r,!0));t.push(new o(s,0,s,i.end.column))}0==n&&!this.isBackwards()&&(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),r=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var a=e.column,l=t.column,c=e.offsetX,u=t.offsetX;else a=t.column,l=e.column,c=t.offsetX,u=e.offsetX;var h,d=e.row<t.row;if(d)var p=e.row,f=t.row;else p=t.row,f=e.row;a<0&&(a=0),p<0&&(p=0),p==f&&(n=!0);for(var g=p;g<=f;g++){var m=o.fromPoints(this.session.screenToDocumentPosition(g,a,c),this.session.screenToDocumentPosition(g,l,u));if(m.isEmpty()){if(h&&i(m.end,h))break;h=m.end}m.cursor=s?m.start:m.end,r.push(m)}if(d&&r.reverse(),!n){for(var v=r.length-1;r[v].isEmpty()&&v>0;)v--;if(v>0)for(var y=0;r[y].isEmpty();)y++;for(var b=v;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(a.prototype);var f=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,o=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new a(o);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=o.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});!i&&void 0!==f&&(i=f),d.toOrientedRange(u[p])}d.detach(),this.selection=o.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(s=o.fromPoints(a,c)).cursor=s.start:(s=o.fromPoints(c,a)).cursor=s.end,s.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)if((a=i[r]).isEmpty()){var s=t.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(t.getTextRange(a))}for(e<0?o.unshift(o.pop()):o.push(o.shift()),r=i.length;r--;)s=(a=i[r]).clone(),t.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column;n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var s=i.getTextRange(r),o=function(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}(i,s,e);o&&(o.cursor=-1==e?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&r.length!=n.length-1){r.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,l=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,r=s-i.column,c=l[n]-a;r>c?e.insert(i,u.stringRepeat(" ",r-c)):e.remove(new o(i.row,i.column,i.row,i.column-r+c)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),h=c.start.row,d=c.end.row,p=h==d;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<g);do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,p),this.session.insert({row:h,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return u.stringRepeat(" ",e)}function i(e){return e[2]?n(r)+e[2]+n(s-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var r,s,o,a=!0,l=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==r?(r=t[1].length,s=t[2].length,o=t[3].length,t):(r+s+o!=t[1].length+t[2].length+t[3].length&&(l=!1),r!=t[1].length&&(a=!1),r>t[1].length&&(r=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]})).map(t?i:a?l?function(e){return e[2]?n(r+s-e[2].length)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:i:function(e){return e[2]?n(r)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(f.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r,e("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(e){r(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",l)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",l))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,s=e.getLine(t),o=s.search(r);if(-1!=o){for(var a=n||s.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=o){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var p=e.getLine(u).length;return new i(c,a,u,p)}}},this.openingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,i.fromPoints(a,o)}}).call(r.prototype)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=e("./lib/dom");(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,s=i.end.row,o="add"==e.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0!==i)if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var s=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";function i(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var s=i+r>>1,o=n(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}var r=e("../line_widgets").LineWidgets,s=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var h=u[0];o.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,o.row=h.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},p=d.el.appendChild(s.createElement("div")),f=d.el.appendChild(s.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(o).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(s.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var i=e("./lib/dom"),r=e("./lib/event"),s=e("./range").Range,o=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var s=e;if(!(e=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=i.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var u=t.createEditSession(a),h=new o(new c(e),u,n),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),r.addListener(window,"resize",d.onResize),h.on("destroy",(function(){r.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=s,t.Editor=o,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},9063:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},s.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(s,r),s.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},s.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=s})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";function i(){var e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,r("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function r(e){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var s=e("../lib/oop"),o=e("./doc_comment_highlight_rules").DocCommentHighlightRules,a=e("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",c=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),r("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),r("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),(!e||0!=e.jsx)&&i.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};s.inherits(c,a),t.JavaScriptHighlightRules=c})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,s=e.findMatchingBracket({row:t,column:r});if(!s||s.row==t)return 0;var o=this.$getIndent(e.getLine(s.row));e.replace(new i(t,0,t,r-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,s=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(o,s),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,s=e.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(e,s,n);if(r=s.match(this.foldingStartMarker)){var o=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,o);var a=e.getCommentFoldRange(n,o+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=s.match(this.foldingStopMarker))?(o=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,o):e.getCommentFoldRange(n,o,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),s=t,o=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=s)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(s,o,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),s=e.getLength(),o=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<s;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>o)return new r(o,i,n,t.length)}}.call(o.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=s,this.$outdent=new o,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),s=r.tokens,o=r.state;if(s.length&&"comment"==s[s.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/javascript"],(function(t){e&&(e.exports=t)}))},9142:function(e,t,n){var i;i=function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i=n(1),r=function(e){e&&e("layout","dagre",i)};"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r},function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var r=function(e){return"function"==typeof e},s=n(2),o=n(3),a=n(4);function l(e){this.options=o({},s,e)}l.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,s=function(e,t){return r(t)?t.apply(e,[e]):t},o=e.boundingBox||{x1:0,y1:0,w:t.width(),h:t.height()};void 0===o.x2&&(o.x2=o.x1+o.w),void 0===o.w&&(o.w=o.x2-o.x1),void 0===o.y2&&(o.y2=o.y1+o.h),void 0===o.h&&(o.h=o.y2-o.y1);var l=new a.graphlib.Graph({multigraph:!0,compound:!0}),c={},u=function(e,t){null!=t&&(c[e]=t)};u("nodesep",e.nodeSep),u("edgesep",e.edgeSep),u("ranksep",e.rankSep),u("rankdir",e.rankDir),u("align",e.align),u("ranker",e.ranker),u("acyclicer",e.acyclicer),l.setGraph(c),l.setDefaultEdgeLabel((function(){return{}})),l.setDefaultNodeLabel((function(){return{}}));var h=n.nodes();r(e.sort)&&(h=h.sort(e.sort));for(var d=0;d<h.length;d++){var p=h[d],f=p.layoutDimensions(e);l.setNode(p.id(),{width:f.w,height:f.h,name:p.id()})}for(var g=0;g<h.length;g++){var m=h[g];m.isChild()&&l.setParent(m.id(),m.parent().id())}var v=n.edges().stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()}));r(e.sort)&&(v=v.sort(e.sort));for(var y=0;y<v.length;y++){var b=v[y];l.setEdge(b.source().id(),b.target().id(),{minlen:s(b,e.minLen),weight:s(b,e.edgeWeight),name:b.id()},b.id())}a.layout(l);for(var x,w=l.nodes(),E=0;E<w.length;E++){var S=w[E],C=l.node(S);t.getElementById(S).scratch().dagre=C}return e.boundingBox?(x={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},h.forEach((function(e){var t=e.scratch().dagre;x.x1=Math.min(x.x1,t.x),x.x2=Math.max(x.x2,t.x),x.y1=Math.min(x.y1,t.y),x.y2=Math.max(x.y2,t.y)})),x.w=x.x2-x.x1,x.h=x.y2-x.y1):x=o,h.layoutPositions(this,e,(function(t){var n=(t="object"===i(t)?t:this).scratch().dagre;return function(t){if(e.boundingBox){var n=0===x.w?0:(t.x-x.x1)/x.w,i=0===x.h?0:(t.y-x.y1)/x.h;return{x:o.x1+n*o.w,y:o.y1+i*o.h}}return t}({x:n.x,y:n.y})})),this},e.exports=l},function(e,t){e.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(e,t){return t},ready:function(){},sort:void 0,stop:function(){}}},function(e,t){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(t,n){t.exports=e}])},e.exports=i(n(681))},9058:(e,t,n)=>{"use strict";var i=n(3279),r=n(4485),s=n(7361),o=n(6968),a=n(84);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(i),u=l(r),h=l(s),d=l(o),p=l(a);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var w="undefined"==typeof window?null:window,E=w?w.navigator:null;w&&w.document;var S=f(""),C=f({}),k=f((function(){})),A="undefined"==typeof HTMLElement?"undefined":f(HTMLElement),D=function(e){return e&&e.instanceString&&T(e.instanceString)?e.instanceString():null},_=function(e){return null!=e&&f(e)==S},T=function(e){return null!=e&&f(e)===k},M=function(e){return!F(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},L=function(e){return null!=e&&f(e)===C&&!M(e)&&e.constructor===Object},$=function(e){return null!=e&&f(e)===f(1)&&!isNaN(e)},R=function(e){return"undefined"===A?void 0:null!=e&&e instanceof HTMLElement},F=function(e){return B(e)||I(e)},B=function(e){return"collection"===D(e)&&e._private.single},I=function(e){return"collection"===D(e)&&!e._private.single},O=function(e){return"core"===D(e)},P=function(e){return"stylesheet"===D(e)},N=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},z=function(e){return function(e){return null!=e&&f(e)===C}(e)&&T(e.then)},W=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var i,r=this,s=arguments,o=t.apply(r,s),a=n.cache;return(i=a[o])||(i=a[o]=e.apply(r,s)),i};return n.cache={},n},V=W((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),H=W((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),j=W((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),U=function(e){return N(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},G="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",q=function(e,t){return e<t?-1:e>t?1:0},K=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];if(null!=i)for(var r=Object.keys(i),s=0;s<r.length;s++){var o=r[s];e[o]=i[o]}}return e},X={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Y=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var s=n[r];if(L(s))throw Error("Tried to set map with object key");r<n.length-1?(null==t[s]&&(t[s]={}),t=t[s]):t[s]=e.value}},J=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var s=n[r];if(L(s))throw Error("Tried to get map with object key");if(null==(t=t[s]))return t}return t},Z=w?w.performance:null,Q=Z&&Z.now?function(){return Z.now()}:function(){return Date.now()},ee=function(){if(w){if(w.requestAnimationFrame)return function(e){w.requestAnimationFrame(e)};if(w.mozRequestAnimationFrame)return function(e){w.mozRequestAnimationFrame(e)};if(w.webkitRequestAnimationFrame)return function(e){w.webkitRequestAnimationFrame(e)};if(w.msRequestAnimationFrame)return function(e){w.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(Q())}),1e3/60)}}(),te=function(e){return ee(e)},ne=Q,ie=9261,re=65599,se=5381,oe=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,i=n;!(t=e.next()).done;)i=i*re+t.value|0;return i},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;return t*re+e|0},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return(t<<5)+t+e|0},ce=function(e){return 2097152*e[0]+e[1]},ue=function(e,t){return[ae(e[0],t[0]),le(e[1],t[1])]},he=function(e,t){var n={value:0,done:!1},i=0,r=e.length;return oe({next:function(){return i<r?n.value=e.charCodeAt(i++):n.done=!0,n}},t)},de=function(){return pe(arguments)},pe=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];t=0===n?he(i):he(i,t)}return t},fe=!0,ge=null!=console.warn,me=null!=console.trace,ve=Number.MAX_SAFE_INTEGER||9007199254740991,ye=function(){return!0},be=function(){return!1},xe=function(){return 0},we=function(){},Ee=function(e){throw new Error(e)},Se=function(e){if(void 0===e)return fe;fe=!!e},Ce=function(e){Se()&&(ge?console.warn(e):(console.log(e),me&&console.trace()))},ke=function(e){return null==e?e:M(e)?e.slice():L(e)?function(e){return K({},e)}(e):e},Ae=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},De={},_e=function(){return De},Te=function(e){var t=Object.keys(e);return function(n){for(var i={},r=0;r<t.length;r++){var s=t[r],o=null==n?void 0:n[s];i[s]=void 0===o?e[s]:o}return i}},Me=function(e,t,n){for(var i=e.length-1;i>=0&&(e[i]!==t||(e.splice(i,1),!n));i--);},Le=function(e){e.splice(0,e.length)},$e=function(e,t,n){return n&&(t=j(n,t)),e[t]},Re=function(e,t,n,i){n&&(t=j(n,t)),e[t]=i},Fe="undefined"!=typeof Map?Map:function(){function e(){g(this,e),this._obj={}}return v(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Be=function(){function e(t){if(g(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var i=0;i<n.length;i++)this.add(n[i])}}return v(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Ie="undefined"!==("undefined"==typeof Set?"undefined":f(Set))?Set:Be,Oe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&O(e)){var i=t.group;if(null==i&&(i=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var r=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===i:!!t.pannable,active:!1,classes:new Ie,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),t.renderedPosition){var s=t.renderedPosition,o=e.pan(),a=e.zoom();r.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a}}var l=[];M(t.classes)?l=t.classes:_(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,u=l.length;c<u;c++){var h=l[c];h&&""!==h&&r.classes.add(h)}this.createEmitter();var d=t.style||t.css;d&&(Ce("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===n||n)&&this.restore()}else Ee("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else Ee("An element must have a core reference and parameters set")},Pe=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var r;L(t)&&!F(t)&&(t=(r=t).roots||r.root,n=r.visit,i=r.directed),i=2!==arguments.length||T(n)?i:n,n=T(n)?n:function(){};for(var s,o=this._private.cy,a=t=_(t)?this.filter(t):t,l=[],c=[],u={},h={},d={},p=0,f=this.byGroup(),g=f.nodes,m=f.edges,v=0;v<a.length;v++){var y=a[v],b=y.id();y.isNode()&&(l.unshift(y),e.bfs&&(d[b]=!0,c.push(y)),h[b]=0)}for(var x=function(){var t=e.bfs?l.shift():l.pop(),r=t.id();if(e.dfs){if(d[r])return"continue";d[r]=!0,c.push(t)}var o,a=h[r],f=u[r],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:t.same(v)?y[0]:v[0];if(!0===(o=n(t,f,b,p++,a)))return s=t,"break";if(!1===o)return"break";for(var x=t.connectedEdges().filter((function(e){return(!i||e.source().same(t))&&m.has(e)})),w=0;w<x.length;w++){var E=x[w],S=E.connectedNodes().filter((function(e){return!e.same(t)&&g.has(e)})),C=S.id();0===S.length||d[C]||(S=S[0],l.push(S),e.bfs&&(d[C]=!0,c.push(S)),u[C]=E,h[C]=h[r]+1)}};0!==l.length;){var w=x();if("continue"!==w&&"break"===w)break}for(var E=o.collection(),S=0;S<c.length;S++){var C=c[S],k=u[C.id()];null!=k&&E.push(k),E.push(C)}return{path:o.collection(E),found:o.collection(s)}}},Ne={breadthFirstSearch:Pe({bfs:!0}),depthFirstSearch:Pe({dfs:!0})};Ne.bfs=Ne.breadthFirstSearch,Ne.dfs=Ne.depthFirstSearch;var ze=Te({root:null,weight:function(e){return 1},directed:!1}),We={dijkstra:function(e){if(!L(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=ze(e),i=n.root,r=n.weight,s=n.directed,o=this,a=r,l=_(i)?this.filter(i)[0]:i[0],c={},h={},d={},p=this.byGroup(),f=p.nodes,g=p.edges;g.unmergeBy((function(e){return e.isLoop()}));for(var m=function(e){return c[e.id()]},v=function(e,t){c[e.id()]=t,y.updateItem(e)},y=new u.default((function(e,t){return m(e)-m(t)})),b=0;b<f.length;b++){var x=f[b];c[x.id()]=x.same(l)?0:1/0,y.push(x)}for(var w=function(e,t){for(var n,i=(s?e.edgesTo(t):e.edgesWith(t)).intersect(g),r=1/0,o=0;o<i.length;o++){var l=i[o],c=a(l);(c<r||!n)&&(r=c,n=l)}return{edge:n,dist:r}};y.size()>0;){var E=y.pop(),S=m(E),C=E.id();if(d[C]=S,S!==1/0)for(var k=E.neighborhood().intersect(f),A=0;A<k.length;A++){var D=k[A],T=D.id(),M=w(E,D),$=S+M.dist;$<m(D)&&(v(D,$),h[T]={node:E,edge:M.edge})}}return{distanceTo:function(e){var t=_(e)?f.filter(e)[0]:e[0];return d[t.id()]},pathTo:function(e){var t=_(e)?f.filter(e)[0]:e[0],n=[],i=t,r=i.id();if(t.length>0)for(n.unshift(t);h[r];){var s=h[r];n.unshift(s.edge),n.unshift(s.node),r=(i=s.node).id()}return o.spawn(n)}}}},Ve={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,r=n.length,s=new Array(r),o=n,a=function(e){for(var t=0;t<s.length;t++)if(s[t].has(e))return t},l=0;l<r;l++)s[l]=this.spawn(n[l]);for(var c=i.sort((function(t,n){return e(t)-e(n)})),u=0;u<c.length;u++){var h=c[u],d=h.source()[0],p=h.target()[0],f=a(d),g=a(p),m=s[f],v=s[g];f!==g&&(o.merge(h),m.merge(v),s.splice(g,1))}return o}},He=Te({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),je={aStar:function(e){var t=this.cy(),n=He(e),i=n.root,r=n.goal,s=n.heuristic,o=n.directed,a=n.weight;i=t.collection(i)[0],r=t.collection(r)[0];var l,c,h=i.id(),d=r.id(),p={},f={},g={},m=new u.default((function(e,t){return f[e.id()]-f[t.id()]})),v=new Ie,y={},b={},x=function(e,t){m.push(e),v.add(t)};x(i,h),p[h]=0,f[h]=s(i);for(var w,E=0;m.size()>0;){if(c=(l=m.pop()).id(),v.delete(c),E++,c===d){for(var S=[],C=r,k=d,A=b[k];S.unshift(C),null!=A&&S.unshift(A),null!=(C=y[k]);)A=b[k=C.id()];return{found:!0,distance:p[c],path:this.spawn(S),steps:E}}g[c]=!0;for(var D=l._private.edges,_=0;_<D.length;_++){var T=D[_];if(this.hasElementWithId(T.id())&&(!o||T.data("source")===c)){var M=T.source(),L=T.target(),$=M.id()!==c?M:L,R=$.id();if(this.hasElementWithId(R)&&!g[R]){var F=p[c]+a(T);w=R,v.has(w)?F<p[R]&&(p[R]=F,f[R]=F+s($),y[R]=l,b[R]=T):(p[R]=F,f[R]=F+s($),x($,R),y[R]=l,b[R]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},Ue=Te({weight:function(e){return 1},directed:!1}),Ge={floydWarshall:function(e){for(var t=this.cy(),n=Ue(e),i=n.weight,r=n.directed,s=i,o=this.byGroup(),a=o.nodes,l=o.edges,c=a.length,u=c*c,h=function(e){return a.indexOf(e)},d=function(e){return a[e]},p=new Array(u),f=0;f<u;f++){var g=f%c,m=(f-g)/c;p[f]=m===g?0:1/0}for(var v=new Array(u),y=new Array(u),b=0;b<l.length;b++){var x=l[b],w=x.source()[0],E=x.target()[0];if(w!==E){var S=h(w),C=h(E),k=S*c+C,A=s(x);if(p[k]>A&&(p[k]=A,v[k]=C,y[k]=x),!r){var D=C*c+S;!r&&p[D]>A&&(p[D]=A,v[D]=S,y[D]=x)}}}for(var T=0;T<c;T++)for(var M=0;M<c;M++)for(var L=M*c+T,$=0;$<c;$++){var R=M*c+$,F=T*c+$;p[L]+p[F]<p[R]&&(p[R]=p[L]+p[F],v[R]=v[L])}var B=function(e){return h(function(e){return(_(e)?t.filter(e):e)[0]}(e))},I={distance:function(e,t){var n=B(e),i=B(t);return p[n*c+i]},path:function(e,n){var i=B(e),r=B(n),s=d(i);if(i===r)return s.collection();if(null==v[i*c+r])return t.collection();var o,a=t.collection(),l=i;for(a.merge(s);i!==r;)l=i,i=v[i*c+r],o=y[l*c+i],a.merge(o),a.merge(d(i));return a}};return I}},qe=Te({weight:function(e){return 1},directed:!1,root:null}),Ke={bellmanFord:function(e){var t=this,n=qe(e),i=n.weight,r=n.directed,s=n.root,o=i,a=this,l=this.cy(),c=this.byGroup(),u=c.edges,h=c.nodes,d=h.length,p=new Fe,f=!1,g=[];s=l.collection(s)[0],u.unmergeBy((function(e){return e.isLoop()}));for(var m=u.length,v=function(e){var t=p.get(e.id());return t||(t={},p.set(e.id(),t)),t},y=function(e){return(_(e)?l.$(e):e)[0]},b=0;b<d;b++){var x=h[b],w=v(x);x.same(s)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var E=!1,S=function(e,t,n,i,r,s){var o=i.dist+s;o<r.dist&&!n.same(i.edge)&&(r.dist=o,r.pred=e,r.edge=n,E=!0)},C=1;C<d;C++){E=!1;for(var k=0;k<m;k++){var A=u[k],D=A.source(),T=A.target(),M=o(A),L=v(D),$=v(T);S(D,0,A,L,$,M),r||S(T,0,A,$,L,M)}if(!E)break}if(E)for(var R=[],F=0;F<m;F++){var B=u[F],I=B.source(),O=B.target(),P=o(B),N=v(I).dist,z=v(O).dist;if(N+P<z||!r&&z+P<N){if(f||(Ce("Graph contains a negative weight cycle for Bellman-Ford"),f=!0),!1===e.findNegativeWeightCycles)break;var W=[];N+P<z&&W.push(I),!r&&z+P<N&&W.push(O);for(var V=W.length,H=0;H<V;H++){var j=W[H],U=[j];U.push(v(j).edge);for(var G=v(j).pred;-1===U.indexOf(G);)U.push(G),U.push(v(G).edge),G=v(G).pred;for(var q=(U=U.slice(U.indexOf(G)))[0].id(),K=0,X=2;X<U.length;X+=2)U[X].id()<q&&(q=U[X].id(),K=X);(U=U.slice(K).concat(U.slice(0,K))).push(U[0]);var Y=U.map((function(e){return e.id()})).join(",");-1===R.indexOf(Y)&&(g.push(a.spawn(U)),R.push(Y))}}}return{distanceTo:function(e){return v(y(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=y(e),r=[],o=i;;){if(null==o)return t.spawn();var l=v(o),c=l.edge,u=l.pred;if(r.unshift(o[0]),o.same(n)&&r.length>0)break;null!=c&&r.unshift(c),o=u}return a.spawn(r)},hasNegativeWeightCycle:f,negativeWeightCycles:g}}},Xe=Math.sqrt(2),Ye=function(e,t,n){0===n.length&&Ee("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],r=i[1],s=i[2],o=t[r],a=t[s],l=n,c=l.length-1;c>=0;c--){var u=l[c],h=u[1],d=u[2];(t[h]===o&&t[d]===a||t[h]===a&&t[d]===o)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var f=l[p];f[1]===a?(l[p]=f.slice(),l[p][1]=o):f[2]===a&&(l[p]=f.slice(),l[p][2]=o)}for(var g=0;g<t.length;g++)t[g]===a&&(t[g]=o);return l},Je=function(e,t,n,i){for(;n>i;){var r=Math.floor(Math.random()*t.length);t=Ye(r,e,t),n--}return t},Ze={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy((function(e){return e.isLoop()}));var r=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),a=Math.floor(r/Xe);if(!(r<2)){for(var l=[],c=0;c<s;c++){var u=i[c];l.push([c,n.indexOf(u.source()),n.indexOf(u.target())])}for(var h=1/0,d=[],p=new Array(r),f=new Array(r),g=new Array(r),m=function(e,t){for(var n=0;n<r;n++)t[n]=e[n]},v=0;v<=o;v++){for(var y=0;y<r;y++)f[y]=y;var b=Je(f,l.slice(),r,a),x=b.slice();m(f,g);var w=Je(f,b,a,2),E=Je(g,x,a,2);w.length<=E.length&&w.length<h?(h=w.length,d=w,m(f,p)):E.length<=w.length&&E.length<h&&(h=E.length,d=E,m(g,p))}for(var S=this.spawn(d.map((function(e){return i[e[0]]}))),C=this.spawn(),k=this.spawn(),A=p[0],D=0;D<p.length;D++){var _=p[D],T=n[D];_===A?C.merge(T):k.merge(T)}var M=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!S.contains(t)&&n.merge(t)}))})),n},L=[M(C),M(k)];return{cut:S,components:L,partition1:C,partition2:k}}Ee("At least 2 nodes are required for Karger-Stein algorithm")}},Qe=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},et=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},tt=function(e){return{x:e[0],y:e[1]}},nt=function(e,t){return Math.atan2(t,e)-Math.PI/2},it=Math.log2||function(e){return Math.log(e)/Math.log(2)},rt=function(e){return e>0?1:e<0?-1:0},st=function(e,t){return Math.sqrt(ot(e,t))},ot=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},at=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var r=0;r<t;r++)e[r]=e[r]/n;return e},lt=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},ct=function(e,t,n,i){return{x:lt(e.x,t.x,n.x,i),y:lt(e.y,t.y,n.y,i)}},ut=function(e,t,n){return Math.max(e,Math.min(n,t))},ht=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},dt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ft=function(e){var t,n,i,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)t=n=i=r=s[0];else if(2===s.length)t=i=s[0],r=n=s[1];else if(4===s.length){var o=b(s,4);t=o[0],n=o[1],i=o[2],r=o[3]}return e.x1-=r,e.x2+=n,e.y1-=t,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},mt=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},vt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},yt=function(e,t){return vt(e,t.x1,t.y1)&&vt(e,t.x2,t.y2)},bt=function(e,t,n,i,r,s,o){var a,l=Ot(r,s),c=r/2,u=s/2,h=i-u-o;if((a=Lt(e,t,n,i,n-c+l-o,h,n+c-l+o,h,!1)).length>0)return a;var d=n+c+o;if((a=Lt(e,t,n,i,d,i-u+l-o,d,i+u-l+o,!1)).length>0)return a;var p=i+u+o;if((a=Lt(e,t,n,i,n-c+l-o,p,n+c-l+o,p,!1)).length>0)return a;var f,g=n-c-o;if((a=Lt(e,t,n,i,g,i-u+l-o,g,i+u-l+o,!1)).length>0)return a;var m=n-c+l,v=i-u+l;if((f=Tt(e,t,n,i,m,v,l+o)).length>0&&f[0]<=m&&f[1]<=v)return[f[0],f[1]];var y=n+c-l,b=i-u+l;if((f=Tt(e,t,n,i,y,b,l+o)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var x=n+c-l,w=i+u-l;if((f=Tt(e,t,n,i,x,w,l+o)).length>0&&f[0]>=x&&f[1]>=w)return[f[0],f[1]];var E=n-c+l,S=i+u-l;return(f=Tt(e,t,n,i,E,S,l+o)).length>0&&f[0]<=E&&f[1]>=S?[f[0],f[1]]:[]},xt=function(e,t,n,i,r,s,o){var a=o,l=Math.min(n,r),c=Math.max(n,r),u=Math.min(i,s),h=Math.max(i,s);return l-a<=e&&e<=c+a&&u-a<=t&&t<=h+a},wt=function(e,t,n,i,r,s,o,a,l){var c=Math.min(n,o,r)-l,u=Math.max(n,o,r)+l,h=Math.min(i,a,s)-l,d=Math.max(i,a,s)+l;return!(e<c||e>u||t<h||t>d)},Et=function(e,t,n,i,r,s,o,a){var l,c,u,h,d,p,f,g,m,v,y,b,x,w=[];c=9*n*r-3*n*n-3*n*o-6*r*r+3*r*o+9*i*s-3*i*i-3*i*a-6*s*s+3*s*a,u=3*n*n-6*n*r+n*o-n*e+2*r*r+2*r*e-o*e+3*i*i-6*i*s+i*a-i*t+2*s*s+2*s*t-a*t,h=1*n*r-n*n+n*e-r*e+i*s-i*i+i*t-s*t,0===(l=1*n*n-4*n*r+2*n*o+4*r*r-4*r*o+o*o+i*i-4*i*s+2*i*a+4*s*s-4*s*a+a*a)&&(l=1e-5),g=-27*(h/=l)+(c/=l)*(9*(u/=l)-c*c*2),p=(f=(3*u-c*c)/9)*f*f+(g/=54)*g,(d=w)[1]=0,b=c/3,p>0?(v=(v=g+Math.sqrt(p))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),y=(y=g-Math.sqrt(p))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),d[0]=-b+v+y,b+=(v+y)/2,d[4]=d[2]=-b,b=Math.sqrt(3)*(-y+v)/2,d[3]=b,d[5]=-b):(d[5]=d[3]=0,0===p?(x=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),d[0]=2*x-b,d[4]=d[2]=-(x+b)):(m=(f=-f)*f*f,m=Math.acos(g/Math.sqrt(m)),x=2*Math.sqrt(f),d[0]=-b+x*Math.cos(m/3),d[2]=-b+x*Math.cos((m+2*Math.PI)/3),d[4]=-b+x*Math.cos((m+4*Math.PI)/3)));for(var E=[],S=0;S<6;S+=2)Math.abs(w[S+1])<1e-7&&w[S]>=0&&w[S]<=1&&E.push(w[S]);E.push(1),E.push(0);for(var C,k,A,D=-1,_=0;_<E.length;_++)C=Math.pow(1-E[_],2)*n+2*(1-E[_])*E[_]*r+E[_]*E[_]*o,k=Math.pow(1-E[_],2)*i+2*(1-E[_])*E[_]*s+E[_]*E[_]*a,A=Math.pow(C-e,2)+Math.pow(k-t,2),D>=0?A<D&&(D=A):D=A;return D},St=function(e,t,n,i,r,s){var o=[e-n,t-i],a=[r-n,s-i],l=a[0]*a[0]+a[1]*a[1],c=o[0]*o[0]+o[1]*o[1],u=o[0]*a[0]+o[1]*a[1],h=u*u/l;return u<0?c:h>l?(e-r)*(e-r)+(t-s)*(t-s):c-h},Ct=function(e,t,n){for(var i,r,s,o,a=0,l=0;l<n.length/2;l++)if(i=n[2*l],r=n[2*l+1],l+1<n.length/2?(s=n[2*(l+1)],o=n[2*(l+1)+1]):(s=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),i==e&&s==e);else{if(!(i>=e&&e>=s||i<=e&&e<=s))continue;(e-i)/(s-i)*(o-r)+r>t&&a++}return a%2!=0},kt=function(e,t,n,i,r,s,o,a,l){var c,u=new Array(n.length);null!=a[0]?(c=Math.atan(a[1]/a[0]),a[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=a;for(var h,d=Math.cos(-c),p=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=s/2*(n[2*f]*d-n[2*f+1]*p),u[2*f+1]=o/2*(n[2*f+1]*d+n[2*f]*p),u[2*f]+=i,u[2*f+1]+=r;if(l>0){var g=Dt(u,-l);h=At(g)}else h=u;return Ct(e,t,h)},At=function(e){for(var t,n,i,r,s,o,a,l,c=new Array(e.length/2),u=0;u<e.length/4;u++){t=e[4*u],n=e[4*u+1],i=e[4*u+2],r=e[4*u+3],u<e.length/4-1?(s=e[4*(u+1)],o=e[4*(u+1)+1],a=e[4*(u+1)+2],l=e[4*(u+1)+3]):(s=e[0],o=e[1],a=e[2],l=e[3]);var h=Lt(t,n,i,r,s,o,a,l,!0);c[2*u]=h[0],c[2*u+1]=h[1]}return c},Dt=function(e,t){for(var n,i,r,s,o=new Array(2*e.length),a=0;a<e.length/2;a++){n=e[2*a],i=e[2*a+1],a<e.length/2-1?(r=e[2*(a+1)],s=e[2*(a+1)+1]):(r=e[0],s=e[1]);var l=s-i,c=-(r-n),u=Math.sqrt(l*l+c*c),h=l/u,d=c/u;o[4*a]=n+h*t,o[4*a+1]=i+d*t,o[4*a+2]=r+h*t,o[4*a+3]=s+d*t}return o},_t=function(e,t,n,i,r,s,o){return e-=r,t-=s,(e/=n/2+o)*e+(t/=i/2+o)*t<=1},Tt=function(e,t,n,i,r,s,o){var a=[n-e,i-t],l=[e-r,t-s],c=a[0]*a[0]+a[1]*a[1],u=2*(l[0]*a[0]+l[1]*a[1]),h=u*u-4*c*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var d=(-u+Math.sqrt(h))/(2*c),p=(-u-Math.sqrt(h))/(2*c),f=Math.min(d,p),g=Math.max(d,p),m=[];if(f>=0&&f<=1&&m.push(f),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*a[0]+e,y=m[0]*a[1]+t;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+e,m[1]*a[1]+t]:[v,y]},Mt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Lt=function(e,t,n,i,r,s,o,a,l){var c=e-r,u=n-e,h=o-r,d=t-s,p=i-t,f=a-s,g=h*d-f*c,m=u*d-p*c,v=f*u-h*p;if(0!==v){var y=g/v,b=m/v,x=-.001;return x<=y&&y<=1.001&&x<=b&&b<=1.001||l?[e+y*u,t+y*p]:[]}return 0===g||0===m?Mt(e,n,o)===o?[o,a]:Mt(e,n,r)===r?[r,s]:Mt(r,o,n)===n?[n,i]:[]:[]},$t=function(e,t,n,i,r,s,o,a){var l,c,u,h,d,p,f=[],g=new Array(n.length),m=!0;if(null==s&&(m=!1),m){for(var v=0;v<g.length/2;v++)g[2*v]=n[2*v]*s+i,g[2*v+1]=n[2*v+1]*o+r;if(a>0){var y=Dt(g,-a);c=At(y)}else c=g}else c=n;for(var b=0;b<c.length/2;b++)u=c[2*b],h=c[2*b+1],b<c.length/2-1?(d=c[2*(b+1)],p=c[2*(b+1)+1]):(d=c[0],p=c[1]),0!==(l=Lt(e,t,i,r,u,h,d,p)).length&&f.push(l[0],l[1]);return f},Rt=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(r-n)/r;return s<0&&(s=1e-5),[t[0]+s*i[0],t[1]+s*i[1]]},Ft=function(e,t){var n=It(e,t);return Bt(n)},Bt=function(e){for(var t,n,i=e.length/2,r=1/0,s=1/0,o=-1/0,a=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],r=Math.min(r,t),o=Math.max(o,t),s=Math.min(s,n),a=Math.max(a,n);for(var c=2/(o-r),u=2/(a-s),h=0;h<i;h++)t=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*u,r=Math.min(r,t),o=Math.max(o,t),s=Math.min(s,n),a=Math.max(a,n);if(s<-1)for(var d=0;d<i;d++)n=e[2*d+1]=e[2*d+1]+(-1-s);return e},It=function(e,t){var n=1/e*2*Math.PI,i=e%2==0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var r,s=new Array(2*e),o=0;o<e;o++)r=o*n+i,s[2*o]=Math.cos(r),s[2*o+1]=Math.sin(-r);return s},Ot=function(e,t){return Math.min(e/4,t/4,8)},Pt=function(e,t){return Math.min(e/10,t/10,8)},Nt=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},zt=Te({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Wt={pageRank:function(e){for(var t=zt(e),n=t.dampingFactor,i=t.precision,r=t.iterations,s=t.weight,o=this._private.cy,a=this.byGroup(),l=a.nodes,c=a.edges,u=l.length,h=u*u,d=c.length,p=new Array(h),f=new Array(u),g=(1-n)/u,m=0;m<u;m++){for(var v=0;v<u;v++)p[m*u+v]=0;f[m]=0}for(var y=0;y<d;y++){var b=c[y],x=b.data("source"),w=b.data("target");if(x!==w){var E=l.indexOfId(x),S=l.indexOfId(w),C=s(b);p[S*u+E]+=C,f[E]+=C}}for(var k=1/u+g,A=0;A<u;A++)if(0===f[A])for(var D=0;D<u;D++)p[D*u+A]=k;else for(var _=0;_<u;_++){var T=_*u+A;p[T]=p[T]/f[A]+g}for(var M,L=new Array(u),$=new Array(u),R=0;R<u;R++)L[R]=1;for(var F=0;F<r;F++){for(var B=0;B<u;B++)$[B]=0;for(var I=0;I<u;I++)for(var O=0;O<u;O++){var P=I*u+O;$[I]+=p[P]*L[O]}at($),M=L,L=$,$=M;for(var N=0,z=0;z<u;z++){var W=M[z]-L[z];N+=W*W}if(N<i)break}return{rank:function(e){return e=o.collection(e)[0],L[l.indexOf(e)]}}}},Vt=Te({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ht={degreeCentralityNormalized:function(e){e=Vt(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var r={},s={},o=0,a=0,l=0;l<i;l++){var c=n[l],u=c.id();e.root=c;var h=this.degreeCentrality(e);o<h.indegree&&(o=h.indegree),a<h.outdegree&&(a=h.outdegree),r[u]=h.indegree,s[u]=h.outdegree}return{indegree:function(e){return 0==o?0:(_(e)&&(e=t.filter(e)),r[e.id()]/o)},outdegree:function(e){return 0===a?0:(_(e)&&(e=t.filter(e)),s[e.id()]/a)}}}for(var d={},p=0,f=0;f<i;f++){var g=n[f];e.root=g;var m=this.degreeCentrality(e);p<m.degree&&(p=m.degree),d[g.id()]=m.degree}return{degree:function(e){return 0===p?0:(_(e)&&(e=t.filter(e)),d[e.id()]/p)}}},degreeCentrality:function(e){e=Vt(e);var t=this.cy(),n=this,i=e,r=i.root,s=i.weight,o=i.directed,a=i.alpha;if(r=t.collection(r)[0],o){for(var l=r.connectedEdges(),c=l.filter((function(e){return e.target().same(r)&&n.has(e)})),u=l.filter((function(e){return e.source().same(r)&&n.has(e)})),h=c.length,d=u.length,p=0,f=0,g=0;g<c.length;g++)p+=s(c[g]);for(var m=0;m<u.length;m++)f+=s(u[m]);return{indegree:Math.pow(h,1-a)*Math.pow(p,a),outdegree:Math.pow(d,1-a)*Math.pow(f,a)}}for(var v=r.connectedEdges().intersection(n),y=v.length,b=0,x=0;x<v.length;x++)b+=s(v[x]);return{degree:Math.pow(y,1-a)*Math.pow(b,a)}}};Ht.dc=Ht.degreeCentrality,Ht.dcn=Ht.degreeCentralityNormalised=Ht.degreeCentralityNormalized;var jt=Te({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ut={closenessCentralityNormalized:function(e){for(var t=jt(e),n=t.harmonic,i=t.weight,r=t.directed,s=this.cy(),o={},a=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:r}),u=0;u<l.length;u++){for(var h=0,d=l[u],p=0;p<l.length;p++)if(u!==p){var f=c.distance(d,l[p]);h+=n?1/f:f}n||(h=1/h),a<h&&(a=h),o[d.id()]=h}return{closeness:function(e){return 0==a?0:(e=_(e)?s.filter(e)[0].id():e.id(),o[e]/a)}}},closenessCentrality:function(e){var t=jt(e),n=t.root,i=t.weight,r=t.directed,s=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:r}),a=0,l=this.nodes(),c=0;c<l.length;c++){var u=l[c];if(!u.same(n)){var h=o.distanceTo(u);a+=s?1/h:h}}return s?a:1/a}};Ut.cc=Ut.closenessCentrality,Ut.ccn=Ut.closenessCentralityNormalised=Ut.closenessCentralityNormalized;var Gt=Te({weight:null,directed:!1}),qt={betweennessCentrality:function(e){for(var t=Gt(e),n=t.directed,i=t.weight,r=null!=i,s=this.cy(),o=this.nodes(),a={},l={},c=0,h=function(e,t){l[e]=t,t>c&&(c=t)},d=function(e){return l[e]},p=0;p<o.length;p++){var f=o[p],g=f.id();a[g]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),h(g,0)}for(var m=function(e){for(var t=o[e].id(),n=[],l={},c={},p={},f=new u.default((function(e,t){return p[e]-p[t]})),g=0;g<o.length;g++){var m=o[g].id();l[m]=[],c[m]=0,p[m]=1/0}for(c[t]=1,p[t]=0,f.push(t);!f.empty();){var v=f.pop();if(n.push(v),r)for(var y=0;y<a[v].length;y++){var b,x=a[v][y],w=s.getElementById(v);b=w.edgesTo(x).length>0?w.edgesTo(x)[0]:x.edgesTo(w)[0];var E=i(b);x=x.id(),p[x]>p[v]+E&&(p[x]=p[v]+E,f.nodes.indexOf(x)<0?f.push(x):f.updateItem(x),c[x]=0,l[x]=[]),p[x]==p[v]+E&&(c[x]=c[x]+c[v],l[x].push(v))}else for(var S=0;S<a[v].length;S++){var C=a[v][S].id();p[C]==1/0&&(f.push(C),p[C]=p[v]+1),p[C]==p[v]+1&&(c[C]=c[C]+c[v],l[C].push(v))}}for(var k={},A=0;A<o.length;A++)k[o[A].id()]=0;for(;n.length>0;){for(var D=n.pop(),_=0;_<l[D].length;_++){var T=l[D][_];k[T]=k[T]+c[T]/c[D]*(1+k[D])}D!=o[e].id()&&h(D,d(D)+k[D])}},v=0;v<o.length;v++)m(v);var y={betweenness:function(e){var t=s.collection(e).id();return d(t)},betweennessNormalized:function(e){if(0==c)return 0;var t=s.collection(e).id();return d(t)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};qt.bc=qt.betweennessCentrality;var Kt=Te({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Xt=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},Yt=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var r=0;r<t;r++)n+=e[r*t+i];for(var s=0;s<t;s++)e[s*t+i]=e[s*t+i]/n}},Jt=function(e,t,n){for(var i=new Array(n*n),r=0;r<n;r++){for(var s=0;s<n;s++)i[r*n+s]=0;for(var o=0;o<n;o++)for(var a=0;a<n;a++)i[r*n+a]+=e[r*n+o]*t[o*n+a]}return i},Zt=function(e,t,n){for(var i=e.slice(0),r=1;r<n;r++)e=Jt(e,i,t);return e},Qt=function(e,t,n){for(var i=new Array(t*t),r=0;r<t*t;r++)i[r]=Math.pow(e[r],n);return Yt(i,t),i},en=function(e,t,n,i){for(var r=0;r<n;r++)if(Math.round(e[r]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(t[r]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},tn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},nn=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),r=function(e){return Kt(e)}(e),s={},o=0;o<t.length;o++)s[t[o].id()]=o;for(var a,l=t.length,c=l*l,u=new Array(c),h=0;h<c;h++)u[h]=0;for(var d=0;d<n.length;d++){var p=n[d],f=s[p.source().id()],g=s[p.target().id()],m=Xt(p,r.attributes);u[f*l+g]+=m,u[g*l+f]+=m}!function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n}(u,l,r.multFactor),Yt(u,l);for(var v=!0,y=0;v&&y<r.maxIterations;)v=!1,a=Zt(u,l,r.expandFactor),u=Qt(a,l,r.inflateFactor),en(u,a,c,4)||(v=!0),y++;var b=function(e,t,n,i){for(var r=[],s=0;s<t;s++){for(var o=[],a=0;a<t;a++)Math.round(1e3*e[s*t+a])/1e3>0&&o.push(n[a]);0!==o.length&&r.push(i.collection(o))}return r}(u,l,t,i);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&tn(e[t],e[n])&&e.splice(n,1);return e}(b),b},rn={markovClustering:nn,mcl:nn},sn=function(e){return e},on=function(e,t){return Math.abs(t-e)},an=function(e,t,n){return e+on(t,n)},ln=function(e,t,n){return e+Math.pow(n-t,2)},cn=function(e){return Math.sqrt(e)},un=function(e,t,n){return Math.max(e,on(t,n))},hn=function(e,t,n,i,r){for(var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sn,o=i,a=0;a<e;a++)o=r(o,t(a),n(a));return s(o)},dn={euclidean:function(e,t,n){return e>=2?hn(e,t,n,0,ln,cn):hn(e,t,n,0,an)},squaredEuclidean:function(e,t,n){return hn(e,t,n,0,ln)},manhattan:function(e,t,n){return hn(e,t,n,0,an)},max:function(e,t,n){return hn(e,t,n,-1/0,un)}};function pn(e,t,n,i,r,s){var o;return o=T(e)?e:dn[e]||dn.euclidean,0===t&&T(e)?o(r,s):o(t,n,i,r,s)}dn["squared-euclidean"]=dn.squaredEuclidean,dn.squaredeuclidean=dn.squaredEuclidean;var fn=Te({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gn=function(e){return fn(e)},mn=function(e,t,n,i,r){var s="kMedoids"!==r?function(e){return n[e]}:function(e){return i[e](n)},o=n,a=t;return pn(e,i.length,s,(function(e){return i[e](t)}),o,a)},vn=function(e,t,n){for(var i=n.length,r=new Array(i),s=new Array(i),o=new Array(t),a=null,l=0;l<i;l++)r[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<t;c++){a=[];for(var u=0;u<i;u++)a[u]=Math.random()*(s[u]-r[u])+r[u];o[c]=a}return o},yn=function(e,t,n,i,r){for(var s=1/0,o=0,a=0;a<t.length;a++){var l=mn(n,e,t[a],i,r);l<s&&(s=l,o=a)}return o},bn=function(e,t,n){for(var i=[],r=null,s=0;s<t.length;s++)n[(r=t[s]).id()]===e&&i.push(r);return i},xn=function(e,t,n){for(var i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)if(Math.abs(e[i][r]-t[i][r])>n)return!1;return!0},wn=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},En=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var r=e[Math.floor(Math.random()*e.length)];wn(r,n,i);)r=e[Math.floor(Math.random()*e.length)];n[i]=r}else for(var s=0;s<t;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},Sn=function(e,t,n){for(var i=0,r=0;r<t.length;r++)i+=mn("manhattan",t[r],e,n,"kMedoids");return i},Cn=function(e,t,n,i,r){for(var s,o,a=0;a<t.length;a++)for(var l=0;l<e.length;l++)i[a][l]=Math.pow(n[a][l],r.m);for(var c=0;c<e.length;c++)for(var u=0;u<r.attributes.length;u++){s=0,o=0;for(var h=0;h<t.length;h++)s+=i[h][c]*r.attributes[u](t[h]),o+=i[h][c];e[c][u]=s/o}},kn=function(e,t,n,i,r){for(var s=0;s<e.length;s++)t[s]=e[s].slice();for(var o,a,l,c=2/(r.m-1),u=0;u<n.length;u++)for(var h=0;h<i.length;h++){o=0;for(var d=0;d<n.length;d++)a=mn(r.distance,i[h],n[u],r.attributes,"cmeans"),l=mn(r.distance,i[h],n[d],r.attributes,"cmeans"),o+=Math.pow(a/l,c);e[h][u]=1/o}},An=function(e){var t,n,i,r,s,o=this.cy(),a=this.nodes(),l=gn(e);r=new Array(a.length);for(var c=0;c<a.length;c++)r[c]=new Array(l.k);i=new Array(a.length);for(var u=0;u<a.length;u++)i[u]=new Array(l.k);for(var h=0;h<a.length;h++){for(var d=0,p=0;p<l.k;p++)i[h][p]=Math.random(),d+=i[h][p];for(var f=0;f<l.k;f++)i[h][f]=i[h][f]/d}n=new Array(l.k);for(var g=0;g<l.k;g++)n[g]=new Array(l.attributes.length);s=new Array(a.length);for(var m=0;m<a.length;m++)s[m]=new Array(l.k);for(var v=!0,y=0;v&&y<l.maxIterations;)v=!1,Cn(n,a,i,s,l),kn(i,r,n,a,l),xn(i,r,l.sensitivityThreshold)||(v=!0),y++;return t=function(e,t,n,i){for(var r,s,o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var l=0;l<t.length;l++){r=-1/0,s=-1;for(var c=0;c<t[0].length;c++)t[l][c]>r&&(r=t[l][c],s=c);o[s].push(e[l])}for(var u=0;u<o.length;u++)o[u]=i.collection(o[u]);return o}(a,i,l,o),{clusters:t,degreeOfMembership:i}},Dn={kMeans:function(e){var t,n=this.cy(),i=this.nodes(),r=null,s=gn(e),o=new Array(s.k),a={};s.testMode?"number"==typeof s.testCentroids?(s.testCentroids,t=vn(i,s.k,s.attributes)):t="object"===f(s.testCentroids)?s.testCentroids:vn(i,s.k,s.attributes):t=vn(i,s.k,s.attributes);for(var l,c,u,h=!0,d=0;h&&d<s.maxIterations;){for(var p=0;p<i.length;p++)a[(r=i[p]).id()]=yn(r,t,s.distance,s.attributes,"kMeans");h=!1;for(var g=0;g<s.k;g++){var m=bn(g,i,a);if(0!==m.length){for(var v=s.attributes.length,y=t[g],b=new Array(v),x=new Array(v),w=0;w<v;w++){x[w]=0;for(var E=0;E<m.length;E++)r=m[E],x[w]+=s.attributes[w](r);b[w]=x[w]/m.length,l=b[w],c=y[w],u=s.sensitivityThreshold,Math.abs(c-l)<=u||(h=!0)}t[g]=b,o[g]=n.collection(m)}}d++}return o},kMedoids:function(e){var t,n,i=this.cy(),r=this.nodes(),s=null,o=gn(e),a=new Array(o.k),l={},c=new Array(o.k);o.testMode?"number"==typeof o.testCentroids||(t="object"===f(o.testCentroids)?o.testCentroids:En(r,o.k)):t=En(r,o.k);for(var u=!0,h=0;u&&h<o.maxIterations;){for(var d=0;d<r.length;d++)l[(s=r[d]).id()]=yn(s,t,o.distance,o.attributes,"kMedoids");u=!1;for(var p=0;p<t.length;p++){var g=bn(p,r,l);if(0!==g.length){c[p]=Sn(t[p],g,o.attributes);for(var m=0;m<g.length;m++)(n=Sn(g[m],g,o.attributes))<c[p]&&(c[p]=n,t[p]=g[m],u=!0);a[p]=i.collection(g)}}h++}return a},fuzzyCMeans:An,fcm:An},_n=Te({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Tn={single:"min",complete:"max"},Mn=function(e,t,n,i,r){for(var s,o=0,a=1/0,l=r.attributes,c=function(e,t){return pn(r.distance,l.length,(function(t){return l[t](e)}),(function(e){return l[e](t)}),e,t)},u=0;u<e.length;u++){var h=e[u].key,d=n[h][i[h]];d<a&&(o=h,a=d)}if("threshold"===r.mode&&a>=r.threshold||"dendrogram"===r.mode&&1===e.length)return!1;var p,f=t[o],g=t[i[o]];p="dendrogram"===r.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},e[f.index]=p,e.splice(g.index,1),t[f.key]=p;for(var m=0;m<e.length;m++){var v=e[m];f.key===v.key?s=1/0:"min"===r.linkage?(s=n[f.key][v.key],n[f.key][v.key]>n[g.key][v.key]&&(s=n[g.key][v.key])):"max"===r.linkage?(s=n[f.key][v.key],n[f.key][v.key]<n[g.key][v.key]&&(s=n[g.key][v.key])):s="mean"===r.linkage?(n[f.key][v.key]*f.size+n[g.key][v.key]*g.size)/(f.size+g.size):"dendrogram"===r.mode?c(v.value,f.value):c(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=s}for(var y=0;y<e.length;y++){var b=e[y].key;if(i[b]===f.key||i[b]===g.key){for(var x=b,w=0;w<e.length;w++){var E=e[w].key;n[b][E]<n[b][x]&&(x=E)}i[b]=x}e[y].index=y}return f.key=g.key=f.index=g.index=null,!0},Ln=function e(t,n,i){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},$n=function e(t,n){if(!t)return"";if(t.left&&t.right){var i=e(t.left,n),r=e(t.right,n),s=n.add({group:"nodes",data:{id:i+","+r}});return n.add({group:"edges",data:{source:i,target:s.id()}}),n.add({group:"edges",data:{source:r,target:s.id()}}),s.id()}return t.value?t.value.id():void 0},Rn=function e(t,n,i){if(!t)return[];var r=[],s=[],o=[];return 0===n?(t.left&&Ln(t.left,r),t.right&&Ln(t.right,s),o=r.concat(s),[i.collection(o)]):1===n?t.value?[i.collection(t.value)]:(t.left&&Ln(t.left,r),t.right&&Ln(t.right,s),[i.collection(r),i.collection(s)]):t.value?[i.collection(t.value)]:(t.left&&(r=e(t.left,n-1,i)),t.right&&(s=e(t.right,n-1,i)),r.concat(s))},Fn=function(e){for(var t=this.cy(),n=this.nodes(),i=function(e){var t=_n(e),n=Tn[t.linkage];return null!=n&&(t.linkage=n),t}(e),r=i.attributes,s=function(e,t){return pn(i.distance,r.length,(function(t){return r[t](e)}),(function(e){return r[e](t)}),e,t)},o=[],a=[],l=[],c=[],u=0;u<n.length;u++){var h={value:"dendrogram"===i.mode?n[u]:[n[u]],key:u,index:u};o[u]=h,c[u]=h,a[u]=[],l[u]=0}for(var d=0;d<o.length;d++)for(var p=0;p<=d;p++){var f;f="dendrogram"===i.mode?d===p?1/0:s(o[d].value,o[p].value):d===p?1/0:s(o[d].value[0],o[p].value[0]),a[d][p]=f,a[p][d]=f,f<a[d][l[d]]&&(l[d]=p)}for(var g,m=Mn(o,c,a,l,i);m;)m=Mn(o,c,a,l,i);return"dendrogram"===i.mode?(g=Rn(o[0],i.dendrogramDepth,t),i.addDendrogram&&$n(o[0],t)):(g=new Array(o.length),o.forEach((function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)}))),g},Bn={hierarchicalClustering:Fn,hca:Fn},In=Te({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),On=function(e,t,n,i){var r=function(e,t){return i[t](e)};return-pn(e,i.length,(function(e){return r(t,e)}),(function(e){return r(n,e)}),t,n)},Pn=function(e,t,n){for(var i=[],r=0;r<e;r++){for(var s=-1,o=-1/0,a=0;a<n.length;a++){var l=n[a];t[r*e+l]>o&&(s=l,o=t[r*e+l])}s>0&&i.push(s)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},Nn=function(e){for(var t,n,i,r,s,o,a=this.cy(),l=this.nodes(),c=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ee("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some((function(e){return e===n}))||$(n)||Ee("Preference must be one of [".concat(i.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),In(e)}(e),u={},h=0;h<l.length;h++)u[l[h].id()]=h;n=(t=l.length)*t,i=new Array(n);for(var d=0;d<n;d++)i[d]=-1/0;for(var p=0;p<t;p++)for(var f=0;f<t;f++)p!==f&&(i[p*t+f]=On(c.distance,l[p],l[f],c.attributes));r=function(e,t){var n;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var s=0,o=e.length-1;o>=0;o--){var a=e[o];r?isFinite(a)||(e[o]=-1/0,s++):e.splice(o,1)}i&&e.sort((function(e,t){return e-t}));var l=e.length,c=Math.floor(l/2);return l%2!=0?e[c+1+s]:(e[c-1+s]+e[c+s])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=0,r=0,s=t;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,r++)}return i/r}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=1/0,r=t;r<n;r++){var s=e[r];isFinite(s)&&(i=Math.min(s,i))}return i}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=-1/0,r=t;r<n;r++){var s=e[r];isFinite(s)&&(i=Math.max(s,i))}return i}(e):t,n}(i,c.preference);for(var g=0;g<t;g++)i[g*t+g]=r;s=new Array(n);for(var m=0;m<n;m++)s[m]=0;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;for(var y=new Array(t),b=new Array(t),x=new Array(t),w=0;w<t;w++)y[w]=0,b[w]=0,x[w]=0;for(var E,S=new Array(t*c.minIterations),C=0;C<S.length;C++)S[C]=0;for(E=0;E<c.maxIterations;E++){for(var k=0;k<t;k++){for(var A=-1/0,D=-1/0,_=-1,T=0,M=0;M<t;M++)y[M]=s[k*t+M],(T=o[k*t+M]+i[k*t+M])>=A?(D=A,A=T,_=M):T>D&&(D=T);for(var L=0;L<t;L++)s[k*t+L]=(1-c.damping)*(i[k*t+L]-A)+c.damping*y[L];s[k*t+_]=(1-c.damping)*(i[k*t+_]-D)+c.damping*y[_]}for(var R=0;R<t;R++){for(var F=0,B=0;B<t;B++)y[B]=o[B*t+R],b[B]=Math.max(0,s[B*t+R]),F+=b[B];F-=b[R],b[R]=s[R*t+R],F+=b[R];for(var I=0;I<t;I++)o[I*t+R]=(1-c.damping)*Math.min(0,F-b[I])+c.damping*y[I];o[R*t+R]=(1-c.damping)*(F-b[R])+c.damping*y[R]}for(var O=0,P=0;P<t;P++){var N=o[P*t+P]+s[P*t+P]>0?1:0;S[E%c.minIterations*t+P]=N,O+=N}if(O>0&&(E>=c.minIterations-1||E==c.maxIterations-1)){for(var z=0,W=0;W<t;W++){x[W]=0;for(var V=0;V<c.minIterations;V++)x[W]+=S[V*t+W];0!==x[W]&&x[W]!==c.minIterations||z++}if(z===t)break}}for(var H=function(e,t,n){for(var i=[],r=0;r<e;r++)t[r*e+r]+n[r*e+r]>0&&i.push(r);return i}(t,s,o),j=function(e,t,n){for(var i=Pn(e,t,n),r=0;r<n.length;r++){for(var s=[],o=0;o<i.length;o++)i[o]===n[r]&&s.push(o);for(var a=-1,l=-1/0,c=0;c<s.length;c++){for(var u=0,h=0;h<s.length;h++)u+=t[s[h]*e+s[c]];u>l&&(a=c,l=u)}n[r]=s[a]}return Pn(e,t,n)}(t,i,H),U={},G=0;G<H.length;G++)U[H[G]]=[];for(var q=0;q<l.length;q++){var K=j[u[l[q].id()]];null!=K&&U[K].push(l[q])}for(var X=new Array(H.length),Y=0;Y<H.length;Y++)X[Y]=a.collection(U[H[Y]]);return X},zn={affinityPropagation:Nn,ap:Nn},Wn=Te({root:void 0,directed:!1}),Vn=function(){var e=this,t={},n=0,i=0,r=[],s=[],o={},a=function a(l,c,u){l===u&&(i+=1),t[c]={id:n,low:n++,cutVertex:!1};var h,d,p,f,g=e.getElementById(c).connectedEdges().intersection(e);0===g.size()?r.push(e.spawn(e.getElementById(c))):g.forEach((function(n){h=n.source().id(),d=n.target().id(),(p=h===c?d:h)!==u&&(f=n.id(),o[f]||(o[f]=!0,s.push({x:c,y:p,edge:n})),p in t?t[c].low=Math.min(t[c].low,t[p].id):(a(l,p,c),t[c].low=Math.min(t[c].low,t[p].low),t[c].id<=t[p].low&&(t[c].cutVertex=!0,function(n,i){for(var o=s.length-1,a=[],l=e.spawn();s[o].x!=n||s[o].y!=i;)a.push(s.pop().edge),o--;a.push(s.pop().edge),a.forEach((function(n){var i=n.connectedNodes().intersection(e);l.merge(n),i.forEach((function(n){var i=n.id(),r=n.connectedEdges().intersection(e);l.merge(n),t[i].cutVertex?l.merge(r.filter((function(e){return e.isLoop()}))):l.merge(r)}))})),r.push(l)}(c,p))))}))};e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||(i=0,a(n,n),t[n].cutVertex=i>1)}}));var l=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(l),components:r}},Hn=function(){var e=this,t={},n=0,i=[],r=[],s=e.spawn(e),o=function o(a){if(r.push(a),t[a]={index:n,low:n++,explored:!1},e.getElementById(a).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==a&&(n in t||o(n),t[n].explored||(t[a].low=Math.min(t[a].low,t[n].low)))})),t[a].index===t[a].low){for(var l=e.spawn();;){var c=r.pop();if(l.merge(e.getElementById(c)),t[c].low=t[a].index,t[c].explored=!0,c===a)break}var u=l.edgesWith(l),h=l.merge(u);i.push(h),s=s.difference(h)}};return e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||o(n)}})),{cut:s,components:i}},jn={};[Ne,We,Ve,je,Ge,Ke,Ze,Wt,Ht,Ut,qt,rn,Dn,Bn,zn,{hierholzer:function(e){if(!L(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,i,r,s=Wn(e),o=s.root,a=s.directed,l=this,c=!1;o&&(r=_(o)?this.filter(o)[0].id():o[0].id());var u={},h={};a?l.forEach((function(e){var t=e.id();if(e.isNode()){var r=e.indegree(!0),s=e.outdegree(!0),o=r-s,a=s-r;1==o?n?c=!0:n=t:1==a?i?c=!0:i=t:(a>1||o>1)&&(c=!0),u[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&u[t].push(e.id())}))}else h[t]=[void 0,e.target().id()]})):l.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?i?c=!0:i=t:n=t),u[t]=[],e.connectedEdges().forEach((function(e){return u[t].push(e.id())}))):h[t]=[e.source().id(),e.target().id()]}));var d={found:!1,trail:void 0};if(c)return d;if(i&&n)if(a){if(r&&i!=r)return d;r=i}else{if(r&&i!=r&&n!=r)return d;r||(r=i)}else r||(r=l[0].id());var p=function(e){for(var t,n,i,r=e,s=[e];u[r].length;)t=u[r].shift(),n=h[t][0],r!=(i=h[t][1])?(u[i]=u[i].filter((function(e){return e!=t})),r=i):a||r==n||(u[n]=u[n].filter((function(e){return e!=t})),r=n),s.unshift(t),s.unshift(r);return s},f=[],g=[];for(g=p(r);1!=g.length;)0==u[g[0]].length?(f.unshift(l.getElementById(g.shift())),f.unshift(l.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var m in f.unshift(l.getElementById(g.shift())),u)if(u[m].length)return d;return d.found=!0,d.trail=this.spawn(f,!0),d}},{hopcroftTarjanBiconnected:Vn,htbc:Vn,htb:Vn,hopcroftTarjanBiconnectedComponents:Vn},{tarjanStronglyConnected:Hn,tsc:Hn,tscc:Hn,tarjanStronglyConnectedComponents:Hn}].forEach((function(e){K(jn,e)}));var Un=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Un.prototype={fulfill:function(e){return Gn(this,1,"fulfillValue",e)},reject:function(e){return Gn(this,2,"rejectReason",e)},then:function(e,t){var n=this,i=new Un;return n.onFulfilled.push(Xn(e,i,"fulfill")),n.onRejected.push(Xn(t,i,"reject")),qn(n),i.proxy}};var Gn=function(e,t,n,i){return 0===e.state&&(e.state=t,e[n]=i,qn(e)),e},qn=function(e){1===e.state?Kn(e,"onFulfilled",e.fulfillValue):2===e.state&&Kn(e,"onRejected",e.rejectReason)},Kn=function(e,t,n){if(0!==e[t].length){var i=e[t];e[t]=[];var r=function(){for(var e=0;e<i.length;e++)i[e](n)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},Xn=function(e,t,n){return function(i){if("function"!=typeof e)t[n].call(t,i);else{var r;try{r=e(i)}catch(e){return void t.reject(e)}Yn(t,r)}}},Yn=function e(t,n){if(t!==n&&t.proxy!==n){var i;if("object"===f(n)&&null!==n||"function"==typeof n)try{i=n.then}catch(e){return void t.reject(e)}if("function"!=typeof i)t.fulfill(n);else{var r=!1;try{i.call(n,(function(i){r||(r=!0,i===n?t.reject(new TypeError("circular thenable chain")):e(t,i))}),(function(e){r||(r=!0,t.reject(e))}))}catch(e){r||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Un.all=function(e){return new Un((function(t,n){for(var i=new Array(e.length),r=0,s=function(n,s){i[n]=s,++r===e.length&&t(i)},o=0;o<e.length;o++)!function(t){var i=e[t];null!=i&&null!=i.then?i.then((function(e){s(t,e)}),(function(e){n(e)})):s(t,i)}(o)}))},Un.resolve=function(e){return new Un((function(t,n){t(e)}))},Un.reject=function(e){return new Un((function(t,n){n(e)}))};var Jn="undefined"!=typeof Promise?Promise:Un,Zn=function(e,t,n){var i=O(e),r=!i,s=this._private=K({duration:1e3},t,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&T(s.complete)&&s.completes.push(s.complete),r){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var a=e.pan();s.startPan={x:a.x,y:a.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Qn=Zn.prototype;K(Qn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),F(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var i=e[t];null!=i&&(e[t]=e[n],e[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var r=e.style[i],s=r.name,o=e.startStyle[s];e.startStyle[s]=r,e.style[i]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;return t="frame"===e?n.frames:n.completes,new Jn((function(e,n){t.push((function(){e()}))}))}}),Qn.complete=Qn.completed,Qn.run=Qn.play,Qn.running=Qn.playing;var ei={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++)t[n]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,i=void 0!==n.length,r=i?n:[n],s=this._private.cy||this,o=!i,a=!o;if(!s.styleEnabled())return this;var l=s.style();if(e=K({},e,t),0===Object.keys(e).length)return new Zn(r[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(a&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),a&&null!=e.renderedPosition){var c=e.renderedPosition,u=s.pan(),h=s.zoom();e.position=et(c,h,u)}if(o&&null!=e.panBy){var d=e.panBy,p=s.pan();e.pan={x:p.x+d.x,y:p.y+d.y}}var f=e.center||e.centre;if(o&&null!=f){var g=s.getCenterPan(f.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var m=e.fit,v=s.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(o&&L(e.zoom)){var y=s.getZoomedViewport(e.zoom);null!=y?(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan)):e.zoom=null}return new Zn(r[0],e)}},animate:function(){return function(e,t){var n=this,i=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=K({},e,t));for(var r=0;r<i.length;r++){var s=i[r],o=s.animated()&&(void 0===e.queue||e.queue);s.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,i=void 0!==n.length?n:[n],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var s=0;s<i.length;s++){for(var o=i[s]._private,a=o.animation.current,l=0;l<a.length;l++){var c=a[l]._private;t&&(c.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return r.notify("draw"),this}}},ti={data:function(e){return e=K({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var i=e,r=this,s=void 0!==r.length,o=s?r:[r],a=s?r[0]:r;if(_(t)){var l,c=-1!==t.indexOf(".")&&p.default(t);if(i.allowGetting&&void 0===n)return a&&(i.beforeGet(a),l=c&&void 0===a._private[i.field][t]?h.default(a._private[i.field],c):a._private[i.field][t]),l;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[t]){var u=y({},t,n);i.beforeSet(r,u);for(var f=0,g=o.length;f<g;f++){var m=o[f];i.canSet(m)&&(c&&void 0===a._private[i.field][t]?d.default(m._private[i.field],c,n):m._private[i.field][t]=n)}i.updateStyle&&r.updateStyle(),i.onSet(r),i.settingTriggersEvent&&r[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&L(t)){var v,b,x=t,w=Object.keys(x);i.beforeSet(r,x);for(var E=0;E<w.length;E++)if(b=x[v=w[E]],!i.immutableKeys[v])for(var S=0;S<o.length;S++){var C=o[S];i.canSet(C)&&(C._private[i.field][v]=b)}i.updateStyle&&r.updateStyle(),i.onSet(r),i.settingTriggersEvent&&r[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&T(t)){var k=t;r.on(i.bindingEvent,k)}else if(i.allowGetting&&void 0===t){var A;return a&&(i.beforeGet(a),A=a._private[i.field]),A}return r}},removeData:function(e){return e=K({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,i=this,r=void 0!==i.length?i:[i];if(_(t)){for(var s=t.split(/\s+/),o=s.length,a=0;a<o;a++){var l=s[a];if(!N(l)&&!n.immutableKeys[l])for(var c=0,u=r.length;c<u;c++)r[c]._private[n.field][l]=void 0}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(void 0===t){for(var h=0,d=r.length;h<d;h++)for(var p=r[h]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var m=f[g];!n.immutableKeys[m]&&(p[m]=void 0)}n.triggerEvent&&i[n.triggerFnName](n.event)}return i}}},ni={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return new Jn((function(e,t){var r=i.concat([function(t){n.off.apply(n,s),e(t)}]),s=r.concat([]);n.on.apply(n,r)}))}}},ii={};[ei,ti,ni].forEach((function(e){K(ii,e)}));var ri={animate:ii.animate(),animation:ii.animation(),animated:ii.animated(),clearQueue:ii.clearQueue(),delay:ii.delay(),delayAnimation:ii.delayAnimation(),stop:ii.stop()},si={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach((function(e){return n.push(e)})),n}M(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],r=new Ie(e),s=0;s<t.length;s++){for(var o=t[s],a=o._private,l=a.classes,c=!1,u=0;u<e.length;u++){var h=e[u];if(!l.has(h)){c=!0;break}}c||(c=l.size!==e.length),c&&(a.classes=r,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){M(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=void 0===t,r=[],s=0,o=n.length;s<o;s++)for(var a=n[s],l=a._private.classes,c=!1,u=0;u<e.length;u++){var h=e[u],d=l.has(h),p=!1;t||i&&!d?(l.add(h),p=!0):(!t||i&&d)&&(l.delete(h),p=!0),!c&&p&&(r.push(a),c=!0)}return r.length>0&&this.spawn(r).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};si.className=si.classNames=si.classes;var oi={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:G,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};oi.variable="(?:[\\w-.]|(?:\\\\"+oi.metaChar+"))+",oi.className="(?:[\\w-]|(?:\\\\"+oi.metaChar+"))+",oi.value=oi.string+"|"+oi.number,oi.id=oi.variable,function(){var e,t,n;for(e=oi.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],oi.comparatorOp+="|@"+t;for(e=oi.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(oi.comparatorOp+="|\\!"+t)}();var ai=20,li=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*q(e,t)}(e.selector,t.selector)})),ci=function(){for(var e,t={},n=0;n<li.length;n++)t[(e=li[n]).selector]=e.matches;return t}(),ui="("+li.map((function(e){return e.selector})).join("|")+")",hi=function(e){return e.replace(new RegExp("\\\\("+oi.metaChar+")","g"),(function(e,t){return t}))},di=function(e,t,n){e[e.length-1]=n},pi=[{name:"group",query:!0,regex:"("+oi.group+")",populate:function(e,t,n){var i=b(n,1)[0];t.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:ui,populate:function(e,t,n){var i=b(n,1)[0];t.checks.push({type:7,value:i})}},{name:"id",query:!0,regex:"\\#("+oi.id+")",populate:function(e,t,n){var i=b(n,1)[0];t.checks.push({type:8,value:hi(i)})}},{name:"className",query:!0,regex:"\\.("+oi.className+")",populate:function(e,t,n){var i=b(n,1)[0];t.checks.push({type:9,value:hi(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+oi.variable+")\\s*\\]",populate:function(e,t,n){var i=b(n,1)[0];t.checks.push({type:4,field:hi(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+oi.variable+")\\s*("+oi.comparatorOp+")\\s*("+oi.value+")\\s*\\]",populate:function(e,t,n){var i=b(n,3),r=i[0],s=i[1],o=i[2];o=null!=new RegExp("^"+oi.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:3,field:hi(r),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+oi.boolOp+")\\s*("+oi.variable+")\\s*\\]",populate:function(e,t,n){var i=b(n,2),r=i[0],s=i[1];t.checks.push({type:5,field:hi(s),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+oi.meta+")\\s*("+oi.comparatorOp+")\\s*("+oi.number+")\\s*\\]\\]",populate:function(e,t,n){var i=b(n,3),r=i[0],s=i[1],o=i[2];t.checks.push({type:6,field:hi(r),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:oi.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,r=e.compoundCount,s=e[e.length-1];return null!=n&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=r,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:oi.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i=t,r={checks:[]};return n.checks.push({type:11,source:i,target:r}),di(e,0,n),e.edgeCount++,r}var s={checks:[]},o=t,a={checks:[]};return s.checks.push({type:12,source:o,target:a}),di(e,0,s),e.edgeCount++,a}},{name:"undirectedEdge",separator:!0,regex:oi.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i=t,r={checks:[]};return n.checks.push({type:10,nodes:[i,r]}),di(e,0,n),e.edgeCount++,r}var s={checks:[]},o=t,a={checks:[]};return s.checks.push({type:14,node:o,neighbor:a}),di(e,0,s),a}},{name:"child",separator:!0,regex:oi.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]},r=e[e.length-1];return n.checks.push({type:15,parent:r,child:i}),di(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var s={checks:[]},o=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return s.checks.push({type:19,left:o,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:ai}],u.checks.push({type:ai}),a.checks.push({type:17,parent:u,child:c}),di(e,0,s),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:17,parent:h,child:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:oi.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]},r=e[e.length-1];return n.checks.push({type:16,ancestor:r,descendant:i}),di(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var s={checks:[]},o=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return s.checks.push({type:19,left:o,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:ai}],u.checks.push({type:ai}),a.checks.push({type:18,ancestor:u,descendant:c}),di(e,0,s),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:18,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:oi.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Ce("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],i=null==n?null:n.type;11===i?n.type=13:10===i&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];pi.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var fi=function(e){for(var t,n,i,r=0;r<pi.length;r++){var s=pi[r],o=s.name,a=e.match(s.regexObj);if(null!=a){n=a,t=s,i=o;var l=a[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:i,remaining:e}},gi={parse:function(e){var t=this,n=t.inputText=e,i=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var r=fi(n);if(null==r.expr)return Ce("The selector `"+e+"`is invalid"),!1;var s=r.match.slice(1),o=r.expr.populate(t,i,s);if(!1===o)return!1;if(null!=o&&(i=o),(n=r.remaining).match(/^\s*$/))break}var a=t[t.length-1];null!=t.currentSubject&&(a.subject=t.currentSubject),a.edgeCount=t.edgeCount,a.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return Ce("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Ce("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===c.edgeCount&&Ce("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return _(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},i=function(r,s){return r.checks.reduce((function(o,a,l){return o+(s===r&&0===l?"$":"")+function(r,s){var o=r.type,a=r.value;switch(o){case 0:var l=e(a);return l.substring(0,l.length-1);case 3:var c=r.field,u=r.operator;return"["+c+n(e(u))+t(a)+"]";case 5:var h=r.operator,d=r.field;return"["+e(h)+d+"]";case 4:return"["+r.field+"]";case 6:var p=r.operator;return"[["+r.field+n(e(p))+t(a)+"]]";case 7:return a;case 8:return"#"+a;case 9:return"."+a;case 17:case 15:return i(r.parent,s)+n(">")+i(r.child,s);case 18:case 16:return i(r.ancestor,s)+" "+i(r.descendant,s);case 19:var f=i(r.left,s),g=i(r.subject,s),m=i(r.right,s);return f+(f.length>0?" ":"")+g+m;case ai:return""}}(a,s)}),"")},r="",s=0;s<this.length;s++){var o=this[s];r+=i(o,o.subject),this.length>1&&s<this.length-1&&(r+=", ")}return this.toStringCache=r,r}},mi=function(e,t,n){var i,r,s,o=_(e),a=$(e),l=_(n),c=!1,u=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),u=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(o||l||c)&&(r=o||a?""+e:"",s=""+n),c&&(e=r=r.toLowerCase(),n=s=s.toLowerCase()),t){case"*=":i=r.indexOf(s)>=0;break;case"$=":i=r.indexOf(s,r.length-s.length)>=0;break;case"^=":i=0===r.indexOf(s);break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1}return!u||null==e&&h||(i=!i),i},vi=function(e,t){return e.data(t)},yi=[],bi=function(e,t){return e.checks.every((function(e){return yi[e.type](e,t)}))};yi[0]=function(e,t){var n=e.value;return"*"===n||n===t.group()},yi[7]=function(e,t){return function(e,t){return ci[e](t)}(e.value,t)},yi[8]=function(e,t){var n=e.value;return t.id()===n},yi[9]=function(e,t){var n=e.value;return t.hasClass(n)},yi[6]=function(e,t){var n=e.field,i=e.operator,r=e.value;return mi(function(e,t){return e[t]()}(t,n),i,r)},yi[3]=function(e,t){var n=e.field,i=e.operator,r=e.value;return mi(vi(t,n),i,r)},yi[5]=function(e,t){var n=e.field,i=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(vi(t,n),i)},yi[4]=function(e,t){var n=e.field;return e.operator,void 0!==vi(t,n)},yi[10]=function(e,t){var n=e.nodes[0],i=e.nodes[1],r=t.source(),s=t.target();return bi(n,r)&&bi(i,s)||bi(i,r)&&bi(n,s)},yi[14]=function(e,t){return bi(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&bi(e.neighbor,t)}))},yi[11]=function(e,t){return bi(e.source,t.source())&&bi(e.target,t.target())},yi[12]=function(e,t){return bi(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&bi(e.target,t)}))},yi[13]=function(e,t){return bi(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&bi(e.source,t)}))},yi[15]=function(e,t){return bi(e.child,t)&&bi(e.parent,t.parent())},yi[17]=function(e,t){return bi(e.parent,t)&&t.children().some((function(t){return bi(e.child,t)}))},yi[16]=function(e,t){return bi(e.descendant,t)&&t.ancestors().some((function(t){return bi(e.ancestor,t)}))},yi[18]=function(e,t){return bi(e.ancestor,t)&&t.descendants().some((function(t){return bi(e.descendant,t)}))},yi[19]=function(e,t){return bi(e.subject,t)&&bi(e.left,t)&&bi(e.right,t)},yi[20]=function(){return!0},yi[1]=function(e,t){return e.value.has(t)},yi[2]=function(e,t){return(0,e.value)(t)};var xi={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(bi(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var i=t[n];if(bi(i,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},wi=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||_(e)&&e.match(/^\s*$/)||(F(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):T(e)?this.addQuery({checks:[{type:2,value:e}]}):_(e)?this.parse(e)||(this.invalid=!0):Ee("A selector must be created from a string; found "))},Ei=wi.prototype;[gi,xi].forEach((function(e){return K(Ei,e)})),Ei.text=function(){return this.inputText},Ei.size=function(){return this.length},Ei.eq=function(e){return this[e]},Ei.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Ei.addQuery=function(e){this[this.length++]=e},Ei.selector=Ei.toString;var Si={allAre:function(e){var t=new wi(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new wi(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};Si.allAreNeighbours=Si.allAreNeighbors,Si.has=Si.contains,Si.equal=Si.equals=Si.same;var Ci,ki,Ai=function(e,t){return function(n,i,r,s){var o,a=n,l=this;if(null==a?o="":F(a)&&1===a.length&&(o=a.id()),1===l.length&&o){var c=l[0]._private,u=c.traversalCache=c.traversalCache||{},h=u[t]=u[t]||[],d=he(o);return h[d]||(h[d]=e.call(l,n,i,r,s))}return e.call(l,n,i,r,s)}},Di={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var r=this[i]._private.parent;r&&t.push(r)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var r=n[i];t.push(r)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n].parents();t=(t=t||i).intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:Ai((function(e){for(var t=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,r=0;r<i.length;r++)t.push(i[r]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var i=0;i<n.length;i++){var r=n[i];t.push(r),r.children().nonempty()&&e(r.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function _i(e,t,n,i){for(var r=[],s=new Ie,o=e.cy().hasCompoundNodes(),a=0;a<e.length;a++){var l=e[a];n?r.push(l):o&&i(r,s,l)}for(;r.length>0;){var c=r.shift();t(c),s.add(c.id()),o&&i(r,s,c)}return e}function Ti(e,t,n){if(n.isParent())for(var i=n._private.children,r=0;r<i.length;r++){var s=i[r];t.has(s.id())||e.push(s)}}function Mi(e,t,n){if(n.isChild()){var i=n._private.parent;t.has(i.id())||e.push(i)}}function Li(e,t,n){Mi(e,t,n),Ti(e,t,n)}Di.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _i(this,e,t,Ti)},Di.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _i(this,e,t,Mi)},Di.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _i(this,e,t,Li)},Di.ancestors=Di.parents,(Ci=ki={data:ii.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ii.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ii.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ii.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ii.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ii.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Ci.data,Ci.removeAttr=Ci.removeData;var $i,Ri,Fi=ki,Bi={};function Ii(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var i=0,r=n[0],s=r._private.edges,o=0;o<s.length;o++){var a=s[o];!t&&a.isLoop()||(i+=e(r,a))}return i}}}function Oi(e,t){return function(n){for(var i,r=this.nodes(),s=0;s<r.length;s++){var o=r[s][e](n);void 0===o||void 0!==i&&!t(o,i)||(i=o)}return i}}K(Bi,{degree:Ii((function(e,t){return t.source().same(t.target())?2:1})),indegree:Ii((function(e,t){return t.target().same(e)?1:0})),outdegree:Ii((function(e,t){return t.source().same(e)?1:0}))}),K(Bi,{minDegree:Oi("degree",(function(e,t){return e<t})),maxDegree:Oi("degree",(function(e,t){return e>t})),minIndegree:Oi("indegree",(function(e,t){return e<t})),maxIndegree:Oi("indegree",(function(e,t){return e>t})),minOutdegree:Oi("outdegree",(function(e,t){return e<t})),maxOutdegree:Oi("outdegree",(function(e,t){return e>t}))}),K(Bi,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var Pi=function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(!r.locked()){var s=r._private.position,o={x:null!=t.x?t.x-s.x:0,y:null!=t.y?t.y-s.y:0};!r.isParent()||0===o.x&&0===o.y||r.children().shift(o,n),r.dirtyBoundingBoxCache()}}},Ni={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Pi(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};$i=Ri={position:ii.data(Ni),silentPosition:ii.data(K({},Ni,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Pi(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(L(e))t?this.silentPosition(e):this.position(e);else if(T(e)){var n=e,i=this.cy();i.startBatch();for(var r=0;r<this.length;r++){var s,o=this[r];(s=n(o,r))&&(t?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(L(e)?(i={x:$(e.x)?e.x:0,y:$(e.y)?e.y:0},n=t):_(e)&&$(t)&&((i={x:0,y:0})[e]=t),null!=i){var r=this.cy();r.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(r.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var a=o.position(),l={x:a.x+i.x,y:a.y+i.y};n?o.silentPosition(l):o.position(l)}}r.endBatch()}return this},silentShift:function(e,t){return L(e)?this.shift(e,!0):_(e)&&$(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),r=i.zoom(),s=i.pan(),o=L(e)?e:void 0,a=void 0!==o||void 0!==t&&_(e);if(n&&n.isNode()){if(!a){var l=n.position();return o=Qe(l,r,s),void 0===e?o:o[e]}for(var c=0;c<this.length;c++){var u=this[c];void 0!==t?u.position(e,(t-s[e])/r):void 0!==o&&u.position(et(o,r,s))}}else if(!a)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),r=L(e)?e:void 0,s=void 0!==r||void 0!==t&&_(e),o=i.hasCompoundNodes();if(n&&n.isNode()){if(!s){var a=n.position(),l=o?n.parent():null,c=l&&l.length>0,u=c;c&&(l=l[0]);var h=u?l.position():{x:0,y:0};return r={x:a.x-h.x,y:a.y-h.y},void 0===e?r:r[e]}for(var d=0;d<this.length;d++){var p=this[d],f=o?p.parent():null,g=f&&f.length>0,m=g;g&&(f=f[0]);var v=m?f.position():{x:0,y:0};void 0!==t?p.position(e,t+v[e]):void 0!==r&&p.position({x:r.x+v.x,y:r.y+v.y})}}else if(!s)return;return this}},$i.modelPosition=$i.point=$i.position,$i.modelPositions=$i.points=$i.positions,$i.renderedPoint=$i.renderedPosition,$i.relativePoint=$i.relativePosition;var zi,Wi,Vi=Ri;zi=Wi={},Wi.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),i=n.zoom(),r=n.pan(),s=t.x1*i+r.x,o=t.x2*i+r.x,a=t.y1*i+r.y,l=t.y2*i+r.y;return{x1:s,x2:o,y1:a,y2:l,w:o-s,h:l-a}},Wi.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},Wi.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,r={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},s=n.boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),o=t.position;0!==s.w&&0!==s.h||((s={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-s.w/2,s.x2=o.x+s.w/2,s.y1=o.y-s.h/2,s.y2=o.y+s.h/2);var a=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(a=100*a/r.width.val);var l=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(l=100*l/r.width.val);var c=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(c=100*c/r.height.val);var u=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(u=100*u/r.height.val);var h=v(r.width.val-s.w,a,l),d=h.biasDiff,p=h.biasComplementDiff,f=v(r.height.val-s.h,c,u),g=f.biasDiff,m=f.biasComplementDiff;t.autoPadding=function(e,t,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(s.w,s.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(s.w,r.width.val),o.x=(-d+s.x1+s.x2+p)/2,t.autoHeight=Math.max(s.h,r.height.val),o.y=(-g+s.y1+s.y2+m)/2}function v(e,t,n){var i=0,r=0,s=t+n;return e>0&&s>0&&(i=t/s*e,r=n/s*e),{biasDiff:i,biasComplementDiff:r}}}for(var i=0;i<this.length;i++){var r=this[i],s=r._private;s.compoundBoundsClean&&!e||(n(r),t.batching()||(s.compoundBoundsClean=!0))}return this};var Hi=function(e){return e===1/0||e===-1/0?0:e},ji=function(e,t,n,i,r){i-t!=0&&r-n!=0&&null!=t&&null!=n&&null!=i&&null!=r&&(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=r>e.y2?r:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ui=function(e,t){return null==t?e:ji(e,t.x1,t.y1,t.x2,t.y2)},Gi=function(e,t,n){return $e(e,t,n)},qi=function(e,t,n){if(!t.cy().headless()){var i,r,s=t._private,o=s.rstyle,a=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(i=o.srcX,r=o.srcY):"target"===n?(i=o.tgtX,r=o.tgtY):(i=o.midX,r=o.midY);var l=s.arrowBounds=s.arrowBounds||{},c=l[n]=l[n]||{};c.x1=i-a,c.y1=r-a,c.x2=i+a,c.y2=r+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,pt(c,1),ji(e,c.x1,c.y1,c.x2,c.y2)}}},Ki=function(e,t,n){if(!t.cy().headless()){var i;i=n?n+"-":"";var r=t._private,s=r.rstyle;if(t.pstyle(i+"label").strValue){var o,a,l,c,u=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=Gi(s,"labelWidth",n),p=Gi(s,"labelHeight",n),f=Gi(s,"labelX",n),g=Gi(s,"labelY",n),m=t.pstyle(i+"text-margin-x").pfValue,v=t.pstyle(i+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(i+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,E=t.pstyle("text-background-padding").pfValue,S=p,C=d,k=C/2,A=S/2;if(y)o=f-k,a=f+k,l=g-A,c=g+A;else{switch(u.value){case"left":o=f-C,a=f;break;case"center":o=f-k,a=f+k;break;case"right":o=f,a=f+C}switch(h.value){case"top":l=g-S,c=g;break;case"center":l=g-A,c=g+A;break;case"bottom":l=g,c=g+S}}o+=m-Math.max(x,w)-E-2,a+=m+Math.max(x,w)+E+2,l+=v-Math.max(x,w)-E-2,c+=v+Math.max(x,w)+E+2;var D=n||"main",_=r.labelBounds,T=_[D]=_[D]||{};T.x1=o,T.y1=l,T.x2=a,T.y2=c,T.w=a-o,T.h=c-l;var M=y&&"autorotate"===b.strValue,L=null!=b.pfValue&&0!==b.pfValue;if(M||L){var $=M?Gi(r.rstyle,"labelAngle",n):b.pfValue,R=Math.cos($),F=Math.sin($),B=(o+a)/2,I=(l+c)/2;if(!y){switch(u.value){case"left":B=a;break;case"right":B=o}switch(h.value){case"top":I=c;break;case"bottom":I=l}}var O=function(e,t){return{x:(e-=B)*R-(t-=I)*F+B,y:e*F+t*R+I}},P=O(o,l),N=O(o,c),z=O(a,l),W=O(a,c);o=Math.min(P.x,N.x,z.x,W.x),a=Math.max(P.x,N.x,z.x,W.x),l=Math.min(P.y,N.y,z.y,W.y),c=Math.max(P.y,N.y,z.y,W.y)}var V=D+"Rot",H=_[V]=_[V]||{};H.x1=o,H.y1=l,H.x2=a,H.y2=c,H.w=a-o,H.h=c-l,ji(e,o,l,a,c),ji(r.labelBounds.all,o,l,a,c)}return e}},Xi=function(e){var t=0,n=function(e){return(e?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),(i+=n(e.includeTargetLabels))+n(e.includeOverlays)},Yi=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),i=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},i=0,r=e.length;return oe({next:function(){return i<r?n.value=e[i++]:n.done=!0,n}},void 0)}([i(t.x),i(t.y),i(n.x),i(n.y)])}return 0},Ji=function(e,t){var n,i=e._private,r=e.isEdge(),s=(null==t?Qi:Xi(t))===Qi,o=Yi(e),a=i.bbCachePosKey===o,l=t.useCache&&a,c=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!l||c(e)||r&&c(e.source())||c(e.target())?(a||e.recalculateRenderedStyle(l),n=function(e,t){var n,i,r,s,o,a,l,c=e._private.cy,u=c.styleEnabled(),h=c.headless(),d=ht(),p=e._private,f=e.isNode(),g=e.isEdge(),m=p.rstyle,v=f&&u?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},b=!u||y(e)&&(!g||y(e.source())&&y(e.target()));if(b){var x=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(x=e.pstyle("overlay-padding").value);var w=0;u&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var E=Math.max(x,w),S=0;if(u&&(S=e.pstyle("width").pfValue/2),f&&t.includeNodes){var C=e.position();o=C.x,a=C.y;var k=e.outerWidth()/2,A=e.outerHeight()/2;ji(d,n=o-k,r=a-A,i=o+k,s=a+A)}else if(g&&t.includeEdges)if(u&&!h){var D=e.pstyle("curve-style").strValue;if(n=Math.min(m.srcX,m.midX,m.tgtX),i=Math.max(m.srcX,m.midX,m.tgtX),r=Math.min(m.srcY,m.midY,m.tgtY),s=Math.max(m.srcY,m.midY,m.tgtY),ji(d,n-=S,r-=S,i+=S,s+=S),"haystack"===D){var _=m.haystackPts;if(_&&2===_.length){if(n=_[0].x,r=_[0].y,n>(i=_[1].x)){var T=n;n=i,i=T}if(r>(s=_[1].y)){var M=r;r=s,s=M}ji(d,n-S,r-S,i+S,s+S)}}else if("bezier"===D||"unbundled-bezier"===D||"segments"===D||"taxi"===D){var L;switch(D){case"bezier":case"unbundled-bezier":L=m.bezierPts;break;case"segments":case"taxi":L=m.linePts}if(null!=L)for(var $=0;$<L.length;$++){var R=L[$];n=R.x-S,i=R.x+S,r=R.y-S,s=R.y+S,ji(d,n,r,i,s)}}}else{var F=e.source().position(),B=e.target().position();if((n=F.x)>(i=B.x)){var I=n;n=i,i=I}if((r=F.y)>(s=B.y)){var O=r;r=s,s=O}ji(d,n-=S,r-=S,i+=S,s+=S)}if(u&&t.includeEdges&&g&&(qi(d,e,"mid-source"),qi(d,e,"mid-target"),qi(d,e,"source"),qi(d,e,"target")),u&&"yes"===e.pstyle("ghost").value){var P=e.pstyle("ghost-offset-x").pfValue,N=e.pstyle("ghost-offset-y").pfValue;ji(d,d.x1+P,d.y1+N,d.x2+P,d.y2+N)}var z=p.bodyBounds=p.bodyBounds||{};gt(z,d),ft(z,v),pt(z,1),u&&(n=d.x1,i=d.x2,r=d.y1,s=d.y2,ji(d,n-E,r-E,i+E,s+E));var W=p.overlayBounds=p.overlayBounds||{};gt(W,d),ft(W,v),pt(W,1);var V=p.labelBounds=p.labelBounds||{};null!=V.all?((l=V.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):V.all=ht(),u&&t.includeLabels&&(t.includeMainLabels&&Ki(d,e,null),g&&(t.includeSourceLabels&&Ki(d,e,"source"),t.includeTargetLabels&&Ki(d,e,"target")))}return d.x1=Hi(d.x1),d.y1=Hi(d.y1),d.x2=Hi(d.x2),d.y2=Hi(d.y2),d.w=Hi(d.x2-d.x1),d.h=Hi(d.y2-d.y1),d.w>0&&d.h>0&&b&&(ft(d,v),pt(d,1)),d}(e,Zi),i.bbCache=n,i.bbCachePosKey=o):n=i.bbCache,!s){var u=e.isNode();n=ht(),(t.includeNodes&&u||t.includeEdges&&!u)&&(t.includeOverlays?Ui(n,i.overlayBounds):Ui(n,i.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!r||t.includeSourceLabels&&t.includeTargetLabels)?Ui(n,i.labelBounds.all):(t.includeMainLabels&&Ui(n,i.labelBounds.mainRot),t.includeSourceLabels&&Ui(n,i.labelBounds.sourceRot),t.includeTargetLabels&&Ui(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Zi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Qi=Xi(Zi),er=Te(Zi);Wi.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=ht();var n=er(e=e||Zi),i=this;if(i.cy().styleEnabled())for(var r=0;r<i.length;r++){var s=i[r],o=s._private,a=Yi(s),l=o.bbCachePosKey===a,c=n.useCache&&l&&!o.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!e.useCache);for(var u=0;u<i.length;u++){var h=i[u];Ui(t,Ji(h,n))}}else e=void 0===e?Zi:er(e),t=Ji(this[0],e);return t.x1=Hi(t.x1),t.y1=Hi(t.y1),t.x2=Hi(t.x2),t.y2=Hi(t.y2),t.w=Hi(t.x2-t.x1),t.h=Hi(t.y2-t.y1),t},Wi.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Wi.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),i=n.hasCompoundNodes(),r=n.collection();if(i&&(r=t.filter((function(e){return e.isParent()})),t=t.not(r)),L(e)){var s=e;e=function(){return s}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0)),n.endBatch(),o},zi.boundingbox=zi.bb=zi.boundingBox,zi.renderedBoundingbox=zi.renderedBoundingBox;var tr,nr,ir=Wi;tr=nr={};var rr=function(e){e.uppercaseName=U(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=U(e.outerName),tr[e.name]=function(){var t=this[0],n=t._private,i=n.cy._private.styleEnabled;if(t){if(i){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var r=t.pstyle(e.name);return"label"===r.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):r.pfValue}return 1}},tr["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},tr["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},tr["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};rr({name:"width"}),rr({name:"height"}),nr.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},nr.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},nr.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var sr=nr,or={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},ar=Object.keys(or).reduce((function(e,t){var n=or[t],i=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[i]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),i=n.pan(),r=n.zoom();return t(e).map((function(e){return Qe(e,r,i)}))}}(this,n.get)}:e[i]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return Qe(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),lr=K({},Vi,ir,sr,ar),cr=function(e,t){this.recycle(e,t)};function ur(){return!1}function hr(){return!0}cr.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ur,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?hr:ur):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:n.x*i+r.x,y:n.y*i+r.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=hr;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=hr;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=hr,this.stopPropagation()},isDefaultPrevented:ur,isPropagationStopped:ur,isImmediatePropagationStopped:ur};var dr=/^([^.]+)(\.(?:[^.]+))?$/,pr={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},fr=Object.keys(pr),gr={};function mr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0,n=0;n<fr.length;n++){var i=fr[n];this[i]=e[i]||pr[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}var vr=mr.prototype,yr=function(e,t,n,i,r,s,o){T(i)&&(r=i,i=null),o&&(s=null==s?o:K({},s,o));for(var a=M(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var c=a[l];if(!N(c)){var u=c.match(dr);if(u&&!1===t(e,c,u[1],u[2]?u[2]:null,i,r,s))break}}},br=function(e,t){return e.addEventFields(e.context,t),new cr(t.type,t)};vr.on=vr.addListener=function(e,t,n,i,r){return yr(this,(function(e,t,n,i,r,s,o){T(s)&&e.listeners.push({event:t,callback:s,type:n,namespace:i,qualifier:r,conf:o})}),e,t,n,i,r),this},vr.one=function(e,t,n,i){return this.on(e,t,n,i,{one:!0})},vr.removeListener=vr.off=function(e,t,n,i){var r=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var s=this.listeners,o=function(o){var a=s[o];yr(r,(function(t,n,i,r,l,c){if((a.type===i||"*"===e)&&(!r&&".*"!==a.namespace||a.namespace===r)&&(!l||t.qualifierCompare(a.qualifier,l))&&(!c||a.callback===c))return s.splice(o,1),!1}),e,t,n,i)},a=s.length-1;a>=0;a--)o(a);return this},vr.removeAllListeners=function(){return this.removeListener("*")},vr.emit=vr.trigger=function(e,t,n){var i=this.listeners,r=i.length;return this.emitting++,M(t)||(t=[t]),function(e,t,n){if("event"!==D(n))if(L(n))t(e,br(e,n));else for(var i=M(n)?n:n.split(/\s+/),r=0;r<i.length;r++){var s=i[r];if(!N(s)){var o=s.match(dr);if(o){var a=o[1],l=o[2]?o[2]:null;t(e,br(e,{type:a,namespace:l,target:e.context}))}}}else t(e,n)}(this,(function(e,s){null!=n&&(i=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}],r=i.length);for(var o=function(n){var r=i[n];if(r.type===s.type&&(!r.namespace||r.namespace===s.namespace||".*"===r.namespace)&&e.eventMatches(e.context,r,s)){var o=[s];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}}(o,t),e.beforeEmit(e.context,r,s),r.conf&&r.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==r})));var a=e.callbackContext(e.context,r,s),l=r.callback.apply(a,o);e.afterEmit(e.context,r,s),!1===l&&(s.stopPropagation(),s.preventDefault())}},a=0;a<r;a++)o(a);e.bubble(e.context)&&!s.isPropagationStopped()&&e.parent(e.context).emit(s,t)}),e),this.emitting--,this};var xr={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&B(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},wr=function(e){return _(e)?new wi(e):e},Er={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new mr(xr,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=wr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n);return this},removeListener:function(e,t,n){for(var i=wr(t),r=0;r<this.length;r++)this[r].emitter().removeListener(e,i,n);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,t,n){for(var i=wr(t),r=0;r<this.length;r++)this[r].emitter().one(e,i,n);return this},once:function(e,t,n){for(var i=wr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};ii.eventAliasesOn(Er);var Sr={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(_(e)||F(e))return new wi(e).filter(this);if(T(e)){for(var n=this.spawn(),i=this,r=0;r<i.length;r++){var s=i[r];(t?e.apply(t,[s,r,i]):e(s,r,i))&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){_(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n];e.has(i)||t.push(i)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(_(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),i=e,r=this.length<e.length,s=r?this:i,o=r?i:this,a=0;a<s.length;a++){var l=s[a];o.has(l)&&n.push(l)}return n},xor:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),i=e,r=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],s=r._private.data.id;t.hasElementWithId(s)||n.push(r)}};return r(this,i),r(i,this),n},diff:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),r=this.spawn(),s=e,o=function(e,t,n){for(var i=0;i<e.length;i++){var s=e[i],o=s._private.data.id;t.hasElementWithId(o)?r.merge(s):n.push(s)}};return o(this,s,n),o(s,this,i),{left:n,right:i,both:r}},add:function(e){var t=this._private.cy;if(!e)return this;if(_(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),r=0;r<e.length;r++){var s=e[r];!this.has(s)&&i.push(s)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&_(e)){var i=e;e=n.mutableElements().filter(i)}for(var r=t.map,s=0;s<e.length;s++){var o=e[s],a=o._private.data.id;if(!r.has(a)){var l=this.length++;this[l]=o,r.set(a,{ele:o,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var i=e===this.length-1;if(this.length>1&&!i){var r=this.length-1,s=this[r],o=s._private.data.id;this[r]=void 0,this[e]=s,n.set(o,{ele:s,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,i=t.map.get(n);if(!i)return this;var r=i.index;return this.unmergeAt(r),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&_(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var n=[],i=this,r=0;r<i.length;r++){var s=i[r],o=t?e.apply(t,[s,r,i]):e(s,r,i);n.push(o)}return n},reduce:function(e,t){for(var n=t,i=this,r=0;r<i.length;r++)n=e(n,i[r],r,i);return n},max:function(e,t){for(var n,i=-1/0,r=this,s=0;s<r.length;s++){var o=r[s],a=t?e.apply(t,[o,s,r]):e(o,s,r);a>i&&(i=a,n=o)}return{value:i,ele:n}},min:function(e,t){for(var n,i=1/0,r=this,s=0;s<r.length;s++){var o=r[s],a=t?e.apply(t,[o,s,r]):e(o,s,r);a<i&&(i=a,n=o)}return{value:i,ele:n}}},Cr=Sr;Cr.u=Cr["|"]=Cr["+"]=Cr.union=Cr.or=Cr.add,Cr["\\"]=Cr["!"]=Cr["-"]=Cr.difference=Cr.relativeComplement=Cr.subtract=Cr.not,Cr.n=Cr["&"]=Cr["."]=Cr.and=Cr.intersection=Cr.intersect,Cr["^"]=Cr["(+)"]=Cr["(-)"]=Cr.symmetricDifference=Cr.symdiff=Cr.xor,Cr.fnFilter=Cr.filterFn=Cr.stdFilter=Cr.filter,Cr.complement=Cr.abscomp=Cr.absoluteComplement;var kr,Ar=function(e,t){var n=e.cy().hasCompoundNodes();function i(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ve:0}var r=i(e)-i(t);if(0!==r)return r;function s(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=s(e)-s(t);if(0!==o)return o;var a=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==a?a:e.poolIndex()-t.poolIndex()},Dr={forEach:function(e,t){if(T(e))for(var n=this.length,i=0;i<n;i++){var r=this[i];if(!1===(t?e.apply(t,[r,i,this]):e(r,i,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;null==t&&(t=i),null==e&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var r=e;r>=0&&r<t&&r<i;r++)n.push(this[r]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!T(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Ar)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:ve-1}var i=t.source,r=t.target,s=i.zDepth(),o=r.zDepth();return Math.max(s,o,0)}}};Dr.each=Dr.forEach,kr="undefined",("undefined"==typeof Symbol?"undefined":f(Symbol))!=kr&&f(Symbol.iterator)!=kr&&(Dr[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,i=this.length;return y({next:function(){return n<i?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var _r=Te({nodeDimensionsIncludeLabels:!1}),Tr={layoutDimensions:function(e){var t;if(e=_r(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes().filter((function(e){return!e.isParent()})),r=this.cy(),s=t.eles,o=function(e){return e.id()},a=W(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,c=function(){if(!l)return null;for(var e=ht(),t=0;t<i.length;t++){var n=i[t],r=a(n,t);dt(e,r.x,r.y)}return e}(),u=W((function(e,n){var i,r,s,o,u,h=a(e,n);return l&&(i=Math.abs(t.spacingFactor),s=h,o=(r=c).x1+r.w/2,u=r.y1+r.h/2,h={x:o+(s.x-o)*i,y:u+(s.y-u)*i}),null!=t.transform&&(h=t.transform(e,h)),h}),o);if(t.animate){for(var h=0;h<i.length;h++){var d=i[h],p=u(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var f=d.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else d.position(p)}if(t.fit){var g=r.animation({fit:{boundingBox:s.boundingBoxAt(u),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=r.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Jn.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else i.positions(u),t.fit&&r.fit(t.eles,t.padding),null!=t.zoom&&r.zoom(t.zoom),t.pan&&r.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(K({},e,{eles:this}))}};function Mr(e,t,n){var i,r=n._private,s=r.styleCache=r.styleCache||[];return null!=(i=s[e])?i:i=s[e]=t(n)}function Lr(e,t){return e=he(e),function(n){return Mr(e,t,n)}}function $r(e,t){e=he(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Mr(e,n,t)}}Tr.createLayout=Tr.makeLayout=Tr.layout;var Rr={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=n;return e?i.emitAndNotify("style"):i.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var r=n._private.style[e];return null!=r?r:t?i.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(L(e)){var r=e;i.applyBypass(this,r,!1),this.emitAndNotify("style")}else if(_(e)){if(void 0===t){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}i.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?i.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),i=this;if(void 0===e)for(var r=0;r<i.length;r++){var s=i[r];n.removeAllBypasses(s,!1)}else{e=e.split(/\s+/);for(var o=0;o<i.length;o++){var a=i[o];n.removeBypasses(a,e,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=n.pstyle("opacity").value;if(!t)return r;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++)r*=s[o].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Fr(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++)if(!t(n[i]))return!1;return!0}function Br(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,i=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var r=this[0],s=e.hasCompoundNodes();if(r){var o=r._private;if(!t(r))return!1;if(r.isNode())return!s||Fr(r,i);var a=o.source,l=o.target;return n(a)&&(!s||Fr(a,n))&&(a===l||n(l)&&(!s||Fr(l,n)))}}}var Ir=Lr("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));Rr.takesUpSpace=$r("takesUpSpace",Br({ok:Ir}));var Or=Lr("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Ir(e)})),Pr=Lr("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&Ir(e)}));Rr.interactive=$r("interactive",Br({ok:Or,parentOk:Pr,edgeOkViaNode:Ir})),Rr.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Nr=Lr("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Ir(e)})),zr=Ir;Rr.visible=$r("visible",Br({ok:Nr,edgeOkViaNode:zr})),Rr.hidden=function(){var e=this[0];if(e)return!e.visible()},Rr.isBundledBezier=$r("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Rr.bypass=Rr.css=Rr.style,Rr.renderedCss=Rr.renderedStyle,Rr.removeBypass=Rr.removeCss=Rr.removeStyle,Rr.pstyle=Rr.parsedStyle;var Wr={};function Vr(e){return function(){var t=arguments,n=[];if(2===t.length){var i=t[0],r=t[1];this.on(e.event,i,r)}else if(1===t.length&&T(t[0])){var s=t[0];this.on(e.event,s)}else if(0===t.length||1===t.length&&M(t[0])){for(var o=1===t.length?t[0]:null,a=0;a<this.length;a++){var l=this[a],c=!e.ableField||l._private[e.ableField],u=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(c=h,!h))return this}c&&(l._private[e.field]=e.value,u&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function Hr(e){Wr[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Wr[e.on]=Vr({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Wr[e.off]=Vr({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Hr({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Hr({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Hr({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Hr({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Wr.deselect=Wr.unselect,Wr.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Hr({field:"active",on:"activate",off:"unactivate"}),Hr({field:"pannable",on:"panify",off:"unpanify"}),Wr.inactive=function(){var e=this[0];if(e)return!e._private.active};var jr={},Ur=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode()){for(var s=!1,o=r.connectedEdges(),a=0;a<o.length;a++){var l=o[a],c=l.source(),u=l.target();if(e.noIncomingEdges&&u===r&&c!==r||e.noOutgoingEdges&&c===r&&u!==r){s=!0;break}}s||n.push(r)}}return this.spawn(n,!0).filter(t)}},Gr=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode())for(var s=r.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target();e.outgoing&&l===r?(n.push(a),n.push(c)):e.incoming&&c===r&&(n.push(a),n.push(l))}}return this.spawn(n,!0).filter(t)}},qr=function(e){return function(t){for(var n=this,i=[],r={};;){var s=e.outgoing?n.outgoers():n.incomers();if(0===s.length)break;for(var o=!1,a=0;a<s.length;a++){var l=s[a],c=l.id();r[c]||(r[c]=!0,i.push(l),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(t)}};function Kr(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i]._private[e.attr];r&&n.push(r)}return this.spawn(n,!0).filter(t)}}function Xr(e){return function(t){var n=[],i=this._private.cy,r=e||{};_(t)&&(t=i.$(t));for(var s=0;s<t.length;s++)for(var o=t[s]._private.edges,a=0;a<o.length;a++){var l=o[a],c=l._private.data,u=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(u||h){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!u)continue;if(r.thisIsTgt&&!h)continue}n.push(l)}}return this.spawn(n,!0)}}function Yr(e){return e=K({},{codirected:!1},e),function(t){for(var n=[],i=this.edges(),r=e,s=0;s<i.length;s++)for(var o=i[s]._private,a=o.source,l=a._private.data.id,c=o.data.target,u=a._private.edges,h=0;h<u.length;h++){var d=u[h],p=d._private.data,f=p.target,g=p.source,m=f===c&&g===l,v=l===f&&c===g;(r.codirected&&m||!r.codirected&&(m||v))&&n.push(d)}return this.spawn(n,!0).filter(t)}}jr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},K(jr,{roots:Ur({noIncomingEdges:!0}),leaves:Ur({noOutgoingEdges:!0}),outgoers:Ai(Gr({outgoing:!0}),"outgoers"),successors:qr({outgoing:!0}),incomers:Ai(Gr({incoming:!0}),"incomers"),predecessors:qr({incoming:!0})}),K(jr,{neighborhood:Ai((function(e){for(var t=[],n=this.nodes(),i=0;i<n.length;i++)for(var r=n[i],s=r.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target(),u=r===l?c:l;u.length>0&&t.push(u[0]),t.push(a[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),jr.neighbourhood=jr.neighborhood,jr.closedNeighbourhood=jr.closedNeighborhood,jr.openNeighbourhood=jr.openNeighborhood,K(jr,{source:Ai((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:Ai((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:Kr({attr:"source"}),targets:Kr({attr:"target"})}),K(jr,{edgesWith:Ai(Xr(),"edgesWith"),edgesTo:Ai(Xr({thisIsSrc:!0}),"edgesTo")}),K(jr,{connectedEdges:Ai((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var r=i._private.edges,s=0;s<r.length;s++){var o=r[s];t.push(o)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:Ai((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:Ai(Yr(),"parallelEdges"),codirectedEdges:Ai(Yr({codirected:!0}),"codirectedEdges")}),K(jr,{components:function(e){var t=this,n=t.cy(),i=n.collection(),r=null==e?t.nodes():e.nodes(),s=[];null!=e&&r.empty()&&(r=e.sources());var o=function(e,t){i.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return t.spawn();var a=function(){var e=n.collection();s.push(e);var i=r[0];o(i,e),t.bfs({directed:!1,roots:i,visit:function(t){return o(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{a()}while(r.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),jr.componentsOf=jr.components;var Jr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var r=new Fe,s=!1;if(t){if(t.length>0&&L(t[0])&&!B(t[0])){s=!0;for(var o=[],a=new Ie,l=0,c=t.length;l<c;l++){var u=t[l];null==u.data&&(u.data={});var h=u.data;if(null==h.id)h.id=Ae();else if(e.hasElementWithId(h.id)||a.has(h.id))continue;var d=new Oe(e,u,!1);o.push(d),a.add(h.id)}t=o}}else t=[];this.length=0;for(var p=0,f=t.length;p<f;p++){var g=t[p][0];if(null!=g){var m=g._private.data.id;n&&r.has(m)||(n&&r.set(m,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Fe,t=this.eles,n=0;n<t.length;n++){var i=t[n];e.set(i.id(),{index:n,ele:i})}}},n&&(this._private.map=r),s&&!i&&this.restore()}else Ee("A collection must have a reference to the core")},Zr=Oe.prototype=Jr.prototype=Object.create(Array.prototype);Zr.instanceString=function(){return"collection"},Zr.spawn=function(e,t){return new Jr(this.cy(),e,t)},Zr.spawnSelf=function(){return this.spawn(this)},Zr.cy=function(){return this._private.cy},Zr.renderer=function(){return this._private.cy.renderer()},Zr.element=function(){return this[0]},Zr.collection=function(){return I(this)?this:new Jr(this._private.cy,[this])},Zr.unique=function(){return new Jr(this._private.cy,this,!0)},Zr.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Zr.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Jr(t)},Zr.$id=Zr.getElementById,Zr.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Zr.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Zr.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Zr.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var i=t._private;if(L(e)){if(n.startBatch(),e.data){t.data(e.data);var r=i.data;if(t.isEdge()){var s=!1,o={},a=e.data.source,l=e.data.target;null!=a&&a!=r.source&&(o.source=""+a,s=!0),null!=l&&l!=r.target&&(o.target=""+l,s=!0),s&&(t=t.move(o))}else{var c="parent"in e.data,u=e.data.parent;!c||null==u&&null==r.parent||u==r.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),t=t.move({parent:u}))}}e.position&&t.position(e.position);var h=function(n,r,s){var o=e[n];null!=o&&o!==i[n]&&(o?t[r]():t[s]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:ke(i.data),position:ke(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:""},p=0;return i.classes.forEach((function(e){return d.classes+=0==p++?e:" "+e})),d}}},Zr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Zr.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var i=this[n].json(),r=new Oe(e,i,!1);t.push(r)}return new Jr(e,t)},Zr.copy=Zr.clone,Zr.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,s=r.cy(),o=s._private,a=[],l=[],c=0,u=r.length;c<u;c++){var h=r[c];i&&!h.removed()||(h.isNode()?a.push(h):l.push(h))}e=a.concat(l);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],f=p._private,g=f.data;if(p.clearTraversalCache(),i||f.removed)if(void 0===g.id)g.id=Ae();else if($(g.id))g.id=""+g.id;else{if(N(g.id)||!_(g.id)){Ee("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(s.hasElementWithId(g.id)){Ee("Can not create second element with ID `"+g.id+"`"),d();continue}}var m=g.id;if(p.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(p.isEdge()){for(var y=p,b=["source","target"],x=b.length,w=!1,E=0;E<x;E++){var S=b[E],C=g[S];$(C)&&(C=g[S]=""+g[S]),null==C||""===C?(Ee("Can not create edge `"+m+"` with unspecified "+S),w=!0):s.hasElementWithId(C)||(Ee("Can not create edge `"+m+"` with nonexistant "+S+" `"+C+"`"),w=!0)}if(w){d();continue}var k=s.getElementById(g.source),A=s.getElementById(g.target);k.same(A)?k._private.edges.push(y):(k._private.edges.push(y),A._private.edges.push(y)),y._private.source=k,y._private.target=A}f.map=new Fe,f.map.set(m,{ele:p,index:0}),f.removed=!1,i&&s.addToPool(p)}for(var D=0;D<a.length;D++){var T=a[D],M=T._private.data;$(M.parent)&&(M.parent=""+M.parent);var L=M.parent,R=null!=L;if(R||T._private.parent){var F=T._private.parent?s.collection().merge(T._private.parent):s.getElementById(L);if(F.empty())M.parent=void 0;else if(F[0].removed())Ce("Node added with missing parent, reference to parent removed"),M.parent=void 0,T._private.parent=null;else{for(var B=!1,I=F;!I.empty();){if(T.same(I)){B=!0,M.parent=void 0;break}I=I.parent()}B||(F[0]._private.children.push(T),T._private.parent=F[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var O=e.length===r.length?r:new Jr(s,e),P=0;P<O.length;P++){var z=O[P];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}(o.hasCompoundNodes?s.collection().merge(O).merge(O.connectedNodes()).merge(O.parent()):O).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?O.emitAndNotify("add"):i&&O.emit("add")}return r},Zr.removed=function(){var e=this[0];return e&&e._private.removed},Zr.inside=function(){var e=this[0];return e&&!e._private.removed},Zr.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,i=[],r={},s=n._private.cy;function o(e){for(var t=e._private.edges,n=0;n<t.length;n++)l(t[n])}function a(e){for(var t=e._private.children,n=0;n<t.length;n++)l(t[n])}function l(e){var n=r[e.id()];t&&e.removed()||n||(r[e.id()]=!0,e.isNode()?(i.push(e),o(e),a(e)):i.unshift(e))}for(var c=0,u=n.length;c<u;c++){var h=n[c];l(h)}function d(e,t){var n=e._private.edges;Me(n,t),e.clearTraversalCache()}function p(e){e.clearTraversalCache()}var f=[];function g(e,t){t=t[0];var n=(e=e[0])._private.children,i=e.id();Me(n,t),t._private.parent=null,f.ids[i]||(f.ids[i]=!0,f.push(e))}f.ids={},n.dirtyCompoundBoundsCache(),t&&s.removeFromPool(i);for(var m=0;m<i.length;m++){var v=i[m];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];d(y,v),d(b,v);for(var x=v.parallelEdges(),w=0;w<x.length;w++){var E=x[w];p(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var S=v.parent();0!==S.length&&g(S,v)}t&&(v._private.removed=!0)}var C=s._private.elements;s._private.hasCompoundNodes=!1;for(var k=0;k<C.length;k++){var A=C[k];if(A.isParent()){s._private.hasCompoundNodes=!0;break}}var D=new Jr(this.cy(),i);D.size()>0&&(e?D.emitAndNotify("remove"):t&&D.emit("remove"));for(var _=0;_<f.length;_++){var T=f[_];t&&T.removed()||T.updateStyle()}return D},Zr.move=function(e){var t=this._private.cy,n=this,i=!1,r=!1,s=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=s(e.source),a=s(e.target),l=null!=o&&t.hasElementWithId(o),c=null!=a&&t.hasElementWithId(a);(l||c)&&(t.batch((function(){n.remove(i,r),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],s=t._private.data;t.isEdge()&&(l&&(s.source=o),c&&(s.target=a))}n.restore(i,r)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var u=s(e.parent);if(null===u||t.hasElementWithId(u)){var h=null===u?void 0:u;t.batch((function(){var e=n.remove(i,r);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var s=n[t],o=s._private.data;s.isNode()&&(o.parent=h)}e.restore(i,r)})),n.emitAndNotify("move")}}return this},[jn,ri,si,Si,Di,Fi,Bi,lr,Er,Sr,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Dr,Tr,Rr,Wr,jr].forEach((function(e){K(Zr,e)}));var Qr={add:function(e){var t,n=this;if(F(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var r=[],s=0;s<i.length;s++){var o=i[s];r.push(o.json())}t=new Jr(n,r)}}else if(M(e))t=new Jr(n,e);else if(L(e)&&(M(e.nodes)||M(e.edges))){for(var a=e,l=[],c=["nodes","edges"],u=0,h=c.length;u<h;u++){var d=c[u],p=a[d];if(M(p))for(var f=0,g=p.length;f<g;f++){var m=K({group:d},p[f]);l.push(m)}}t=new Jr(n,l)}else t=new Oe(n,e).collection();return t},remove:function(e){if(F(e));else if(_(e)){var t=e;e=this.$(t)}return e.remove()}},es=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},s=t(n,.5*i,r),o=t(n,.5*i,s),a=t(n,i,o),l=1/6*(r.dx+2*(s.dx+o.dx)+a.dx),c=1/6*(r.dv+2*(s.dv+o.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function e(t,i,r){var s,o,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4;for(t=parseFloat(t)||500,i=parseFloat(i)||20,r=r||null,l.tension=t,l.friction=i,o=(s=null!==r)?(u=e(t,i))/r*.016:.016;a=n(a||l,o),c.push(1+a.x),u+=16,Math.abs(a.x)>h&&Math.abs(a.v)>h;);return s?function(e){return c[e*(c.length-1)|0]}:u}}(),ts=function(e,t,n,i){var r=function(e,t,n,i){var r=4,s=.001,o=1e-7,a=10,l=11,c=1/(l-1),u="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var d=u?new Float32Array(l):new Array(l);function p(e,t){return 1-3*t+3*e}function f(e,t){return 3*t-6*e}function g(e){return 3*e}function m(e,t,n){return((p(t,n)*e+f(t,n))*e+g(t))*e}function v(e,t,n){return 3*p(t,n)*e*e+2*f(t,n)*e+g(t)}function y(t,i){for(var s=0;s<r;++s){var o=v(i,e,n);if(0===o)return i;i-=(m(i,e,n)-t)/o}return i}function b(){for(var t=0;t<l;++t)d[t]=m(t*c,e,n)}function x(t,i,r){var s,l,c=0;do{(s=m(l=i+(r-i)/2,e,n)-t)>0?r=l:i=l}while(Math.abs(s)>o&&++c<a);return l}function w(t){for(var i=0,r=1,o=l-1;r!==o&&d[r]<=t;++r)i+=c;--r;var a=i+(t-d[r])/(d[r+1]-d[r])*c,u=v(a,e,n);return u>=s?y(t,a):0===u?a:x(t,i,i+c)}var E=!1;function S(){E=!0,e===t&&n===i||b()}var C=function(r){return E||S(),e===t&&n===i?r:0===r?0:1===r?1:m(w(r),t,i)};C.getControlPoints=function(){return[{x:e,y:t},{x:n,y:i}]};var k="generateBezier("+[e,t,n,i]+")";return C.toString=function(){return k},C}(e,t,n,i);return function(e,t,n){return e+(t-e)*r(n)}},ns={linear:function(e,t,n){return e+(t-e)*n},ease:ts(.25,.1,.25,1),"ease-in":ts(.42,0,1,1),"ease-out":ts(0,0,.58,1),"ease-in-out":ts(.42,0,.58,1),"ease-in-sine":ts(.47,0,.745,.715),"ease-out-sine":ts(.39,.575,.565,1),"ease-in-out-sine":ts(.445,.05,.55,.95),"ease-in-quad":ts(.55,.085,.68,.53),"ease-out-quad":ts(.25,.46,.45,.94),"ease-in-out-quad":ts(.455,.03,.515,.955),"ease-in-cubic":ts(.55,.055,.675,.19),"ease-out-cubic":ts(.215,.61,.355,1),"ease-in-out-cubic":ts(.645,.045,.355,1),"ease-in-quart":ts(.895,.03,.685,.22),"ease-out-quart":ts(.165,.84,.44,1),"ease-in-out-quart":ts(.77,0,.175,1),"ease-in-quint":ts(.755,.05,.855,.06),"ease-out-quint":ts(.23,1,.32,1),"ease-in-out-quint":ts(.86,0,.07,1),"ease-in-expo":ts(.95,.05,.795,.035),"ease-out-expo":ts(.19,1,.22,1),"ease-in-out-expo":ts(1,0,0,1),"ease-in-circ":ts(.6,.04,.98,.335),"ease-out-circ":ts(.075,.82,.165,1),"ease-in-out-circ":ts(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return ns.linear;var i=es(e,t,n);return function(e,t,n){return e+(t-e)*i(n)}},"cubic-bezier":ts};function is(e,t,n,i,r){if(1===i)return n;if(t===n)return n;var s=r(t,n,i);return null==e||((e.roundValue||e.color)&&(s=Math.round(s)),void 0!==e.min&&(s=Math.max(s,e.min)),void 0!==e.max&&(s=Math.min(s,e.max))),s}function rs(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function ss(e,t,n,i,r){var s=null!=r?r.type:null;n<0?n=0:n>1&&(n=1);var o=rs(e,r),a=rs(t,r);if($(o)&&$(a))return is(s,o,a,n,i);if(M(o)&&M(a)){for(var l=[],c=0;c<a.length;c++){var u=o[c],h=a[c];if(null!=u&&null!=h){var d=is(s,u,h,n,i);l.push(d)}else l.push(h)}return l}}function os(e,t,n,i){var r=!i,s=e._private,o=t._private,a=o.easing,l=o.startTime,c=(i?e:e.cy()).style();if(!o.easingImpl)if(null==a)o.easingImpl=ns.linear;else{var u,h,d;u=_(a)?c.parse("transition-timing-function",a).value:a,_(u)?(h=u,d=[]):(h=u[1],d=u.slice(2).map((function(e){return+e}))),d.length>0?("spring"===h&&d.push(o.duration),o.easingImpl=ns[h].apply(null,d)):o.easingImpl=ns[h]}var p,f=o.easingImpl;if(p=0===o.duration?1:(n-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),null==o.delay){var g=o.startPosition,m=o.position;if(m&&r&&!e.locked()){var v={};as(g.x,m.x)&&(v.x=ss(g.x,m.x,p,f)),as(g.y,m.y)&&(v.y=ss(g.y,m.y,p,f)),e.position(v)}var y=o.startPan,b=o.pan,x=s.pan,w=null!=b&&i;w&&(as(y.x,b.x)&&(x.x=ss(y.x,b.x,p,f)),as(y.y,b.y)&&(x.y=ss(y.y,b.y,p,f)),e.emit("pan"));var E=o.startZoom,S=o.zoom,C=null!=S&&i;C&&(as(E,S)&&(s.zoom=ut(s.minZoom,ss(E,S,p,f),s.maxZoom)),e.emit("zoom")),(w||C)&&e.emit("viewport");var k=o.style;if(k&&k.length>0&&r){for(var A=0;A<k.length;A++){var D=k[A],T=D.name,M=D,L=o.startStyle[T],$=ss(L,M,p,f,c.properties[L.name]);c.overrideBypass(e,T,$)}e.emit("style")}}return o.progress=p,p}function as(e,t){return!!(null!=e&&null!=t&&($(e)&&$(t)||e&&t))}function ls(e,t,n,i){var r=t._private;r.started=!0,r.startTime=n-r.progress*r.duration}function cs(e,t){var n=t._private.aniEles,i=[];function r(t,n){var r=t._private,s=r.animation.current,o=r.animation.queue,a=!1;if(0===s.length){var l=o.shift();l&&s.push(l)}for(var c=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},u=s.length-1;u>=0;u--){var h=s[u],d=h._private;d.stopped?(s.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||ls(0,h,e),os(t,h,e,n),d.applying&&(d.applying=!1),c(d.frames),null!=d.step&&d.step(e),h.completed()&&(s.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.completes)),a=!0)}return n||0!==s.length||0!==o.length||i.push(t),a}for(var s=!1,o=0;o<n.length;o++){var a=r(n[o]);s=s||a}var l=r(t,!0);(s||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(i),t.emit("step")}var us={animate:ii.animate(),animation:ii.animation(),animated:ii.animated(),clearQueue:ii.clearQueue(),delay:ii.delay(),delayAnimation:ii.delayAnimation(),stop:ii.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){cs(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&te((function(n){cs(n,e),t()}))}()}}},hs={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&B(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},ds=function(e){return _(e)?new wi(e):e},ps={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new mr(hs,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,ds(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,ds(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,ds(t),n),this},once:function(e,t,n){return this.emitter().one(e,ds(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ii.eventAliasesOn(ps);var fs={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};fs.jpeg=fs.jpg;var gs={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n,i=e.name,r=t.extension("layout",i);if(null!=r)return n=_(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new r(K({},e,{cy:t,eles:n}));Ee("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ee("A `name` must be specified to make a layout");else Ee("Layout options must be specified to make a layout")}};gs.createLayout=gs.makeLayout=gs.layout;var ms={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&i.merge(t)}else if(n.notificationsEnabled){var r=this.renderer();!this.destroyed()&&r&&r.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],s=e[r];t.getElementById(r).data(s)}}))}},vs=Te({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ys={renderTo:function(e,t,n,i){return this._private.renderer.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&Ce("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=vs(e);i.cy=t,t._private.renderer=new n(i),this.notify("init")}else Ee("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ys.invalidateDimensions=ys.resize;var bs={collection:function(e,t){return _(e)?this.$(e):F(e)?e.collection():M(e)?(t||(t={}),new Jr(this,e,t.unique,t.removed)):new Jr(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};bs.elements=bs.filter=bs.$;var xs={},ws="t";xs.apply=function(e){for(var t=this,n=t._private.cy.collection(),i=0;i<e.length;i++){var r=e[i],s=t.getContextMeta(r);if(!s.empty){var o=t.getContextStyle(s),a=t.applyContextStyle(s,o,r);r._private.appliedInitStyle?t.updateTransitions(r,a.diffProps):r._private.appliedInitStyle=!0,t.updateStyleHints(r)&&n.push(r)}}return n},xs.getPropertiesDiff=function(e,t){var n=this,i=n._private.propDiffs=n._private.propDiffs||{},r=e+"-"+t,s=i[r];if(s)return s;for(var o=[],a={},l=0;l<n.length;l++){var c=n[l],u=e[l]===ws,h=t[l]===ws,d=u!==h,p=c.mappedProperties.length>0;if(d||h&&p){var f=void 0;d&&p||d?f=c.properties:p&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var m=f[g],v=m.name,y=!1,b=l+1;b<n.length;b++){var x=n[b];if(t[b]===ws&&(y=null!=x.properties[m.name]))break}a[v]||y||(a[v]=!0,o.push(v))}}}return i[r]=o,o},xs.getContextMeta=function(e){for(var t,n=this,i="",r=e._private.styleCxtKey||"",s=0;s<n.length;s++){var o=n[s];i+=o.selector&&o.selector.matches(e)?ws:"f"}return t=n.getPropertiesDiff(r,i),e._private.styleCxtKey=i,{key:i,diffPropNames:t,empty:0===t.length}},xs.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},r=0;r<this.length;r++){var s=this[r];if(t[r]===ws)for(var o=0;o<s.properties.length;o++){var a=s.properties[o];i[a.name]=a}}return n[t]=i,i},xs.applyContextStyle=function(e,t,n){for(var i=e.diffPropNames,r={},s=this.types,o=0;o<i.length;o++){var a=i[o],l=t[a],c=n.pstyle(a);if(!l){if(!c)continue;l=c.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(c!==l){if(l.mapped===s.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var u=c.mapping;if((u.fnValue=l.value(n))===u.prevFnValue)continue}var h=r[a]={prev:c};this.applyParsedProperty(n,l),h.next=n.pstyle(a),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:r}},xs.updateStyleHints=function(e){var t=e._private,n=this,i=n.propertyGroupNames,r=n.propertyGroupKeys,s=function(e,t,i){return n.getPropertiesHash(e,t,i)},o=t.styleKey;if(e.removed())return!1;var a="nodes"===t.group,l=e._private.style;i=Object.keys(l);for(var c=0;c<r.length;c++){var u=r[c];t.styleKeys[u]=[ie,se]}for(var h,d=function(e,n){return t.styleKeys[n][0]=ae(e,t.styleKeys[n][0])},p=function(e,n){return t.styleKeys[n][1]=le(e,t.styleKeys[n][1])},f=function(e,t){d(e,t),p(e,t)},g=function(e,t){for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);d(i,t),p(i,t)}},m=0;m<i.length;m++){var v=i[m],y=l[v];if(null!=y){var b=this.properties[v],x=b.type,w=b.groupKey,E=void 0;null!=b.hashOverride?E=b.hashOverride(e,y):null!=y.pfValue&&(E=y.pfValue);var S=null==b.enums?y.value:null,C=null!=E,k=C||null!=S,A=y.units;x.number&&k&&!x.multiple?(f(-128<(h=C?E:S)&&h<128&&Math.floor(h)!==h?2e9-(1024*h|0):h,w),C||null==A||g(A,w)):g(y.strValue,w)}}for(var D=[ie,se],_=0;_<r.length;_++){var T=r[_],M=t.styleKeys[T];D[0]=ae(M[0],D[0]),D[1]=le(M[1],D[1])}t.styleKey=2097152*D[0]+D[1];var L=t.styleKeys;t.labelDimsKey=ce(L.labelDimensions);var $=s(e,["label"],L.labelDimensions);if(t.labelKey=ce($),t.labelStyleKey=ce(ue(L.commonLabel,$)),!a){var R=s(e,["source-label"],L.labelDimensions);t.sourceLabelKey=ce(R),t.sourceLabelStyleKey=ce(ue(L.commonLabel,R));var F=s(e,["target-label"],L.labelDimensions);t.targetLabelKey=ce(F),t.targetLabelStyleKey=ce(ue(L.commonLabel,F))}if(a){var B=t.styleKeys,I=B.nodeBody,O=B.nodeBorder,P=B.backgroundImage,N=B.compound,z=B.pie,W=[I,O,P,N,z].filter((function(e){return null!=e})).reduce(ue,[ie,se]);t.nodeKey=ce(W),t.hasPie=null!=z&&z[0]!==ie&&z[1]!==se}return o!==t.styleKey},xs.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},xs.applyParsedProperty=function(e,t){var n,i=this,r=t,s=e._private.style,o=i.types,a=i.properties[r.name].type,l=r.bypass,c=s[r.name],u=c&&c.bypass,h=e._private,d="mapping",p=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=p(c),n=p(r);i.checkTriggers(e,r.name,t,n)};if(r&&"pie"===r.name.substr(0,3)&&Ce("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return s[r.name]=void 0,f(),!0;if(r.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,f(),!0):(f(),!0);if(r.deleteBypass)return c?!!c.bypass&&(s[r.name]=c.bypassed,f(),!0):(f(),!0);var g=function(){Ce("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case o.mapData:for(var m,v=r.field.split("."),y=h.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return g(),!1;if(!$(y))return Ce("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;var x=r.fieldMax-r.fieldMin;if((m=0===x?0:(y-r.fieldMin)/x)<0?m=0:m>1&&(m=1),a.color){var w=r.valueMin[0],E=r.valueMax[0],S=r.valueMin[1],C=r.valueMax[1],k=r.valueMin[2],A=r.valueMax[2],D=null==r.valueMin[3]?1:r.valueMin[3],_=null==r.valueMax[3]?1:r.valueMax[3],T=[Math.round(w+(E-w)*m),Math.round(S+(C-S)*m),Math.round(k+(A-k)*m),Math.round(D+(_-D)*m)];n={bypass:r.bypass,name:r.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!a.number)return!1;var M=r.valueMin+(r.valueMax-r.valueMin)*m;n=this.parse(r.name,M,r.bypass,d)}if(!n)return g(),!1;n.mapping=r,r=n;break;case o.data:for(var L=r.field.split("."),R=h.data,F=0;F<L.length&&R;F++)R=R[L[F]];if(null!=R&&(n=this.parse(r.name,R,r.bypass,d)),!n)return g(),!1;n.mapping=r,r=n;break;case o.fn:var B=r.value,I=null!=r.fnValue?r.fnValue:B(e);if(r.prevFnValue=I,null==I)return Ce("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(r.name,I,r.bypass,d)))return Ce("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=ke(r),r=n;break;case void 0:break;default:return!1}return l?(r.bypassed=u?c.bypassed:c,s[r.name]=r):u?c.bypassed=r:s[r.name]=r,f(),!0},xs.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),t)for(var r=i._private.style,s=Object.keys(r),o=0;o<s.length;o++){var a=s[o],l=r[a];null!=l&&(l.bypass?l.bypassed=null:r[a]=null)}else i._private.style={}}},xs.update=function(){this._private.cy.mutableElements().updateStyle()},xs.updateTransitions=function(e,t){var n=this,i=e._private,r=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(r.length>0&&s>0){for(var a={},l=!1,c=0;c<r.length;c++){var u=r[c],h=e.pstyle(u),d=t[u];if(d){var p=d.prev,f=null!=d.next?d.next:h,g=!1,m=void 0,v=1e-6;p&&($(p.pfValue)&&$(f.pfValue)?(g=f.pfValue-p.pfValue,m=p.pfValue+v*g):$(p.value)&&$(f.value)?(g=f.value-p.value,m=p.value+v*g):M(p.value)&&M(f.value)&&(g=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],m=p.strValue),g&&(a[u]=f.strValue,this.applyBypass(e,u,m),l=!0))}}if(!l)return;i.transitioning=!0,new Jn((function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()})).then((function(){return e.animation({style:a,duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1}))}else i.transitioning&&(this.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1)},xs.checkTrigger=function(e,t,n,i,r,s){var o=this.properties[t],a=r(o);null!=a&&a(n,i)&&s(o)},xs.checkZOrderTrigger=function(e,t,n,i){var r=this;this.checkTrigger(e,t,n,i,(function(e){return e.triggersZOrder}),(function(){r._private.cy.notify("zorder",e)}))},xs.checkBoundsTrigger=function(e,t,n,i){this.checkTrigger(e,t,n,i,(function(e){return e.triggersBounds}),(function(r){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!r.triggersBoundsOfParallelBeziers||("curve-style"!==t||"bezier"!==n&&"bezier"!==i)&&("display"!==t||"none"!==n&&"none"!==i)||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},xs.checkTriggers=function(e,t,n,i){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,i),this.checkBoundsTrigger(e,t,n,i)};var Es={applyBypass:function(e,t,n,i){var r=[];if("*"===t||"**"===t){if(void 0!==n)for(var s=0;s<this.properties.length;s++){var o=this.properties[s].name,a=this.parse(o,n,!0);a&&r.push(a)}}else if(_(t)){var l=this.parse(t,n,!0);l&&r.push(l)}else{if(!L(t))return!1;var c=t;i=n;for(var u=Object.keys(c),h=0;h<u.length;h++){var d=u[h],p=c[d];if(void 0===p&&(p=c[H(d)]),void 0!==p){var f=this.parse(d,p,!0);f&&r.push(f)}}}if(0===r.length)return!1;for(var g=!1,m=0;m<e.length;m++){for(var v=e[m],y={},b=void 0,x=0;x<r.length;x++){var w=r[x];if(i){var E=v.pstyle(w.name);b=y[w.name]={prev:E}}g=this.applyParsedProperty(v,ke(w))||g,i&&(b.next=v.pstyle(w.name))}g&&this.updateStyleHints(v),i&&this.updateTransitions(v,y,!0)}return g},overrideBypass:function(e,t,n){t=V(t);for(var i=0;i<e.length;i++){var r=e[i],s=r._private.style[t],o=this.properties[t].type,a=o.color,l=o.mutiple,c=s?null!=s.pfValue?s.pfValue:s.value:null;s&&s.bypass?(s.value=n,null!=s.pfValue&&(s.pfValue=n),s.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(r)):this.applyBypass(r,t,n),this.checkTriggers(r,t,c,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var i=0;i<e.length;i++){for(var r=e[i],s={},o=0;o<t.length;o++){var a=t[o],l=this.properties[a],c=r.pstyle(l.name);if(c&&c.bypass){var u=this.parse(a,"",!0),h=s[l.name]={prev:c};this.applyParsedProperty(r,u),h.next=r.pstyle(l.name)}}this.updateStyleHints(r),n&&this.updateTransitions(r,s,!0)}}},Ss={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(w&&t&&w.getComputedStyle)return w.getComputedStyle(t).getPropertyValue(e)}},Cs={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var i={},r=0;r<n.properties.length;r++){var s=n.properties[r],o=n.getStylePropertyValue(e,s.name,t);null!=o&&(i[s.name]=o,i[H(s.name)]=o)}return i}},getIndexedStyle:function(e,t,n,i){var r=e.pstyle(t)[n][i];return null!=r?r:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var i=this.properties[t];i.alias&&(i=i.pointsTo);var r=i.type,s=e.pstyle(i.name);if(s){var o=s.value,a=s.units,l=s.strValue;if(n&&r.number&&null!=o&&$(o)){var c=e.cy().zoom(),u=function(e){return e*c},h=function(e,t){return u(e)+t},d=M(o);return(d?a.every((function(e){return null!=e})):null!=a)?d?o.map((function(e,t){return h(e,a[t])})).join(" "):h(o,a):d?o.map((function(e){return _(e)?e:""+u(e)})).join(" "):""+u(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i].name,s=e.pstyle(r);void 0!==s&&(s=L(s)?this.parse(r,s.strValue):this.parse(r,s)),s&&(n[r]=s)}return n},getPropsList:function(e){var t=[],n=e,i=this.properties;if(n)for(var r=Object.keys(n),s=0;s<r.length;s++){var o=r[s],a=n[o],l=i[o]||i[V(o)],c=this.parse(l.name,a);c&&t.push(c)}return t},getNonDefaultPropertiesHash:function(e,t,n){var i,r,s,o,a,l,c=n.slice();for(a=0;a<t.length;a++)if(i=t[a],null!=(r=e.pstyle(i,!1)))if(null!=r.pfValue)c[0]=ae(o,c[0]),c[1]=le(o,c[1]);else for(s=r.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),c[0]=ae(o,c[0]),c[1]=le(o,c[1]);return c}};Cs.getPropertiesHash=Cs.getNonDefaultPropertiesHash;var ks={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var i=e[n],r=i.selector,s=i.style||i.css,o=Object.keys(s);t.selector(r);for(var a=0;a<o.length;a++){var l=o[a],c=s[l];t.css(l,c)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],i=n.selector,r=n.properties,s={},o=0;o<r.length;o++){var a=r[o];s[a.name]=a.strValue}e.push({selector:i?i.toString():"core",style:s})}return e}},As={appendFromString:function(e){var t,n,i,r=this,s=""+e;function o(){s=s.length>t.length?s.substr(t.length):""}function a(){n=n.length>i.length?n.substr(i.length):""}for(s=s.replace(/[/][*](\s|.)+?[*][/]/g,"");!s.match(/^\s*$/);){var l=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){Ce("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}t=l[0];var c=l[1];if("core"!==c&&new wi(c).invalid)Ce("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),o();else{var u=l[2],h=!1;n=u;for(var d=[];!n.match(/^\s*$/);){var p=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){Ce("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),h=!0;break}i=p[0];var f=p[1],g=p[2];this.properties[f]?r.parse(f,g)?(d.push({name:f,val:g}),a()):(Ce("Skipping property: Invalid property definition in: "+i),a()):(Ce("Skipping property: Invalid property name in: "+i),a())}if(h){o();break}r.selector(c);for(var m=0;m<d.length;m++){var v=d[m];r.css(v.name,v.val)}o()}}return r},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Ds={};!function(){var e=G,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Ds.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return _(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var r={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=N(e),i=N(t);return n&&!i||!n&&i}},s=Ds.types,o=[{name:"label",type:s.text,triggersBounds:r.any,triggersZOrder:r.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any}],a=[{name:"source-label",type:s.text,triggersBounds:r.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"source-text-offset",type:s.size,triggersBounds:r.any}],l=[{name:"target-label",type:s.text,triggersBounds:r.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"target-text-offset",type:s.size,triggersBounds:r.any}],c=[{name:"font-family",type:s.fontFamily,triggersBounds:r.any},{name:"font-style",type:s.fontStyle,triggersBounds:r.any},{name:"font-weight",type:s.fontWeight,triggersBounds:r.any},{name:"font-size",type:s.size,triggersBounds:r.any},{name:"text-transform",type:s.textTransform,triggersBounds:r.any},{name:"text-wrap",type:s.textWrap,triggersBounds:r.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:r.any},{name:"text-max-width",type:s.size,triggersBounds:r.any},{name:"text-outline-width",type:s.size,triggersBounds:r.any},{name:"line-height",type:s.positiveNumber,triggersBounds:r.any}],u=[{name:"text-valign",type:s.valign,triggersBounds:r.any},{name:"text-halign",type:s.halign,triggersBounds:r.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:r.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:r.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:r.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:r.any},{name:"text-justification",type:s.justification}],h=[{name:"events",type:s.bool},{name:"text-events",type:s.bool}],d=[{name:"display",type:s.display,triggersZOrder:r.any,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:s.visibility,triggersZOrder:r.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:r.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:r.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:r.any},{name:"z-index",type:s.nonNegativeInt,triggersZOrder:r.any}],p=[{name:"overlay-padding",type:s.size,triggersBounds:r.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:r.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:r.any}],f=[{name:"underlay-padding",type:s.size,triggersBounds:r.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:r.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:r.any}],g=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},v=[{name:"height",type:s.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"width",type:s.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"shape",type:s.nodeShape,triggersBounds:r.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:r.any},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:r.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:r.any}],y=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:r.any},{name:"border-style",type:s.borderStyle}],b=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],x=[{name:"position",type:s.position,triggersBounds:r.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:r.any},{name:"min-width",type:s.size,triggersBounds:r.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-height",type:s.size,triggersBounds:r.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:r.any}],w=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:r.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:r.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:r.any},{name:"control-point-step-size",type:s.size,triggersBounds:r.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:r.any},{name:"control-point-weights",type:s.numbers,triggersBounds:r.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:r.any},{name:"segment-weights",type:s.numbers,triggersBounds:r.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:r.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:r.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:r.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:r.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:r.any},{name:"loop-direction",type:s.angle,triggersBounds:r.any},{name:"loop-sweep",type:s.angle,triggersBounds:r.any},{name:"source-distance-from-node",type:s.size,triggersBounds:r.any},{name:"target-distance-from-node",type:s.size,triggersBounds:r.any}],E=[{name:"ghost",type:s.bool,triggersBounds:r.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"ghost-opacity",type:s.zeroOneNumber}],S=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],C=[];Ds.pieBackgroundN=16,C.push({name:"pie-size",type:s.sizeMaybePercent});for(var k=1;k<=Ds.pieBackgroundN;k++)C.push({name:"pie-"+k+"-background-color",type:s.color}),C.push({name:"pie-"+k+"-background-size",type:s.percent}),C.push({name:"pie-"+k+"-background-opacity",type:s.zeroOneNumber});var A=[],D=Ds.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:r.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill}].forEach((function(e){D.forEach((function(t){var n=t+"-"+e.name,i=e.type,r=e.triggersBounds;A.push({name:n,type:i,triggersBounds:r})}))}),{});var T=Ds.properties=[].concat(h,g,d,p,f,E,u,c,o,a,l,v,y,b,C,x,w,A,S),M=Ds.propertyGroups={behavior:h,transition:g,visibility:d,overlay:p,underlay:f,ghost:E,commonLabel:u,labelDimensions:c,mainLabel:o,sourceLabel:a,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:b,pie:C,compound:x,edgeLine:w,edgeArrow:A,core:S},L=Ds.propertyGroupNames={};(Ds.propertyGroupKeys=Object.keys(M)).forEach((function(e){L[e]=M[e].map((function(e){return e.name})),M[e].forEach((function(t){return t.groupKey=e}))}));var $=Ds.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ds.propertyNames=T.map((function(e){return e.name}));for(var R=0;R<T.length;R++){var F=T[R];T[F.name]=F}for(var B=0;B<$.length;B++){var I=$[B],O=T[I.pointsTo],P={name:I.name,alias:!0,pointsTo:O};T.push(P),T[I.name]=P}}(),Ds.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Ds.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=K({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=Ds.pieBackgroundN;n++){var i=t.name.replace("{{i}}",n),r=t.value;e[i]=r}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return Ds.arrowPrefixes.forEach((function(n){var i=n+"-"+t.name,r=t.value;e[i]=r})),e}),{})),n={},i=0;i<this.properties.length;i++){var r=this.properties[i];if(!r.pointsTo){var s=r.name,o=t[s],a=this.parse(s,o);n[s]=a}}return e.defaultProperties=n,e.defaultProperties},Ds.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var _s={parse:function(e,t,n,i){var r=this;if(T(t))return r.parseImplWarn(e,t,n,i);var s,o=de(e,""+t,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),a=r.propCache=r.propCache||[];return(s=a[o])||(s=a[o]=r.parseImplWarn(e,t,n,i)),(n||"mapping"===i)&&(s=ke(s))&&(s.value=ke(s.value)),s},parseImplWarn:function(e,t,n,i){var r=this.parseImpl(e,t,n,i);return r||null==t||Ce("The style property `".concat(e,": ").concat(t,"` is invalid")),!r||"width"!==r.name&&"height"!==r.name||"label"!==t||Ce("The style value of `label` is deprecated for `"+r.name+"`"),r}};_s.parseImpl=function(e,t,n,i){var r=this;e=V(e);var s=r.properties[e],o=t,a=r.types;if(!s)return null;if(void 0===t)return null;s.alias&&(s=s.pointsTo,e=s.name);var l=_(t);l&&(t=t.trim());var c,u,h=s.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(T(t))return{name:e,value:t,strValue:"fn",mapped:a.fn,bypass:n};if(!l||i||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(c=new RegExp(a.data.regex).exec(t))){if(n)return!1;var d=a.data;return{name:e,value:c,strValue:""+t,mapped:d,field:c[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(a.mapData.regex).exec(t))){if(n)return!1;if(h.multiple)return!1;var p=a.mapData;if(!h.color&&!h.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var g=this.parse(e,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return Ce("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(h.color){var m=f.value,v=g.value;if(!(m[0]!==v[0]||m[1]!==v[1]||m[2]!==v[2]||m[3]!==v[3]&&(null!=m[3]&&1!==m[3]||null!=v[3]&&1!==v[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:p,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:n}}}if(h.multiple&&"multiple"!==i){var y;if(y=l?t.split(/\s+/):M(t)?t:[t],h.evenMultiple&&y.length%2!=0)return null;for(var b=[],x=[],w=[],E="",S=!1,C=0;C<y.length;C++){var k=r.parse(e,y[C],n,"multiple");S=S||_(k.value),b.push(k.value),w.push(null!=k.pfValue?k.pfValue:k.value),x.push(k.units),E+=(C>0?" ":"")+k.strValue}return h.validate&&!h.validate(b,x)?null:h.singleEnum&&S?1===b.length&&_(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:w,strValue:E,bypass:n,units:x}}var A,D,L,R=function(){for(var i=0;i<h.enums.length;i++)if(h.enums[i]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(h.number){var F,B="px";if(h.units&&(F=h.units),h.implicitUnits&&(B=h.implicitUnits),!h.unitless)if(l){var I="px|em"+(h.allowPercent?"|\\%":"");F&&(I=F);var O=t.match("^("+G+")("+I+")?$");O&&(t=O[1],F=O[2]||B)}else F&&!h.implicitUnits||(F=B);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=o,R();if(h.integer&&(!$(D=t)||Math.floor(D)!==D))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var P={name:e,value:t,strValue:""+t+(F||""),units:F,bypass:n};return h.unitless||"px"!==F&&"em"!==F?P.pfValue=t:P.pfValue="px"!==F&&F?this.getEmSizeInPixels()*t:t,"ms"!==F&&"s"!==F||(P.pfValue="ms"===F?t:1e3*t),"deg"!==F&&"rad"!==F||(P.pfValue="rad"===F?t:(A=t,Math.PI*A/180)),"%"===F&&(P.pfValue=t/100),P}if(h.propList){var N=[],z=""+t;if("none"===z);else{for(var W=z.split(/\s*,\s*|\s+/),H=0;H<W.length;H++){var j=W[H].trim();r.properties[j]?N.push(j):Ce("`"+j+"` is not a valid property name")}if(0===N.length)return null}return{name:e,value:N,strValue:0===N.length?"none":N.join(" "),bypass:n}}if(h.color){var U=(M(L=t)?L:null)||function(e){return X[e.toLowerCase()]}(L)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,i,r=16;return 4===e.length?(t=parseInt(e[1]+e[1],r),n=parseInt(e[2]+e[2],r),i=parseInt(e[3]+e[3],r)):(t=parseInt(e[1]+e[2],r),n=parseInt(e[3]+e[4],r),i=parseInt(e[5]+e[6],r)),[t,n,i]}}(L)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var i=[],r=1;r<=3;r++){var s=n[r];if("%"===s[s.length-1]&&(i[r]=!0),s=parseFloat(s),i[r]&&(s=s/100*255),s<0||s>255)return;t.push(Math.floor(s))}var o=i[1]||i[2]||i[3],a=i[1]&&i[2]&&i[3];if(o&&!a)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(L)||function(e){var t,n,i,r,s,o,a,l;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var u=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(u[2]))<0||i>100)return;if(i/=100,(r=parseFloat(u[3]))<0||r>100)return;if(r/=100,void 0!==(s=u[4])&&((s=parseFloat(s))<0||s>1))return;if(0===i)o=a=l=Math.round(255*r);else{var h=r<.5?r*(1+i):r+i-r*i,d=2*r-h;o=Math.round(255*c(d,h,n+1/3)),a=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}t=[o,a,l,s]}return t}(L);return U?{name:e,value:U,pfValue:U,strValue:"rgb("+U[0]+","+U[1]+","+U[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var q=R();if(q)return q}for(var K=h.regexes?h.regexes:[h.regex],Y=0;Y<K.length;Y++){var J=new RegExp(K[Y]).exec(t);if(J)return{name:e,value:h.singleRegexMatchValue?J[1]:J,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?R():null};var Ts=function e(t){if(!(this instanceof e))return new e(t);O(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Ee("A style must have a core reference")},Ms=Ts.prototype;Ms.instanceString=function(){return"style"},Ms.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},Ms.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ms.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Ms.selector=function(e){var t="core"===e?null:new wi(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},Ms.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],i=0;i<e.properties.length;i++){var r=e.properties[i],s=n[r.name];void 0===s&&(s=n[H(r.name)]),void 0!==s&&this.cssRule(r.name,s)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},Ms.style=Ms.css,Ms.cssRule=function(e,t){var n=this.parse(e,t);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},Ms.append=function(e){return P(e)?e.appendToStyle(this):M(e)?this.appendFromJson(e):_(e)&&this.appendFromString(e),this},Ts.fromJson=function(e,t){var n=new Ts(e);return n.fromJson(t),n},Ts.fromString=function(e,t){return new Ts(e).fromString(t)},[xs,Es,Ss,Cs,ks,As,Ds,_s].forEach((function(e){K(Ms,e)})),Ts.types=Ms.types,Ts.properties=Ms.properties,Ts.propertyGroups=Ms.propertyGroups,Ts.propertyGroupNames=Ms.propertyGroupNames,Ts.propertyGroupKeys=Ms.propertyGroupKeys;var Ls={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return P(e)?t.style=e.generateStyle(this):M(e)?t.style=Ts.fromJson(this,e):_(e)?t.style=Ts.fromString(this,e):t.style=Ts(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},$s={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,i,r,s=arguments,o=this._private.pan;switch(s.length){case 0:return o;case 1:if(_(s[0]))return o[e=s[0]];if(L(s[0])){if(!this._private.panningEnabled)return this;i=(n=s[0]).x,r=n.y,$(i)&&(o.x=i),$(r)&&(o.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=s[0],t=s[1],"x"!==e&&"y"!==e||!$(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,i,r,s,o,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:L(e)&&(s=(r=a[0]).x,o=r.y,$(s)&&(l.x+=s),$(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:i=t,"x"!==(n=e)&&"y"!==n||!$(i)||(l[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if($(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,i;if(_(e)){var r=e;e=this.$(r)}else if(L(i=e)&&$(i.x1)&&$(i.x2)&&$(i.y1)&&$(i.y2)){var s=e;(n={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else F(e)||(e=this.mutableElements());if(!F(e)||!e.empty()){n=n||e.boundingBox();var o,a=this.width(),l=this.height();if(t=$(t)?t:0,!isNaN(a)&&!isNaN(l)&&a>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((a-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(a-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var i=e;e=i.min,t=i.max}return $(e)&&$(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):$(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:$(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,i=this._private,r=i.pan,s=i.zoom,o=!1;if(i.zoomingEnabled||(o=!0),$(e)?n=e:L(e)&&(n=e.level,null!=e.position?t=Qe(e.position,s,r):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||i.panningEnabled||(o=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,o||!$(n)||n===s||null!=t&&(!$(t.x)||!$(t.y)))return null;if(null!=t){var a=r,l=s,c=n;return{zoomed:!0,panned:!0,zoom:c,pan:{x:-c/l*(t.x-a.x)+t.x,y:-c/l*(t.y-a.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:r}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,i=!0,r=[],s=!1,o=!1;if(!e)return this;if($(e.zoom)||(n=!1),L(e.pan)||(i=!1),!n&&!i)return this;if(n){var a=e.zoom;a<t.minZoom||a>t.maxZoom||!t.zoomingEnabled?s=!0:(t.zoom=a,r.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;$(l.x)&&(t.pan.x=l.x,o=!1),$(l.y)&&(t.pan.y=l.y,o=!1),o||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(_(e)){var n=e;e=this.mutableElements().filter(n)}else F(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),r=this.width(),s=this.height();return{x:(r-(t=void 0===t?this._private.zoom:t)*(i.x1+i.x2))/2,y:(s-t*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(e=w.getComputedStyle(i),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:i.clientWidth-t("padding-left")-t("padding-right"),height:i.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};$s.centre=$s.center,$s.autolockNodes=$s.autolock,$s.autoungrabifyNodes=$s.autoungrabify;var Rs={data:ii.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ii.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ii.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ii.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Rs.attr=Rs.data,Rs.removeAttr=Rs.removeData;var Fs=function(e){var t=this,n=(e=K({},e)).container;n&&!R(n)&&R(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var r=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var s=void 0!==w&&void 0!==n&&!e.headless,o=e;o.layout=K({name:s?"grid":"null"},o.layout),o.renderer=K({name:s?"canvas":"null"},o.renderer);var a=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:o,elements:new Jr(this),listeners:[],aniEles:new Jr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,o.zoomingEnabled),userZoomingEnabled:a(!0,o.userZoomingEnabled),panningEnabled:a(!0,o.panningEnabled),userPanningEnabled:a(!0,o.userPanningEnabled),boxSelectionEnabled:a(!0,o.boxSelectionEnabled),autolock:a(!1,o.autolock,o.autolockNodes),autoungrabify:a(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:a(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?s:o.styleEnabled,zoom:$(o.zoom)?o.zoom:1,pan:{x:L(o.pan)&&$(o.pan.x)?o.pan.x:0,y:L(o.pan)&&$(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:a(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom}),l.styleEnabled&&t.setStyle([]);var c=K({},o,o.renderer);t.initRenderer(c),function(e,t){if(e.some(z))return Jn.all(e).then(t);t(e)}([o.style,o.elements],(function(e){var n=e[0],s=e[1];l.styleEnabled&&t.style().append(n),function(e,n,i){t.notifications(!1);var r=t.mutableElements();r.length>0&&r.remove(),null!=e&&(L(e)||M(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",i),t.emit("done")}));var s=K({},t._private.options.layout);s.eles=t.elements(),t.layout(s).run()}(s,(function(){t.startAnimationLoop(),l.ready=!0,T(o.ready)&&t.on("ready",o.ready);for(var e=0;e<r.length;e++){var n=r[e];t.on("ready",n)}i&&(i.readies=[]),t.emit("ready")}),o.done)}))},Bs=Fs.prototype;K(Bs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,i=n.options;return!R(e)&&R(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(K({},i,i.renderer,{name:"null"===i.renderer.name?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ke(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements();if(L(e)){if(t.startBatch(),e.elements){var r={},s=function(e,n){for(var i=[],s=[],o=0;o<e.length;o++){var a=e[o];if(a.data.id){var l=""+a.data.id,c=t.getElementById(l);r[l]=!0,0!==c.length?s.push({ele:c,json:a}):n?(a.group=n,i.push(a)):i.push(a)}else Ce("cy.json() cannot handle elements without an ID attribute")}t.add(i);for(var u=0;u<s.length;u++){var h=s[u],d=h.ele,p=h.json;d.json(p)}};if(M(e.elements))s(e.elements);else for(var o=["nodes","edges"],a=0;a<o.length;a++){var l=o[a],c=e.elements[l];M(c)&&s(c,l)}var u=t.collection();i.filter((function(e){return!r[e.id()]})).forEach((function(e){e.isParent()?u.merge(e):e.remove()})),u.forEach((function(e){return e.children().move({parent:null})})),u.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<h.length;d++){var p=h[d];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var f={};e?f.elements=this.elements().map((function(e){return e.json()})):(f.elements={},i.forEach((function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())}))),this._private.styleEnabled&&(f.style=t.style().json()),f.data=ke(t.data());var g=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=ke(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=ke(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f.multiClickDebounceTime=g.multiClickDebounceTime,f}}),Bs.$id=Bs.getElementById,[Qr,us,ps,fs,gs,ms,ys,bs,Ls,$s,Rs].forEach((function(e){K(Bs,e)}));var Is={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Os=function(e){return e.scratch("breadthfirst")},Ps=function(e,t){return e.scratch("breadthfirst",t)};function Ns(e){this.options=K({},Is,e)}Ns.prototype.run=function(){var e,t=this.options,n=t,i=t.cy,r=n.eles,s=r.nodes().filter((function(e){return!e.isParent()})),o=r,a=n.directed,l=n.maximal||n.maximalAdjustments>0,c=ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(F(n.roots))e=n.roots;else if(M(n.roots)){for(var u=[],h=0;h<n.roots.length;h++){var d=n.roots[h],p=i.getElementById(d);u.push(p)}e=i.collection(u)}else if(_(n.roots))e=i.$(n.roots);else if(a)e=s.roots();else{var f=r.components();e=i.collection();for(var g=function(t){var n=f[t],i=n.maxDegree(!1),r=n.filter((function(e){return e.degree(!1)===i}));e=e.add(r)},m=0;m<f.length;m++)g(m)}var v=[],y={},b=function(e,t){null==v[t]&&(v[t]=[]);var n=v[t].length;v[t].push(e),Ps(e,{index:n,depth:t})};o.bfs({roots:e,directed:n.directed,visit:function(e,t,n,i,r){var s=e[0],o=s.id();b(s,r),y[o]=!0}});for(var x=[],w=0;w<s.length;w++){var E=s[w];y[E.id()]||x.push(E)}var S=function(e){for(var t=v[e],n=0;n<t.length;n++){var i=t[n];null!=i?Ps(i,{depth:e,index:n}):(t.splice(n,1),n--)}},C=function(){for(var e=0;e<v.length;e++)S(e)},k=function(e,t){for(var n=Os(e),i=e.incomers().filter((function(e){return e.isNode()&&r.has(e)})),s=-1,o=e.id(),a=0;a<i.length;a++){var l=i[a],c=Os(l);s=Math.max(s,c.depth)}return n.depth<=s&&(t[o]?null:(function(e,t){var n=Os(e),i=n.depth,r=n.index;v[i][r]=null,b(e,t)}(e,s+1),t[o]=!0,!0))};if(a&&l){var A=[],D={},T=function(e){return A.push(e)};for(s.forEach((function(e){return A.push(e)}));A.length>0;){var L=A.shift(),$=k(L,D);if($)L.outgoers().filter((function(e){return e.isNode()&&r.has(e)})).forEach(T);else if(null===$){Ce("Detected double maximal shift for node `"+L.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var R=0;if(n.avoidOverlap)for(var B=0;B<s.length;B++){var I=s[B].layoutDimensions(n),O=I.w,P=I.h;R=Math.max(R,O,P)}var N={},z=function(e){if(N[e.id()])return N[e.id()];for(var t=Os(e).depth,n=e.neighborhood(),i=0,r=0,o=0;o<n.length;o++){var a=n[o];if(!a.isEdge()&&!a.isParent()&&s.has(a)){var l=Os(a);if(null!=l){var c=l.index,u=l.depth;if(null!=c&&null!=u){var h=v[u].length;u<t&&(i+=c/h,r++)}}}}return i/=r=Math.max(1,r),0===r&&(i=0),N[e.id()]=i,i},W=function(e,t){var n=z(e)-z(t);return 0===n?q(e.id(),t.id()):n};void 0!==n.depthSort&&(W=n.depthSort);for(var V=0;V<v.length;V++)v[V].sort(W),S(V);for(var H=[],j=0;j<x.length;j++)H.push(x[j]);v.unshift(H),C();for(var U=0,G=0;G<v.length;G++)U=Math.max(v[G].length,U);var K=c.x1+c.w/2,X=c.x1+c.h/2,Y=v.reduce((function(e,t){return Math.max(e,t.length)}),0);return r.nodes().layoutPositions(this,n,(function(e){var t=Os(e),i=t.depth,r=t.index,s=v[i].length,o=Math.max(c.w/((n.grid?Y:s)+1),R),a=Math.max(c.h/(v.length+1),R),l=Math.min(c.w/2/v.length,c.h/2/v.length);if(l=Math.max(l,R),n.circle){var u=l*i+l-(v.length>0&&v[0].length<=3?l/2:0),h=2*Math.PI/v[i].length*r;return 0===i&&1===v[0].length&&(u=1),{x:K+u*Math.cos(h),y:X+u*Math.sin(h)}}return{x:K+(r+1-(s+1)/2)*o,y:(i+1)*a}})),this};var zs={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ws(e){this.options=K({},zs,e)}Ws.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=i.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var o,a=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=a.x1+a.w/2,c=a.y1+a.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep)/Math.max(1,s.length-1),h=0,d=0;d<s.length;d++){var p=s[d].layoutDimensions(t),f=p.w,g=p.h;h=Math.max(h,f,g)}if(o=$(t.radius)?t.radius:s.length<=1?0:Math.min(a.h,a.w)/2-h,s.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(u)-Math.cos(0),v=Math.sin(u)-Math.sin(0),y=Math.sqrt(h*h/(m*m+v*v));o=Math.max(y,o)}return i.nodes().layoutPositions(this,t,(function(e,n){var i=t.startAngle+n*u*(r?1:-1),s=o*Math.cos(i),a=o*Math.sin(i);return{x:l+s,y:c+a}})),this};var Vs,Hs={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function js(e){this.options=K({},Hs,e)}js.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=e.cy,r=t.eles,s=r.nodes().not(":parent"),o=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a=o.x1+o.w/2,l=o.y1+o.h/2,c=[],u=0,h=0;h<s.length;h++){var d,p=s[h];d=t.concentric(p),c.push({value:d,node:p}),p._private.scratch.concentric=d}s.updateStyle();for(var f=0;f<s.length;f++){var g=s[f].layoutDimensions(t);u=Math.max(u,g.w,g.h)}c.sort((function(e,t){return t.value-e.value}));for(var m=t.levelWidth(s),v=[[]],y=v[0],b=0;b<c.length;b++){var x=c[b];y.length>0&&Math.abs(y[0].value-x.value)>=m&&(y=[],v.push(y)),y.push(x)}var w=u+t.minNodeSpacing;if(!t.avoidOverlap){var E=v.length>0&&v[0].length>1,S=(Math.min(o.w,o.h)/2-w)/(v.length+E?1:0);w=Math.min(w,S)}for(var C=0,k=0;k<v.length;k++){var A=v[k],D=void 0===t.sweep?2*Math.PI-2*Math.PI/A.length:t.sweep,_=A.dTheta=D/Math.max(1,A.length-1);if(A.length>1&&t.avoidOverlap){var T=Math.cos(_)-Math.cos(0),M=Math.sin(_)-Math.sin(0),L=Math.sqrt(w*w/(T*T+M*M));C=Math.max(L,C)}A.r=C,C+=w}if(t.equidistant){for(var $=0,R=0,F=0;F<v.length;F++){var B=v[F].r-R;$=Math.max($,B)}R=0;for(var I=0;I<v.length;I++){var O=v[I];0===I&&(R=O.r),O.r=R,R+=$}}for(var P={},N=0;N<v.length;N++)for(var z=v[N],W=z.dTheta,V=z.r,H=0;H<z.length;H++){var j=z[H],U=t.startAngle+(n?1:-1)*W*H,G={x:a+V*Math.cos(U),y:l+V*Math.sin(U)};P[j.node.id()]=G}return r.nodes().layoutPositions(this,t,(function(e){var t=e.id();return P[t]})),this};var Us={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Gs(e){this.options=K({},Us,e),this.options.layout=this}Gs.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Vs=!0===e.debug;var i=qs(t,n,e);Vs&&(void 0)(i),e.randomize&&Ys(i);var r=ne(),s=function(){Zs(i,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(n.stopped||t>=e.numIter||(Qs(i,e),i.temperature=i.temperature*e.coolingFactor,i.temperature<e.minTemp))},a=function(){if(!0===e.animate||!1===e.animate)s(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),r=Js(i,e,t);t.layoutPositions(n,e,r)}},l=0,c=!0;if(!0===e.animate)!function t(){for(var n=0;c&&n<e.refresh;)c=o(l),l++,n++;c?(ne()-r>=e.animationThreshold&&s(),te(t)):(ho(i,e),a())}();else{for(;c;)c=o(l),l++;ho(i,e),a()}return this},Gs.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Gs.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var qs=function(e,t,n){for(var i=n.eles.edges(),r=n.eles.nodes(),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),a={},l=0;l<o.length;l++)for(var c=o[l],u=0;u<c.length;u++)a[c[u].id()]=l;for(l=0;l<s.nodeSize;l++){var h=(m=r[l]).layoutDimensions(n);(R={}).isLocked=m.locked(),R.id=m.data("id"),R.parentId=m.data("parent"),R.cmptId=a[m.id()],R.children=[],R.positionX=m.position("x"),R.positionY=m.position("y"),R.offsetX=0,R.offsetY=0,R.height=h.w,R.width=h.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(m.style("padding")),R.padRight=parseFloat(m.style("padding")),R.padTop=parseFloat(m.style("padding")),R.padBottom=parseFloat(m.style("padding")),R.nodeRepulsion=T(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,s.layoutNodes.push(R),s.idToIndex[R.id]=l}var d=[],p=0,f=-1,g=[];for(l=0;l<s.nodeSize;l++){var m,v=(m=s.layoutNodes[l]).parentId;null!=v?s.layoutNodes[s.idToIndex[v]].children.push(m.id):(d[++f]=m.id,g.push(m.id))}for(s.graphSet.push(g);p<=f;){var y=d[p++],b=s.idToIndex[y],x=s.layoutNodes[b].children;if(x.length>0)for(s.graphSet.push(x),l=0;l<x.length;l++)d[++f]=x[l]}for(l=0;l<s.graphSet.length;l++){var w=s.graphSet[l];for(u=0;u<w.length;u++){var E=s.idToIndex[w[u]];s.indexToGraph[E]=l}}for(l=0;l<s.edgeSize;l++){var S=i[l],C={};C.id=S.data("id"),C.sourceId=S.data("source"),C.targetId=S.data("target");var k=T(n.idealEdgeLength)?n.idealEdgeLength(S):n.idealEdgeLength,A=T(n.edgeElasticity)?n.edgeElasticity(S):n.edgeElasticity,D=s.idToIndex[C.sourceId],_=s.idToIndex[C.targetId];if(s.indexToGraph[D]!=s.indexToGraph[_]){for(var M=Ks(C.sourceId,C.targetId,s),L=s.graphSet[M],$=0,R=s.layoutNodes[D];-1===L.indexOf(R.id);)R=s.layoutNodes[s.idToIndex[R.parentId]],$++;for(R=s.layoutNodes[_];-1===L.indexOf(R.id);)R=s.layoutNodes[s.idToIndex[R.parentId]],$++;k*=$*n.nestingFactor}C.idealLength=k,C.elasticity=A,s.layoutEdges.push(C)}return s},Ks=function(e,t,n){var i=Xs(e,t,0,n);return 2>i.count?0:i.graph},Xs=function e(t,n,i,r){var s=r.graphSet[i];if(-1<s.indexOf(t)&&-1<s.indexOf(n))return{count:2,graph:i};for(var o=0,a=0;a<s.length;a++){var l=s[a],c=r.idToIndex[l],u=r.layoutNodes[c].children;if(0!==u.length){var h=e(t,n,r.indexToGraph[r.idToIndex[u[0]]],r);if(0!==h.count){if(1!==h.count)return h;if(2==++o)break}}}return{count:o,graph:i}},Ys=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,r=0;r<e.nodeSize;r++){var s=e.layoutNodes[r];0!==s.children.length||s.isLocked||(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},Js=function(e,t,n){var i=e.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];r.x1=Math.min(r.x1,n.positionX),r.x2=Math.max(r.x2,n.positionX),r.y1=Math.min(r.y1,n.positionY),r.y2=Math.max(r.y2,n.positionY)})),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(n,s){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var a=(o.positionX-r.x1)/r.w,l=(o.positionY-r.y1)/r.h;return{x:i.x1+a*i.w,y:i.y1+l*i.h}}return{x:o.positionX,y:o.positionY}}},Zs=function(e,t,n){var i=n.layout,r=n.eles.nodes(),s=Js(e,n,r);r.positions(s),!0!==e.ready&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Qs=function(e,t,n){eo(e,t),so(e),oo(e,t),ao(e),lo(e)},eo=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],r=i.length,s=0;s<r;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],a=s+1;a<r;a++){var l=e.layoutNodes[e.idToIndex[i[a]]];no(o,l,e,t)}},to=function(e){return-e+2*e*Math.random()},no=function(e,t,n,i){if(e.cmptId===t.cmptId||n.isCompound){var r=t.positionX-e.positionX,s=t.positionY-e.positionY;0===r&&0===s&&(r=to(1),s=to(1));var o=io(e,t,r,s);if(o>0)var a=(c=i.nodeOverlap*o)*r/(g=Math.sqrt(r*r+s*s)),l=c*s/g;else{var c,u=ro(e,r,s),h=ro(t,-1*r,-1*s),d=h.x-u.x,p=h.y-u.y,f=d*d+p*p,g=Math.sqrt(f);a=(c=(e.nodeRepulsion+t.nodeRepulsion)/f)*d/g,l=c*p/g}e.isLocked||(e.offsetX-=a,e.offsetY-=l),t.isLocked||(t.offsetX+=a,t.offsetY+=l)}},io=function(e,t,n,i){if(n>0)var r=e.maxX-t.minX;else r=t.maxX-e.minX;if(i>0)var s=e.maxY-t.minY;else s=t.maxY-e.minY;return r>=0&&s>=0?Math.sqrt(r*r+s*s):0},ro=function(e,t,n){var i=e.positionX,r=e.positionY,s=e.height||1,o=e.width||1,a=n/t,l=s/o,c={};return 0===t&&0<n||0===t&&0>n?(c.x=i,c.y=r+s/2,c):0<t&&-1*l<=a&&a<=l?(c.x=i+o/2,c.y=r+o*n/2/t,c):0>t&&-1*l<=a&&a<=l?(c.x=i-o/2,c.y=r-o*n/2/t,c):0<n&&(a<=-1*l||a>=l)?(c.x=i+s*t/2/n,c.y=r+s/2,c):0>n&&(a<=-1*l||a>=l)?(c.x=i-s*t/2/n,c.y=r-s/2,c):c},so=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],r=e.idToIndex[i.sourceId],s=e.layoutNodes[r],o=e.idToIndex[i.targetId],a=e.layoutNodes[o],l=a.positionX-s.positionX,c=a.positionY-s.positionY;if(0!==l||0!==c){var u=ro(s,l,c),h=ro(a,-1*l,-1*c),d=h.x-u.x,p=h.y-u.y,f=Math.sqrt(d*d+p*p),g=Math.pow(i.idealLength-f,2)/i.elasticity;if(0!==f)var m=g*d/f,v=g*p/f;else m=0,v=0;s.isLocked||(s.offsetX+=m,s.offsetY+=v),a.isLocked||(a.offsetX-=m,a.offsetY-=v)}}},oo=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],r=i.length;if(0===n)var s=e.clientHeight/2,o=e.clientWidth/2;else{var a=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[a.parentId]];s=l.positionX,o=l.positionY}for(var c=0;c<r;c++){var u=e.layoutNodes[e.idToIndex[i[c]]];if(!u.isLocked){var h=s-u.positionX,d=o-u.positionY,p=Math.sqrt(h*h+d*d);if(p>1){var f=t.gravity*h/p,g=t.gravity*d/p;u.offsetX+=f,u.offsetY+=g}}}}},ao=function(e,t){var n=[],i=0,r=-1;for(n.push.apply(n,e.graphSet[0]),r+=e.graphSet[0].length;i<=r;){var s=n[i++],o=e.idToIndex[s],a=e.layoutNodes[o],l=a.children;if(0<l.length&&!a.isLocked){for(var c=a.offsetX,u=a.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=u,n[++r]=l[h]}a.offsetX=0,a.offsetY=0}}},lo=function(e,t){for(var n=0;n<e.nodeSize;n++)0<(r=e.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(r=e.layoutNodes[n]).children.length||r.isLocked)){var i=co(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,uo(r,e)}for(n=0;n<e.nodeSize;n++){var r;0<(r=e.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},co=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var r={x:n*e/i,y:n*t/i};else r={x:e,y:t};return r},uo=function e(t,n){var i=t.parentId;if(null!=i){var r=n.layoutNodes[n.idToIndex[i]],s=!1;return(null==r.maxX||t.maxX+r.padRight>r.maxX)&&(r.maxX=t.maxX+r.padRight,s=!0),(null==r.minX||t.minX-r.padLeft<r.minX)&&(r.minX=t.minX-r.padLeft,s=!0),(null==r.maxY||t.maxY+r.padBottom>r.maxY)&&(r.maxY=t.maxY+r.padBottom,s=!0),(null==r.minY||t.minY-r.padTop<r.minY)&&(r.minY=t.minY-r.padTop,s=!0),s?e(r,n):void 0}},ho=function(e,t){for(var n=e.layoutNodes,i=[],r=0;r<n.length;r++){var s=n[r],o=s.cmptId;(i[o]=i[o]||[]).push(s)}var a=0;for(r=0;r<i.length;r++)if(g=i[r]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var c=g[l];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}i.sort((function(e,t){return t.w*t.h-e.w*e.h}));var u=0,h=0,d=0,p=0,f=Math.sqrt(a)*e.clientWidth/e.clientHeight;for(r=0;r<i.length;r++){var g;if(g=i[r]){for(l=0;l<g.length;l++)(c=g[l]).isLocked||(c.positionX+=u-g.x1,c.positionY+=h-g.y1);u+=g.w+t.componentSpacing,d+=g.w+t.componentSpacing,p=Math.max(p,g.h),d>f&&(h+=p+t.componentSpacing,u=0,d=0,p=0)}}},po={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fo(e){this.options=K({},po,e)}fo.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles,r=i.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));var s=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===s.h||0===s.w)i.nodes().layoutPositions(this,t,(function(e){return{x:s.x1,y:s.y1}}));else{var o=r.size(),a=Math.sqrt(o*s.h/s.w),l=Math.round(a),c=Math.round(s.w/s.h*a),u=function(e){if(null==e)return Math.min(l,c);Math.min(l,c)==l?l=e:c=e},h=function(e){if(null==e)return Math.max(l,c);Math.max(l,c)==l?l=e:c=e},d=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=p)l=d,c=p;else if(null!=d&&null==p)l=d,c=Math.ceil(o/l);else if(null==d&&null!=p)c=p,l=Math.ceil(o/c);else if(c*l>o){var f=u(),g=h();(f-1)*g>=o?u(f-1):(g-1)*f>=o&&h(g-1)}else for(;c*l<o;){var m=u(),v=h();(v+1)*m>=o?h(v+1):u(m+1)}var y=s.w/c,b=s.h/l;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var x=0;x<r.length;x++){var w=r[x],E=w._private.position;null!=E.x&&null!=E.y||(E.x=0,E.y=0);var S=w.layoutDimensions(t),C=t.avoidOverlapPadding,k=S.w+C,A=S.h+C;y=Math.max(y,k),b=Math.max(b,A)}for(var D={},_=function(e,t){return!!D["c-"+e+"-"+t]},T=function(e,t){D["c-"+e+"-"+t]=!0},M=0,L=0,$=function(){++L>=c&&(L=0,M++)},R={},F=0;F<r.length;F++){var B=r[F],I=t.position(B);if(I&&(void 0!==I.row||void 0!==I.col)){var O={row:I.row,col:I.col};if(void 0===O.col)for(O.col=0;_(O.row,O.col);)O.col++;else if(void 0===O.row)for(O.row=0;_(O.row,O.col);)O.row++;R[B.id()]=O,T(O.row,O.col)}}r.layoutPositions(this,t,(function(e,t){var n,i;if(e.locked()||e.isParent())return!1;var r=R[e.id()];if(r)n=r.col*y+y/2+s.x1,i=r.row*b+b/2+s.y1;else{for(;_(M,L);)$();n=L*y+y/2+s.x1,i=M*b+b/2+s.y1,T(M,L),$()}return{x:n,y:i}}))}return this};var go={ready:function(){},stop:function(){}};function mo(e){this.options=K({},go,e)}mo.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},mo.prototype.stop=function(){return this};var vo={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function yo(e){this.options=K({},vo,e)}yo.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=T(e.positions);return t.layoutPositions(this,e,(function(t,i){var r=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var i=e.positions[t._private.data.id];return null==i?null:i}(t);return!t.locked()&&null!=r&&r})),this};var bo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function xo(e){this.options=K({},bo,e)}xo.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,i=ht(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,(function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}})),this};var wo=[{name:"breadthfirst",impl:Ns},{name:"circle",impl:Ws},{name:"concentric",impl:js},{name:"cose",impl:Gs},{name:"grid",impl:fo},{name:"null",impl:mo},{name:"preset",impl:yo},{name:"random",impl:xo}];function Eo(e){this.options=e,this.notifications=0}var So=function(){},Co=function(){throw new Error("A headless instance can not render images")};Eo.prototype={recalculateRenderedStyle:So,notify:function(){this.notifications++},init:So,isHeadless:function(){return!0},png:Co,jpg:Co};var ko={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,i,r,s,o){var a=r.x-n/2-o,l=r.x+n/2+o,c=r.y-n/2-o,u=r.y+n/2+o;return a<=e&&e<=l&&c<=t&&t<=u},i=function(e,t,n,i,r){var s=e*Math.cos(i)-t*Math.sin(i),o=(e*Math.sin(i)+t*Math.cos(i))*n;return{x:s*n+r.x,y:o+r.y}},r=function(e,t,n,r){for(var s=[],o=0;o<e.length;o+=2){var a=e[o],l=e[o+1];s.push(i(a,l,t,n,r))}return s},s=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i.x,i.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},a=function(i,a){_(a)&&(a=e[a]),e[i]=K({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,o,a){var l=s(r(this.points,n+2*a,i,o));return Ct(e,t,l)},roughCollide:n,draw:function(e,n,i,s){var o=r(this.points,n,i,s);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},a)};a("none",{collide:be,roughCollide:be,draw:we,spacing:xe,gap:xe}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,s,o,a){var l=r(this.points,n,s,o),c=this.controlPoint,u=i(c[0],c[1],n,s,o);t.arrowShapeImpl(this.name)(e,l,u)},gap:function(e){return.8*o(e)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,o,a,l){var c=s(r(this.points,n+2*l,i,o)),u=s(r(this.pointsTee,n+2*l,i,o));return Ct(e,t,c)||Ct(e,t,u)},draw:function(e,n,i,s,o){var a=r(this.points,n,i,s),l=r(this.pointsTee,n,i,s);t.arrowShapeImpl(this.name)(e,a,l)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,i,o,a,l){var c=o,u=Math.pow(c.x-e,2)+Math.pow(c.y-t,2)<=Math.pow((n+2*l)*this.radius,2),h=s(r(this.points,n+2*l,i,o));return Ct(e,t,h)||u},draw:function(e,n,i,s,o){var a=r(this.pointsTr,n,i,s);t.arrowShapeImpl(this.name)(e,a,s.x,s.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),i=t/e;return n[3]=n[3]-i,n[5]=n[5]-i,n},collide:function(e,t,n,i,o,a,l){var c=s(r(this.points,n+2*l,i,o)),u=s(r(this.crossLinePts(n,a),n+2*l,i,o));return Ct(e,t,c)||Ct(e,t,u)},draw:function(e,n,i,s,o){var a=r(this.points,n,i,s),l=r(this.crossLinePts(n,o),n,i,s);t.arrowShapeImpl(this.name)(e,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),a("circle",{radius:.15,collide:function(e,t,n,i,r,s,o){var a=r;return Math.pow(a.x-e,2)+Math.pow(a.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,i,r,s){t.arrowShapeImpl(this.name)(e,r.x,r.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Ao={projectIntoViewport:function(e,t){var n=this.cy,i=this.findContainerClientCoords(),r=i[0],s=i[1],o=i[4],a=n.pan(),l=n.zoom();return[((e-r)/o-a.x)/l,((t-s)/o-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=w.getComputedStyle(e),i=function(e){return parseFloat(n.getPropertyValue(e))},r=i("padding-left"),s=i("padding-right"),o=i("padding-top"),a=i("padding-bottom"),l=i("border-left-width"),c=i("border-right-width"),u=i("border-top-width"),h=(i("border-bottom-width"),e.clientWidth),d=e.clientHeight,p=r+s,f=o+a,g=l+c,m=t.width/(h+g),v=h-p,y=d-f,b=t.left+r+l,x=t.top+o+u;return this.containerBB=[b,x,v,y,m]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,i){return this.findNearestElements(e,t,n,i)[0]},findNearestElements:function(e,t,n,i){var r,s,o=this,a=this,l=a.getCachedZSortedEles(),c=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(i?24:8)/u,p=(i?8:2)/u,f=(i?8:2)/u,g=1/0;function m(e,t){if(e.isNode()){if(s)return;s=e,c.push(e)}if(e.isEdge()&&(null==t||t<g))if(r){if(r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=e,r=e,g=null!=t?t:g;break}}else c.push(e),r=e,g=null!=t?t:g}function v(n){var i=n.outerWidth()+2*p,r=n.outerHeight()+2*p,s=i/2,l=r/2,c=n.position();if(c.x-s<=e&&e<=c.x+s&&c.y-l<=t&&t<=c.y+l&&a.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,i,r,c.x,c.y))return m(n,0),!0}function y(n){var i,r=n._private,s=r.rscratch,l=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,g=2*p,y=r.source,b=r.target;if("segments"===s.edgeType||"straight"===s.edgeType||"haystack"===s.edgeType){for(var x=s.allpts,w=0;w+3<x.length;w+=2)if(xt(e,t,x[w],x[w+1],x[w+2],x[w+3],g)&&f>(i=St(e,t,x[w],x[w+1],x[w+2],x[w+3])))return m(n,i),!0}else if("bezier"===s.edgeType||"multibezier"===s.edgeType||"self"===s.edgeType||"compound"===s.edgeType)for(x=s.allpts,w=0;w+5<s.allpts.length;w+=4)if(wt(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],g)&&f>(i=Et(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return m(n,i),!0;y=y||r.source,b=b||r.target;var E=o.getArrowWidth(l,u),S=[{name:"source",x:s.arrowStartX,y:s.arrowStartY,angle:s.srcArrowAngle},{name:"target",x:s.arrowEndX,y:s.arrowEndY,angle:s.tgtArrowAngle},{name:"mid-source",x:s.midX,y:s.midY,angle:s.midsrcArrowAngle},{name:"mid-target",x:s.midX,y:s.midY,angle:s.midtgtArrowAngle}];for(w=0;w<S.length;w++){var C=S[w],k=a.arrowShapes[n.pstyle(C.name+"-arrow-shape").value],A=n.pstyle("width").pfValue;if(k.roughCollide(e,t,E,C.angle,{x:C.x,y:C.y},A,d)&&k.collide(e,t,E,C.angle,{x:C.x,y:C.y},A,d))return m(n),!0}h&&c.length>0&&(v(y),v(b))}function b(e,t,n){return $e(e,t,n)}function x(n,i){var r,s=n._private,o=f;r=i?i+"-":"",n.boundingBox();var a=s.labelBounds[i||"main"],l=n.pstyle(r+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=b(s.rscratch,"labelX",i),u=b(s.rscratch,"labelY",i),h=b(s.rscratch,"labelAngle",i),d=n.pstyle(r+"text-margin-x").pfValue,p=n.pstyle(r+"text-margin-y").pfValue,g=a.x1-o-d,v=a.x2+o-d,y=a.y1-o-p,x=a.y2+o-p;if(h){var w=Math.cos(h),E=Math.sin(h),S=function(e,t){return{x:(e-=c)*w-(t-=u)*E+c,y:e*E+t*w+u}},C=S(g,y),k=S(g,x),A=S(v,y),D=S(v,x),_=[C.x+d,C.y+p,A.x+d,A.y+p,D.x+d,D.y+p,k.x+d,k.y+p];if(Ct(e,t,_))return m(n),!0}else if(vt(a,e,t))return m(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var E=l[w];E.isNode()?v(E)||x(E):y(E)||x(E)||x(E,"source")||x(E,"target")}return c},getAllInBox:function(e,t,n,i){for(var r,s,o=this.getCachedZSortedEles().interactive,a=[],l=Math.min(e,n),c=Math.max(e,n),u=Math.min(t,i),h=Math.max(t,i),d=ht({x1:e=l,y1:t=u,x2:n=c,y2:i=h}),p=0;p<o.length;p++){var f=o[p];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});mt(d,m)&&!yt(m,d)&&a.push(g)}else{var v=f,y=v._private,b=y.rscratch;if(null!=b.startX&&null!=b.startY&&!vt(d,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!vt(d,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var x=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,E=0;E<x.length;E++)if(r=d,s=x[E],!vt(r,s.x,s.y)){w=!1;break}w&&a.push(v)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||a.push(v)}}return a}},Do={calculateArrowAngles:function(e){var t,n,i,r,s,o,a=e._private.rscratch,l="haystack"===a.edgeType,c="bezier"===a.edgeType,u="multibezier"===a.edgeType,h="segments"===a.edgeType,d="compound"===a.edgeType,p="self"===a.edgeType;if(l?(i=a.haystackPts[0],r=a.haystackPts[1],s=a.haystackPts[2],o=a.haystackPts[3]):(i=a.arrowStartX,r=a.arrowStartY,s=a.arrowEndX,o=a.arrowEndY),g=a.midX,m=a.midY,h)t=i-a.segpts[0],n=r-a.segpts[1];else if(u||d||p||c){var f=a.allpts;t=i-lt(f[0],f[2],f[4],.1),n=r-lt(f[1],f[3],f[5],.1)}else t=i-g,n=r-m;a.srcArrowAngle=nt(t,n);var g=a.midX,m=a.midY;if(l&&(g=(i+s)/2,m=(r+o)/2),t=s-i,n=o-r,h)if((f=a.allpts).length/2%2==0){var v=(y=f.length/2)-2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else{v=(y=f.length/2-1)-2;var y,b=y+2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else if(u||d||p){var x,w,E,S;f=a.allpts;if(a.ctrlpts.length/2%2==0){var C=2+(k=2+(A=f.length/2-1));x=lt(f[A],f[k],f[C],0),w=lt(f[A+1],f[k+1],f[C+1],0),E=lt(f[A],f[k],f[C],1e-4),S=lt(f[A+1],f[k+1],f[C+1],1e-4)}else{var k,A;C=2+(k=f.length/2-1),x=lt(f[A=k-2],f[k],f[C],.4999),w=lt(f[A+1],f[k+1],f[C+1],.4999),E=lt(f[A],f[k],f[C],.5),S=lt(f[A+1],f[k+1],f[C+1],.5)}t=E-x,n=S-w}if(a.midtgtArrowAngle=nt(t,n),a.midDispX=t,a.midDispY=n,t*=-1,n*=-1,h&&((f=a.allpts).length/2%2==0||(t=-(f[b=2+(y=f.length/2-1)]-f[y]),n=-(f[b+1]-f[y+1]))),a.midsrcArrowAngle=nt(t,n),h)t=s-a.segpts[a.segpts.length-2],n=o-a.segpts[a.segpts.length-1];else if(u||d||p||c){var D=(f=a.allpts).length;t=s-lt(f[D-6],f[D-4],f[D-2],.9),n=o-lt(f[D-5],f[D-3],f[D-1],.9)}else t=s-g,n=o-m;a.tgtArrowAngle=nt(t,n)}};Do.getArrowWidth=Do.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[e+", "+t];return i||(i=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=i,i)};var _o={};function To(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];t.push({x:i,y:r})}return t}}_o.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n._private,r=i.rscratch;if(!r.haystack){var s=2*Math.random()*Math.PI;r.source={x:Math.cos(s),y:Math.sin(s)},s=2*Math.random()*Math.PI,r.target={x:Math.cos(s),y:Math.sin(s)}}var o=i.source,a=i.target,l=o.position(),c=a.position(),u=o.width(),h=a.width(),d=o.height(),p=a.height(),f=n.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*u*f+l.x,r.source.y*d*f+l.y,r.target.x*h*f+c.x,r.target.y*p*f+c.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},_o.findSegmentsPoints=function(e,t){var n=e._private.rscratch,i=t.posPts,r=t.intersectionPts,s=t.vectorNormInverse,o=e.pstyle("edge-distances").value,a=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),c=Math.min(a.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var u=0;u<c;u++){var h=a.pfValue[u],d=l.pfValue[u],p=1-h,f=h,g="node-position"===o?i:r,m={x:g.x1*p+g.x2*f,y:g.y1*p+g.y2*f};n.segpts.push(m.x+s.x*d,m.y+s.y*d)}},_o.findLoopPoints=function(e,t,n,i){var r=e._private.rscratch,s=t.dirCounts,o=t.srcPos,a=e.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,u=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;r.edgeType="self";var d=n,p=h;i&&(d=0,p=l);var f=c-Math.PI/2,g=f-u/2,m=f+u/2,v=String(c+"_"+u);d=void 0===s[v]?s[v]=0:++s[v],r.ctrlpts=[o.x+1.4*Math.cos(g)*p*(d/3+1),o.y+1.4*Math.sin(g)*p*(d/3+1),o.x+1.4*Math.cos(m)*p*(d/3+1),o.y+1.4*Math.sin(m)*p*(d/3+1)]},_o.findCompoundLoopPoints=function(e,t,n,i){var r=e._private.rscratch;r.edgeType="compound";var s=t.srcPos,o=t.tgtPos,a=t.srcW,l=t.srcH,c=t.tgtW,u=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,f=n,g=h;i&&(f=0,g=p);var m={x:s.x-a/2,y:s.y-l/2},v={x:o.x-c/2,y:o.y-u/2},y={x:Math.min(m.x,v.x),y:Math.min(m.y,v.y)},b=Math.max(.5,Math.log(.01*a)),x=Math.max(.5,Math.log(.01*c));r.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,y.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*x,y.y]},_o.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},_o.findBezierPoints=function(e,t,n,i,r){var s=e._private.rscratch,o=t.vectorNormInverse,a=t.posPts,l=t.intersectionPts,c=e.pstyle("edge-distances").value,u=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=e.pstyle("control-point-weights"),p=h&&d?Math.min(h.value.length,d.value.length):1,f=h?h.pfValue[0]:void 0,g=d.value[0],m=i;s.edgeType=m?"multibezier":"bezier",s.ctrlpts=[];for(var v=0;v<p;v++){var y,b=(.5-t.eles.length/2+n)*u*(r?-1:1),x=rt(b);m&&(f=h?h.pfValue[v]:u,g=d.value[v]);var w=void 0!==(y=i?f:void 0!==f?x*f:void 0)?y:b,E=1-g,S=g,C="node-position"===c?a:l,k={x:C.x1*E+C.x2*S,y:C.y1*E+C.y2*S};s.ctrlpts.push(k.x+o.x*w,k.y+o.y*w)}},_o.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var i="vertical",r="horizontal",s="leftward",o="rightward",a="downward",l="upward",c=t.posPts,u=t.srcW,h=t.srcH,d=t.tgtW,p=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,m=g,v=e.pstyle("taxi-turn"),y="%"===v.units,b=v.pfValue,x=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,E=f?(u+d)/2:0,S=f?(h+p)/2:0,C=c.x2-c.x1,k=c.y2-c.y1,A=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},D=A(C,E),_=A(k,S),T=!1;"auto"===m?g=Math.abs(D)>Math.abs(_)?r:i:m===l||m===a?(g=i,T=!0):m!==s&&m!==o||(g=r,T=!0);var M,L=g===i,$=L?_:D,R=L?k:C,F=rt(R),B=!1;T&&(y||x)||!(m===a&&R<0||m===l&&R>0||m===s&&R>0||m===o&&R<0)||($=(F*=-1)*Math.abs($),B=!0);var I=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs($)},O=I(M=y?(b<0?1+b:b)*$:(b<0?$:0)+b*F),P=I(Math.abs($)-Math.abs(M));if(!O&&!P||B)if(L){var N=c.y1+M+(f?h/2*F:0),z=c.x1,W=c.x2;n.segpts=[z,N,W,N]}else{var V=c.x1+M+(f?u/2*F:0),H=c.y1,j=c.y2;n.segpts=[V,H,V,j]}else if(L){var U=Math.abs(R)<=h/2,G=Math.abs(C)<=d/2;if(U){var q=(c.x1+c.x2)/2,K=c.y1,X=c.y2;n.segpts=[q,K,q,X]}else if(G){var Y=(c.y1+c.y2)/2,J=c.x1,Z=c.x2;n.segpts=[J,Y,Z,Y]}else n.segpts=[c.x1,c.y2]}else{var Q=Math.abs(R)<=u/2,ee=Math.abs(k)<=p/2;if(Q){var te=(c.y1+c.y2)/2,ne=c.x1,ie=c.x2;n.segpts=[ne,te,ie,te]}else if(ee){var re=(c.x1+c.x2)/2,se=c.y1,oe=c.y2;n.segpts=[re,se,re,oe]}else n.segpts=[c.x2,c.y1]}},_o.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var i=t.srcPos,r=t.tgtPos,s=t.srcW,o=t.srcH,a=t.tgtW,l=t.tgtH,c=t.srcShape,u=t.tgtShape,h=!$(n.startX)||!$(n.startY),d=!$(n.arrowStartX)||!$(n.arrowStartY),p=!$(n.endX)||!$(n.endY),f=!$(n.arrowEndX)||!$(n.arrowEndY),g=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,m=st({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=m<g,y=st({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=y<g,x=!1;if(h||d||v){x=!0;var w={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},E=Math.sqrt(w.x*w.x+w.y*w.y),S={x:w.x/E,y:w.y/E},C=Math.max(s,o),k={x:n.ctrlpts[0]+2*S.x*C,y:n.ctrlpts[1]+2*S.y*C},A=c.intersectLine(i.x,i.y,s,o,k.x,k.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(g-m)):(n.ctrlpts[0]=A[0]+S.x*g,n.ctrlpts[1]=A[1]+S.y*g)}if(p||f||b){x=!0;var D={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},_=Math.sqrt(D.x*D.x+D.y*D.y),T={x:D.x/_,y:D.y/_},M=Math.max(s,o),L={x:n.ctrlpts[0]+2*T.x*M,y:n.ctrlpts[1]+2*T.y*M},R=u.intersectLine(r.x,r.y,a,l,L.x,L.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+T.x*(g-y),n.ctrlpts[1]=n.ctrlpts[1]+T.y*(g-y)):(n.ctrlpts[0]=R[0]+T.x*g,n.ctrlpts[1]=R[1]+T.y*g)}x&&this.findEndpoints(e)}},_o.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var i;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(i=t.allpts.length/2-1,t.midX=t.allpts[i],t.midY=t.allpts[i+1]):(i=t.allpts.length/2-3,t.midX=lt(t.allpts[i],t.allpts[i+2],t.allpts[i+4],.5),t.midY=lt(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var r=t.segpts.length/2,s=r-2;t.midX=(t.segpts[s]+t.segpts[r])/2,t.midY=(t.segpts[s+1]+t.segpts[r+1])/2}else{var o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},_o.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||$(t.startX)&&$(t.startY)&&$(t.endX)&&$(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ce("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},_o.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,i=n.cy.hasCompoundNodes(),r={map:new Fe,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new Fe,this.map.set(e[0],n)),n.set(e[1],t)}},s=[],o=[],a=0;a<e.length;a++){var l=e[a],c=l._private,u=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==u){var h="unbundled-bezier"===u||"segments"===u||"straight"===u||"straight-triangle"===u||"taxi"===u,d="unbundled-bezier"===u||"bezier"===u,p=c.source,f=c.target,g=[p.poolIndex(),f.poolIndex()].sort(),m=r.get(g);null==m&&(m={eles:[]},r.set(g,m),s.push(g)),m.eles.push(l),h&&(m.hasUnbundled=!0),d&&(m.hasBezier=!0)}else o.push(l)}for(var v=function(e){var o=s[e],a=r.get(o),l=void 0;if(!a.hasUnbundled){var c=a.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Le(a.eles),c.forEach((function(e){return a.eles.push(e)})),a.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var u=a.eles[0],h=u.source(),d=u.target();if(h.poolIndex()>d.poolIndex()){var p=h;h=d,d=p}var f=a.srcPos=h.position(),g=a.tgtPos=d.position(),m=a.srcW=h.outerWidth(),v=a.srcH=h.outerHeight(),y=a.tgtW=d.outerWidth(),b=a.tgtH=d.outerHeight(),x=a.srcShape=n.nodeShapes[t.getNodeShape(h)],w=a.tgtShape=n.nodeShapes[t.getNodeShape(d)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var E=0;E<a.eles.length;E++){var S=a.eles[E],C=S[0]._private.rscratch,k=S.pstyle("curve-style").value,A="unbundled-bezier"===k||"segments"===k||"taxi"===k,D=!h.same(S.source());if(!a.calculatedIntersection&&h!==d&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var _=x.intersectLine(f.x,f.y,m,v,g.x,g.y,0),T=a.srcIntn=_,M=w.intersectLine(g.x,g.y,y,b,f.x,f.y,0),L=a.tgtIntn=M,R=a.intersectionPts={x1:_[0],x2:M[0],y1:_[1],y2:M[1]},F=a.posPts={x1:f.x,x2:g.x,y1:f.y,y2:g.y},B=M[1]-_[1],I=M[0]-_[0],O=Math.sqrt(I*I+B*B),P=a.vector={x:I,y:B},N=a.vectorNorm={x:P.x/O,y:P.y/O},z={x:-N.y,y:N.x};a.nodesOverlap=!$(O)||w.checkPoint(_[0],_[1],0,y,b,g.x,g.y)||x.checkPoint(M[0],M[1],0,m,v,f.x,f.y),a.vectorNormInverse=z,l={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:g,tgtPos:f,srcW:y,srcH:b,tgtW:m,tgtH:v,srcIntn:L,tgtIntn:T,srcShape:w,tgtShape:x,posPts:{x1:F.x2,y1:F.y2,x2:F.x1,y2:F.y1},intersectionPts:{x1:R.x2,y1:R.y2,x2:R.x1,y2:R.y1},vector:{x:-P.x,y:-P.y},vectorNorm:{x:-N.x,y:-N.y},vectorNormInverse:{x:-z.x,y:-z.y}}}var W=D?l:a;C.nodesOverlap=W.nodesOverlap,C.srcIntn=W.srcIntn,C.tgtIntn=W.tgtIntn,i&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d)&&h.isParent())?t.findCompoundLoopPoints(S,W,E,A):h===d?t.findLoopPoints(S,W,E,A):"segments"===k?t.findSegmentsPoints(S,W):"taxi"===k?t.findTaxiPoints(S,W):"straight"===k||!A&&a.eles.length%2==1&&E===Math.floor(a.eles.length/2)?t.findStraightEdgePoints(S):t.findBezierPoints(S,W,E,A,D),t.findEndpoints(S),t.tryToCorrectInvalidPoints(S,W),t.checkForInvalidEdgeWarning(S),t.storeAllpts(S),t.storeEdgeProjections(S),t.calculateArrowAngles(S),t.recalculateEdgeLabelProjections(S),t.calculateLabelAngles(S)}},y=0;y<s.length;y++)v(y);this.findHaystackPoints(o)}},_o.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),To(t.segpts)},_o.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),To(t.ctrlpts)},_o.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Mo={manualEndptToPx:function(e,t){var n=e.position(),i=e.outerWidth(),r=e.outerHeight();if(2===t.value.length){var s=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(s[0]=s[0]*i),"%"===t.units[1]&&(s[1]=s[1]*r),s[0]+=n.x,s[1]+=n.y,s}var o=t.pfValue[0];o=-Math.PI/2+o;var a=2*Math.max(i,r),l=[n.x+Math.cos(o)*a,n.y+Math.sin(o)*a];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,r,l[0],l[1],0)},findEndpoints:function(e){var t,n,i,r,s,o=this,a=e.source()[0],l=e.target()[0],c=a.position(),u=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,m=e._private.rscratch,v=m.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,x="bezier"!==v,w="straight"===v||"segments"===v,E="segments"===v,S=b||x||w,C=y||"taxi"===g,k=e.pstyle("source-endpoint"),A=C?"outside-to-node":k.value,D=e.pstyle("target-endpoint"),_=C?"outside-to-node":D.value;if(m.srcManEndpt=k,m.tgtManEndpt=D,b){var T=[m.ctrlpts[0],m.ctrlpts[1]];n=x?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:T,i=T}else if(w){var M=E?m.segpts.slice(0,2):[u.x,u.y];n=E?m.segpts.slice(m.segpts.length-2):[c.x,c.y],i=M}if("inside-to-node"===_)t=[u.x,u.y];else if(D.units)t=this.manualEndptToPx(l,D);else if("outside-to-line"===_)t=m.tgtIntn;else if("outside-to-node"===_||"outside-to-node-or-label"===_?r=n:"outside-to-line"!==_&&"outside-to-line-or-label"!==_||(r=[c.x,c.y]),t=o.nodeShapes[this.getNodeShape(l)].intersectLine(u.x,u.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===_||"outside-to-line-or-label"===_){var L=l._private.rscratch,R=L.labelWidth,F=L.labelHeight,B=L.labelX,I=L.labelY,O=R/2,P=F/2,N=l.pstyle("text-valign").value;"top"===N?I-=P:"bottom"===N&&(I+=P);var z=l.pstyle("text-halign").value;"left"===z?B-=O:"right"===z&&(B+=O);var W=$t(r[0],r[1],[B-O,I-P,B+O,I-P,B+O,I+P,B-O,I+P],u.x,u.y);if(W.length>0){var V=c,H=ot(V,tt(t)),j=ot(V,tt(W)),U=H;j<H&&(t=W,U=j),W.length>2&&ot(V,{x:W[2],y:W[3]})<U&&(t=[W[2],W[3]])}}var G=Rt(t,n,o.arrowShapes[h].spacing(e)+p),q=Rt(t,n,o.arrowShapes[h].gap(e)+p);if(m.endX=q[0],m.endY=q[1],m.arrowEndX=G[0],m.arrowEndY=G[1],"inside-to-node"===A)t=[c.x,c.y];else if(k.units)t=this.manualEndptToPx(a,k);else if("outside-to-line"===A)t=m.srcIntn;else if("outside-to-node"===A||"outside-to-node-or-label"===A?s=i:"outside-to-line"!==A&&"outside-to-line-or-label"!==A||(s=[u.x,u.y]),t=o.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,a.outerWidth(),a.outerHeight(),s[0],s[1],0),"outside-to-node-or-label"===A||"outside-to-line-or-label"===A){var K=a._private.rscratch,X=K.labelWidth,Y=K.labelHeight,J=K.labelX,Z=K.labelY,Q=X/2,ee=Y/2,te=a.pstyle("text-valign").value;"top"===te?Z-=ee:"bottom"===te&&(Z+=ee);var ne=a.pstyle("text-halign").value;"left"===ne?J-=Q:"right"===ne&&(J+=Q);var ie=$t(s[0],s[1],[J-Q,Z-ee,J+Q,Z-ee,J+Q,Z+ee,J-Q,Z+ee],c.x,c.y);if(ie.length>0){var re=u,se=ot(re,tt(t)),oe=ot(re,tt(ie)),ae=se;oe<se&&(t=[ie[0],ie[1]],ae=oe),ie.length>2&&ot(re,{x:ie[2],y:ie[3]})<ae&&(t=[ie[2],ie[3]])}}var le=Rt(t,i,o.arrowShapes[d].spacing(e)+f),ce=Rt(t,i,o.arrowShapes[d].gap(e)+f);m.startX=ce[0],m.startY=ce[1],m.arrowStartX=le[0],m.arrowStartY=le[1],S&&($(m.startX)&&$(m.startY)&&$(m.endX)&&$(m.endY)?m.badLine=!1:m.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},Lo={};function $o(e,t,n){for(var i=function(e,t,n,i){return lt(e,t,n,i)},r=t._private.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var o=e.bezierProjPcts[s];r.push({x:i(n[0],n[2],n[4],o),y:i(n[1],n[3],n[5],o)})}}Lo.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){t.rstyle.bezierPts=[];for(var r=0;r+5<n.allpts.length;r+=4)$o(this,e,n.allpts.slice(r,r+6))}else if("segments"===i){var s=t.rstyle.linePts=[];for(r=0;r+1<n.allpts.length;r+=2)s.push({x:n.allpts[r],y:n.allpts[r+1]})}else if("haystack"===i){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Lo.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Ro={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!N(t)){var n,i,r=e._private,s=e.width(),o=e.height(),a=e.padding(),l=e.position(),c=e.pstyle("text-halign").strValue,u=e.pstyle("text-valign").strValue,h=r.rscratch,d=r.rstyle;switch(c){case"left":n=l.x-s/2-a;break;case"right":n=l.x+s/2+a;break;default:n=l.x}switch(u){case"top":i=l.y-o/2-a;break;case"bottom":i=l.y+o/2+a;break;default:i=l.y}h.labelX=n,h.labelY=i,d.labelX=n,d.labelY=i,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},Fo=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},Bo=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Fo(n,i)};Ro.recalculateEdgeLabelProjections=function(e){var t,n=e._private,i=n.rscratch,r=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:i.midX,y:i.midY};var o=function(e,t,i){Re(n.rscratch,e,t,i),Re(n.rstyle,e,t,i)};o("labelX",null,t.x),o("labelY",null,t.y);var a=Fo(i.midDispX,i.midDispY);o("labelAutoAngle",null,a);var l=function e(){if(e.cache)return e.cache;for(var t=[],s=0;s+5<i.allpts.length;s+=4){var o={x:i.allpts[s],y:i.allpts[s+1]},a={x:i.allpts[s+2],y:i.allpts[s+3]},l={x:i.allpts[s+4],y:i.allpts[s+5]};t.push({p0:o,p1:a,p2:l,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,u=r.bezierProjPcts.length;function h(e,t,n,i,r){var s=st(t,n),o=e.segments[e.segments.length-1],a={p0:t,p1:n,t0:i,t1:r,startDist:o?o.startDist+o.length:0,length:s};e.segments.push(a),e.length+=s}for(var d=0;d<t.length;d++){var p=t[d],f=t[d-1];f&&(p.startDist=f.startDist+f.length),h(p,p.p0,c[d*u],0,r.bezierProjPcts[0]);for(var g=0;g<u-1;g++)h(p,c[d*u+g],c[d*u+g+1],r.bezierProjPcts[g],r.bezierProjPcts[g+1]);h(p,c[d*u+u-1],p.p2,r.bezierProjPcts[u-1],1)}return e.cache=t},c=function(n){var r,a="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,h=l(),d=0,p=0,f=0;f<h.length;f++){for(var g=h[a?f:h.length-1-f],m=0;m<g.segments.length;m++){var v=g.segments[a?m:g.segments.length-1-m],y=f===h.length-1&&m===g.segments.length-1;if(d=p,(p+=v.length)>=c||y){u={cp:g,segment:v};break}}if(u)break}var b=u.cp,x=u.segment,w=(c-d)/x.length,E=x.t1-x.t0,S=a?x.t0+E*w:x.t1-E*w;S=ut(0,S,1),t=ct(b.p0,b.p1,b.p2,S),r=function(e,t,n,i){var r=ut(0,i-.001,1),s=ut(0,i+.001,1),o=ct(e,t,n,r),a=ct(e,t,n,s);return Bo(o,a)}(b.p0,b.p1,b.p2,S);break;case"straight":case"segments":case"haystack":for(var C,k,A,D,_=0,T=i.allpts.length,M=0;M+3<T&&(a?(A={x:i.allpts[M],y:i.allpts[M+1]},D={x:i.allpts[M+2],y:i.allpts[M+3]}):(A={x:i.allpts[T-2-M],y:i.allpts[T-1-M]},D={x:i.allpts[T-4-M],y:i.allpts[T-3-M]}),k=_,!((_+=C=st(A,D))>=c));M+=2);var L=(c-k)/C;L=ut(0,L,1),t=function(e,t,n,i){var r=t.x-e.x,s=t.y-e.y,o=st(e,t),a=r/o,l=s/o;return n=null==n?0:n,i=null!=i?i:n*o,{x:e.x+a*i,y:e.y+l*i}}(A,D,L),r=Bo(A,D)}o("labelX",n,t.x),o("labelY",n,t.y),o("labelAutoAngle",n,r)}};c("source"),c("target"),this.applyLabelDimensions(e)}},Ro.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Ro.applyPrefixedLabelDimensions=function(e,t){var n=e._private,i=this.getLabelText(e,t),r=this.calculateLabelDimensions(e,i),s=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,a=$e(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==o?1:Math.max(a.length,1),c=r.height/l,u=c*s,h=r.width,d=r.height+(l-1)*(s-1)*c;Re(n.rstyle,"labelWidth",t,h),Re(n.rscratch,"labelWidth",t,h),Re(n.rstyle,"labelHeight",t,d),Re(n.rscratch,"labelHeight",t,d),Re(n.rscratch,"labelLineHeight",t,u)},Ro.getLabelText=function(e,t){var n=e._private,i=t?t+"-":"",r=e.pstyle(i+"label").strValue,s=e.pstyle("text-transform").value,o=function(e,i){return i?(Re(n.rscratch,e,t,i),i):$e(n.rscratch,e,t)};if(!r)return"";"none"==s||("uppercase"==s?r=r.toUpperCase():"lowercase"==s&&(r=r.toLowerCase()));var a=e.pstyle("text-wrap").value;if("wrap"===a){var l=o("labelKey");if(null!=l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var c=r.split("\n"),u=e.pstyle("text-max-width").pfValue,h="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],p=/[\s\u200b]+/,f=h?"":" ",g=0;g<c.length;g++){var m=c[g],v=this.calculateLabelDimensions(e,m).width;if(h){var y=m.split("").join("​");m=y}if(v>u){for(var b=m.split(p),x="",w=0;w<b.length;w++){var E=b[w],S=0===x.length?E:x+f+E;this.calculateLabelDimensions(e,S).width<=u?x+=E+f:(x&&d.push(x),x=E+f)}x.match(/^[\s\u200b]+$/)||d.push(x)}else d.push(m)}o("labelWrapCachedLines",d),r=o("labelWrapCachedText",d.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===a){var C=e.pstyle("text-max-width").pfValue,k="",A=!1;if(this.calculateLabelDimensions(e,r).width<C)return r;for(var D=0;D<r.length&&!(this.calculateLabelDimensions(e,k+r[D]+"…").width>C);D++)k+=r[D],D===r.length-1&&(A=!0);return A||(k+="…"),k}return r},Ro.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Ro.calculateLabelDimensions=function(e,t){var n=he(t,e._private.labelDimsKey),i=this.labelDimCache||(this.labelDimCache=[]),r=i[n];if(null!=r)return r;var s=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,a=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,u=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),u=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}u.font="".concat(s," ").concat(l," ").concat(o,"px ").concat(a);for(var d=0,p=0,f=t.split("\n"),g=0;g<f.length;g++){var m=f[g],v=u.measureText(m),y=Math.ceil(v.width),b=o;d=Math.max(y,d),p+=b}return d+=0,p+=0,i[n]={width:d,height:p}},Ro.calculateLabelAngle=function(e,t){var n=e._private.rscratch,i=e.isEdge(),r=t?t+"-":"",s=e.pstyle(r+"text-rotation"),o=s.strValue;return"none"===o?0:i&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:s.pfValue},Ro.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),i=e._private.rscratch;i.labelAngle=t.calculateLabelAngle(e),n&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Io={},Oo=!1;Io.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Oo||(Ce("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Oo=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Po={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var i=(r=e[n])._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Ar),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},No={};[Ao,Do,_o,Mo,Lo,Ro,Io,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,i=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var i=0;i<e.length;i++){var r=e[i],s=r._private,o=s.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;i(t)})).on("style.* background.*",(function(e){var t=e.target;i(t,!1)}));var r=function(r){if(r){var s=n.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var a=t[o],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(i(a.connectedEdges()),l.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++)(0,s[c])(r,t);n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){r(!0)},n.beforeRender(r,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},i=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var s=0;s<e.length;s++){var o=e[s],a=o._private,l=a.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(l.clean=!1),t&&l.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===a.group?r.push(o):i.push(o),l.clean=!0)}for(var c=0;c<r.length;c++){var u=r[c],h=u._private.rstyle,d=u.position();this.recalculateNodeLabelProjection(u),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=u.pstyle("width").pfValue,h.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var p=0;p<i.length;p++){var f=i[p]._private,g=f.rstyle,m=f.rscratch;g.srcX=m.arrowStartX,g.srcY=m.arrowStartY,g.tgtX=m.arrowEndX,g.tgtY=m.arrowEndY,g.midX=m.midX,g.midY=m.midY,g.labelAngle=m.labelAngle,g.sourceLabelAngle=m.sourceLabelAngle,g.targetLabelAngle=m.targetLabelAngle}}}},Po].forEach((function(e){K(No,e)}));var zo={getCachedImage:function(e,t,n){var i=this.imageCache=this.imageCache||{},r=i[e];if(r)return r.image.complete||r.image.addEventListener("load",n),r.image;var s=(r=i[e]=i[e]||{}).image=new Image;s.addEventListener("load",n),s.addEventListener("error",(function(){s.error=!0}));var o="data:";return e.substring(0,o.length).toLowerCase()===o||(s.crossOrigin=t),s.src=e,s}},Wo={registerBinding:function(e,t,n,i){var r=Array.prototype.slice.apply(arguments,[1]),s=this.binder(e);return s.on.apply(s,r)},binder:function(e){var t=this,n=e===window||e===document||e===document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,r)}catch(e){}t.supportsPassiveEvents=i}var s=function(i,r,s){var o=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(o[2]={capture:null!=s&&s,passive:!1,once:!1}),t.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:s,addEventListener:s,addListener:s,bind:s}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()}};Wo.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,i,r){null==t&&(t=e.cy);for(var s=0;s<n.length;s++){var o=n[s];t.emit({originalEvent:i,type:o,position:r})}},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},r=function(t,n){var i=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable()){for(var r=0;n&&r<n.length;r++)if((t=n[r]).isNode()&&t.isParent()&&!t.pannable()){i=!1;break}}else i=!0;return i},s=function(e){e[0]._private.rscratch.inDragLayer=!0},o=function(e){e[0]._private.rscratch.isGrabTarget=!0},a=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var i=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(s),t.neighborhood().stdFilter((function(e){return!i||e.isEdge()})).forEach(s)),n.addToList&&t.forEach((function(e){a(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(s),n.connectedEdges().forEach(s)),t.addToList&&a(n,t)}}(t,n),d(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=l,h=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var i=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),r=i.connectedEdges();t.inDragLayer&&(r.forEach(s),i.forEach(s)),t.addToList&&i.forEach((function(e){a(e,t)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;f?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var i=t[n].removedNodes;if(i)for(var r=0;r<i.length;r++)if(i[r]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var m=c.default((function(){e.cy.resize()}),100);f&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",m),g&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var v=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",v),e.registerBinding(t,"animationend",v),e.registerBinding(t,"scroll",v)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var y,b,x,w=function(t){for(var n=e.findContainerClientCoords(),i=n[0],r=n[1],s=n[2],o=n[3],a=t.touches?t.touches:[t],l=!1,c=0;c<a.length;c++){var u=a[c];if(i<=u.clientX&&u.clientX<=i+s&&r<=u.clientY&&u.clientY<=r+o){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,p=!1;d;){if(d===h){p=!0;break}d=d.parentNode}return!!p};e.registerBinding(e.container,"mousedown",(function(t){if(w(t)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var i=e.cy,r=[t.clientX,t.clientY],s=e.projectIntoViewport(r[0],r[1]),a=e.selection,c=e.findNearestElements(s[0],s[1],!0,!1),h=c[0],d=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=s,e.hoverData.mdownGPos=r,3==t.which){e.hoverData.cxtStarted=!0;var f={originalEvent:t,type:"cxttapstart",position:{x:s[0],y:s[1]}};h?(h.activate(),h.emit(f),e.hoverData.down=h):i.emit(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){var g=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}};if(o(h),h.selected()){d=e.dragData.possibleDragElements=i.collection();var m=i.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));l(m,{addToList:d}),h.emit(g("grabon")),m.forEach((function(e){e.emit(g("grab"))}))}else d=e.dragData.possibleDragElements=i.collection(),u(h,{addToList:d}),h.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=c,e.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],t,{x:s[0],y:s[1]}),null==h?(a[4]=1,e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()):h.pannable()&&(a[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:s[0],y:s[1]}}):i.emit({originalEvent:t,type:"taphold",position:{x:s[0],y:s[1]}})}}),e.tapholdDuration)}a[0]=a[2]=s[0],a[1]=a[3]=s[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||w(t)){var s=!1,o=e.cy,a=o.zoom(),c=[t.clientX,t.clientY],u=e.projectIntoViewport(c[0],c[1]),d=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(u[0],u[1],!0,!1));var m,v=e.hoverData.last,y=e.hoverData.down,b=[u[0]-f[2],u[1]-f[3]],x=e.dragData.possibleDragElements;if(p){var E=c[0]-p[0],S=E*E,C=c[1]-p[1],k=S+C*C;e.hoverData.isOverThresholdDrag=m=k>=e.desktopTapThreshold2}var A=i(t);m&&(e.hoverData.tapholdCancelled=!0),s=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var D=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:u[0],y:u[1]}}),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var _={originalEvent:t,type:"cxtdrag",position:{x:u[0],y:u[1]}};y?y.emit(_):o.emit(_),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(e.hoverData.dragging){if(s=!0,o.panningEnabled()&&o.userPanningEnabled()){var T;if(e.hoverData.justStartedPan){var M=e.hoverData.mdownPos;T={x:(u[0]-M[0])*a,y:(u[1]-M[1])*a},e.hoverData.justStartedPan=!1}else T={x:b[0]*a,y:b[1]*a};o.panBy(T),o.emit("dragpan"),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=y&&!y.pannable()){if(y&&y.pannable()&&y.active()&&y.unactivate(),y&&y.grabbed()||g==v||(v&&n(v,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=g),y)if(m){if(o.boxSelectionEnabled()&&A)y&&y.grabbed()&&(h(x),y.emit("freeon"),x.emit("free"),e.dragData.didDrag&&(y.emit("dragfreeon"),x.emit("dragfree"))),D();else if(y&&y.grabbed()&&e.nodeIsDraggable(y)){var L=!e.dragData.didDrag;L&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||l(x,{inDragLayer:!0});var R={x:0,y:0};if($(b[0])&&$(b[1])&&(R.x+=b[0],R.y+=b[1],L)){var F=e.hoverData.dragDelta;F&&$(F[0])&&$(F[1])&&(R.x+=F[0],R.y+=F[1])}e.hoverData.draggingEles=!0,x.silentShift(R).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])}();s=!0}else m&&(e.hoverData.dragging||!o.boxSelectionEnabled()||!A&&o.panningEnabled()&&o.userPanningEnabled()?!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()&&r(y,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=tt(d),e.redrawHint("select",!0),e.redraw()):D(),y&&y.pannable()&&y.active()&&y.unactivate());return f[2]=u[0],f[3]=u[1],s?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(r){if(e.hoverData.capture){e.hoverData.capture=!1;var s=e.cy,o=e.projectIntoViewport(r.clientX,r.clientY),a=e.selection,l=e.findNearestElement(o[0],o[1],!0,!1),c=e.dragData.possibleDragElements,u=e.hoverData.down,d=i(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var p={originalEvent:r,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(p):s.emit(p),!e.hoverData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(f):s.emit(f)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],r,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(u,["click","tap","vclick"],r,{x:o[0],y:o[1]}),b=!1,r.timeStamp-x<=s.multiClickDebounceTime()?(y&&clearTimeout(y),b=!0,x=null,n(u,["dblclick","dbltap","vdblclick"],r,{x:o[0],y:o[1]})):(y=setTimeout((function(){b||n(u,["oneclick","onetap","voneclick"],r,{x:o[0],y:o[1]})}),s.multiClickDebounceTime()),x=r.timeStamp)),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(r)||(s.$(t).unselect(["tapunselect"]),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=s.collection()),l!=u||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===s.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(s.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),s.emit({type:"boxend",originalEvent:r,position:{x:o[0],y:o[1]}});"additive"===s.selectionType()||d||s.$(t).unmerge(g).unselect(),g.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=u&&u.grabbed();h(c),m&&(u.emit("freeon"),c.emit("free"),e.dragData.didDrag&&(u.emit("dragfreeon"),c.emit("dragfree")))}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var E,S,C,k,A,D,_,T,M,L,R,F,B,I=function(t){if(!e.scrollingPage){var n=e.cy,i=n.zoom(),r=n.pan(),s=e.projectIntoViewport(t.clientX,t.clientY),o=[s[0]*i+r.x,s[1]*i+r.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var a;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),a=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,a*=e.wheelSensitivity,1===t.deltaMode&&(a*=33);var l=n.zoom()*Math.pow(10,a);"gesturechange"===t.type&&(l=e.gestureStartZoom*t.scale),n.zoom({level:l,renderedPosition:{x:o[0],y:o[1]}}),n.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",I,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||I(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var O,P,N,z,W,V,H,j=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},U=function(e,t,n,i){return(n-e)*(n-e)+(i-t)*(i-t)};if(e.registerBinding(e.container,"touchstart",O=function(t){if(e.hasTouchStarted=!0,w(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var i=e.cy,r=e.touchData.now,s=e.touchData.earlier;if(t.touches[0]){var a=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);r[0]=a[0],r[1]=a[1]}if(t.touches[1]&&(a=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),r[2]=a[0],r[3]=a[1]),t.touches[2]&&(a=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),r[4]=a[0],r[5]=a[1]),t.touches[1]){e.touchData.singleTouchMoved=!0,h(e.dragData.touchDragEles);var c=e.findContainerClientCoords();M=c[0],L=c[1],R=c[2],F=c[3],E=t.touches[0].clientX-M,S=t.touches[0].clientY-L,C=t.touches[1].clientX-M,k=t.touches[1].clientY-L,B=0<=E&&E<=R&&0<=C&&C<=R&&0<=S&&S<=F&&0<=k&&k<=F;var d=i.pan(),f=i.zoom();if(A=j(E,S,C,k),D=U(E,S,C,k),T=[((_=[(E+C)/2,(S+k)/2])[0]-d.x)/f,(_[1]-d.y)/f],D<4e4&&!t.touches[2]){var g=e.findNearestElement(r[0],r[1],!0,!0),m=e.findNearestElement(r[2],r[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=m):i.emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])i.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var v=e.findNearestElements(r[0],r[1],!0,!0),y=v[0];if(null!=y&&(y.activate(),e.touchData.start=y,e.touchData.starts=v,e.nodeIsGrabbable(y))){var b=e.dragData.touchDragEles=i.collection(),x=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),y.selected()?(x=i.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),l(x,{addToList:b})):u(y,{addToList:b}),o(y);var $=function(e){return{originalEvent:t,type:e,position:{x:r[0],y:r[1]}}};y.emit($("grabon")),x?x.forEach((function(e){e.emit($("grab"))})):y.emit($("grab"))}n(y,["touchstart","tapstart","vmousedown"],t,{x:r[0],y:r[1]}),null==y&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:r[0],y:r[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var I=e.touchData.startPosition=[],O=0;O<r.length;O++)I[O]=s[O]=r[O];var P=t.touches[0];e.touchData.startGPosition=[P.clientX,P.clientY]}}},!1),e.registerBinding(window,"touchmove",P=function(t){var i=e.touchData.capture;if(i||w(t)){var s=e.selection,o=e.cy,a=e.touchData.now,c=e.touchData.earlier,u=o.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),a[2]=d[0],a[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),a[4]=d[0],a[5]=d[1]);var p,f=e.touchData.startGPosition;if(i&&t.touches[0]&&f){for(var g=[],m=0;m<a.length;m++)g[m]=a[m]-c[m];var v=t.touches[0].clientX-f[0],y=v*v,b=t.touches[0].clientY-f[1];p=y+b*b>=e.touchTapThreshold2}if(i&&e.touchData.cxt){t.preventDefault();var x=t.touches[0].clientX-M,_=t.touches[0].clientY-L,R=t.touches[1].clientX-M,F=t.touches[1].clientY-L,I=U(x,_,R,F);if(I/D>=2.25||I>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var O={originalEvent:t,type:"cxttapend",position:{x:a[0],y:a[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(O),e.touchData.start=null):o.emit(O)}}if(i&&e.touchData.cxt){O={originalEvent:t,type:"cxtdrag",position:{x:a[0],y:a[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(O):o.emit(O),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var P=e.findNearestElement(a[0],a[1],!0,!0);e.touchData.cxtOver&&P===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:a[0],y:a[1]}}),e.touchData.cxtOver=P,P&&P.emit({originalEvent:t,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(i&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:a[0],y:a[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,s[4]=1,s&&0!==s.length&&void 0!==s[0]?(s[2]=(a[0]+a[2]+a[4])/3,s[3]=(a[1]+a[3]+a[5])/3):(s[0]=(a[0]+a[2]+a[4])/3,s[1]=(a[1]+a[3]+a[5])/3,s[2]=(a[0]+a[2]+a[4])/3+1,s[3]=(a[1]+a[3]+a[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(i&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var N=0;N<ee.length;N++){var z=ee[N]._private;z.grabbed=!1,z.rscratch.inDragLayer=!1}}var W=e.touchData.start,V=(x=t.touches[0].clientX-M,_=t.touches[0].clientY-L,R=t.touches[1].clientX-M,F=t.touches[1].clientY-L,j(x,_,R,F)),H=V/A;if(B){var G=(x-E+(R-C))/2,q=(_-S+(F-k))/2,K=o.zoom(),X=K*H,Y=o.pan(),J=T[0]*K+Y.x,Z=T[1]*K+Y.y,Q={x:-X/K*(J-Y.x-G)+J,y:-X/K*(Z-Y.y-q)+Z};if(W&&W.active()){var ee=e.dragData.touchDragEles;h(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),W.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(W.emit("dragfreeon"),ee.emit("dragfree"))}o.viewport({zoom:X,pan:Q,cancelOnFailedZoom:!0}),o.emit("pinchzoom"),A=V,E=x,S=_,C=R,k=F,e.pinching=!0}t.touches[0]&&(d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),a[0]=d[0],a[1]=d[1]),t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),a[2]=d[0],a[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),a[4]=d[0],a[5]=d[1])}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(P=e.findNearestElement(a[0],a[1],!0,!0)),i&&null!=te&&t.preventDefault(),i&&null!=te&&e.nodeIsDraggable(te))if(p){ee=e.dragData.touchDragEles;var ie=!e.dragData.didDrag;ie&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var re={x:0,y:0};$(g[0])&&$(g[1])&&(re.x+=g[0],re.y+=g[1],ie&&(e.redrawHint("eles",!0),(se=e.touchData.dragDelta)&&$(se[0])&&$(se[1])&&(re.x+=se[0],re.y+=se[1]))),e.hoverData.draggingEles=!0,ee.silentShift(re).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var se;0===(se=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(se.push(g[0]),se.push(g[1])):(se[0]+=g[0],se[1]+=g[1])}if(n(te||P,["touchmove","tapdrag","vmousemove"],t,{x:a[0],y:a[1]}),te&&te.grabbed()||P==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:a[0],y:a[1]}}),P&&P.emit({originalEvent:t,type:"tapdragover",position:{x:a[0],y:a[1]}})),e.touchData.last=P,i)for(N=0;N<a.length;N++)a[N]&&e.touchData.startPosition[N]&&p&&(e.touchData.singleTouchMoved=!0);i&&(null==te||te.pannable())&&o.panningEnabled()&&o.userPanningEnabled()&&(r(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=tt(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:g[0]*u,y:g[1]*u}),o.emit("dragpan")):p&&(e.swipePanning=!0,o.panBy({x:v*u,y:b*u}),o.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),a[0]=d[0],a[1]=d[1])}for(m=0;m<a.length;m++)c[m]=a[m];i&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",N=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",z=function(i){var r=e.touchData.start;if(e.touchData.capture){0===i.touches.length&&(e.touchData.capture=!1),i.preventDefault();var s=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,a=e.cy,l=a.zoom(),c=e.touchData.now,u=e.touchData.earlier;if(i.touches[0]){var d=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);c[0]=d[0],c[1]=d[1]}if(i.touches[1]&&(d=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),c[2]=d[0],c[3]=d[1]),i.touches[2]&&(d=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),c[4]=d[0],c[5]=d[1]),r&&r.unactivate(),e.touchData.cxt){if(o={originalEvent:i,type:"cxttapend",position:{x:c[0],y:c[1]}},r?r.emit(o):a.emit(o),!e.touchData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:c[0],y:c[1]}};r?r.emit(p):a.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!i.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var f=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,e.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:i,position:{x:c[0],y:c[1]}}),f.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),f.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),i.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=r){var m=r._private.grabbed;h(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(r.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(r.emit("dragfreeon"),g.emit("dragfree"))),n(r,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]}),r.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]})}var y=e.touchData.startPosition[0]-c[0],b=y*y,x=e.touchData.startPosition[1]-c[1],w=(b+x*x)*l*l;e.touchData.singleTouchMoved||(r||a.$(":selected").unselect(["tapunselect"]),n(r,["tap","vclick"],i,{x:c[0],y:c[1]}),W=!1,i.timeStamp-H<=a.multiClickDebounceTime()?(V&&clearTimeout(V),W=!0,H=null,n(r,["dbltap","vdblclick"],i,{x:c[0],y:c[1]})):(V=setTimeout((function(){W||n(r,["onetap","voneclick"],i,{x:c[0],y:c[1]})}),a.multiClickDebounceTime()),H=i.timeStamp)),null!=r&&!e.dragData.didDrag&&r._private.selectable&&w<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(t).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var E=0;E<c.length;E++)u[E]=c[E];e.dragData.didDrag=!1,0===i.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),i.touches.length<2&&(1===i.touches.length&&(e.touchData.startGPosition=[i.touches[0].clientX,i.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var G=[],q=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},K=function(e){for(var t=0;t<G.length;t++)if(G[t].event.pointerId===e.pointerId)return void G.splice(t,1)},X=function(e){e.touches=G.map((function(e){return e.touch}))},Y=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){Y(e)||(e.preventDefault(),function(e){G.push(function(e){return{event:e,touch:q(e)}}(e))}(e),X(e),O(e))})),e.registerBinding(e.container,"pointerup",(function(e){Y(e)||(K(e),X(e),z(e))})),e.registerBinding(e.container,"pointercancel",(function(e){Y(e)||(K(e),X(e),N())})),e.registerBinding(e.container,"pointermove",(function(e){Y(e)||(e.preventDefault(),function(e){var t=G.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=q(e)}(e),X(e),P(e))}))}};var Vo={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl("polygon",e,t,n,i,r,this.points)},intersectLine:function(e,t,n,i,r,s,o){return $t(r,s,this.points,e,t,n/2,i/2,o)},checkPoint:function(e,t,n,i,r,s,o){return kt(e,t,this.points,s,o,i,r,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,s,o){return function(e,t,n,i,r,s){var o=n-e,a=i-t;o/=r,a/=s;var l=Math.sqrt(o*o+a*a),c=l-1;if(c<0)return[];var u=c/l;return[(n-e)*u+e,(i-t)*u+t]}(r,s,e,t,n/2+o,i/2+o)},checkPoint:function(e,t,n,i,r,s,o){return _t(e,t,i,r,s,o,n)}}},generateRoundPolygon:function(e,t){for(var n=new Array(2*t.length),i=0;i<t.length/2;i++){var r,s=2*i;r=i<t.length/2-1?2*(i+1):0,n[4*i]=t[s],n[4*i+1]=t[s+1];var o=t[r]-t[s],a=t[r+1]-t[s+1],l=Math.sqrt(o*o+a*a);n[4*i+2]=o/l,n[4*i+3]=a/l}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl("round-polygon",e,t,n,i,r,this.points)},intersectLine:function(e,t,n,i,r,s,o){return function(e,t,n,i,r,s,o,a){for(var l,c=[],u=new Array(n.length),h=s/2,d=o/2,p=Pt(s,o),f=0;f<n.length/4;f++){var g,m;m=0===f?n.length-2:4*f-2,g=4*f+2;var v=i+h*n[4*f],y=r+d*n[4*f+1],b=-n[m]*n[g]-n[m+1]*n[g+1],x=p/Math.tan(Math.acos(b)/2),w=v-x*n[m],E=y-x*n[m+1],S=v+x*n[g],C=y+x*n[g+1];0===f?(u[n.length-2]=w,u[n.length-1]=E):(u[4*f-2]=w,u[4*f-1]=E),u[4*f]=S,u[4*f+1]=C;var k=n[m+1],A=-n[m];k*n[g]+A*n[g+1]<0&&(k*=-1,A*=-1),0!==(l=Tt(e,t,i,r,w+k*p,E+A*p,p)).length&&c.push(l[0],l[1])}for(var D=0;D<u.length/4;D++)0!==(l=Lt(e,t,i,r,u[4*D],u[4*D+1],u[4*D+2],u[4*D+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var _=[c[0],c[1]],T=Math.pow(_[0]-e,2)+Math.pow(_[1]-t,2),M=1;M<c.length/2;M++){var L=Math.pow(c[2*M]-e,2)+Math.pow(c[2*M+1]-t,2);L<=T&&(_[0]=c[2*M],_[1]=c[2*M+1],T=L)}return _}return c}(r,s,this.points,e,t,n,i)},checkPoint:function(e,t,n,i,r,s,o){return function(e,t,n,i,r,s,o){for(var a=new Array(n.length),l=s/2,c=o/2,u=Pt(s,o),h=u*u,d=0;d<n.length/4;d++){var p,f;f=0===d?n.length-2:4*d-2,p=4*d+2;var g=i+l*n[4*d],m=r+c*n[4*d+1],v=-n[f]*n[p]-n[f+1]*n[p+1],y=u/Math.tan(Math.acos(v)/2),b=g-y*n[f],x=m-y*n[f+1],w=g+y*n[p],E=m+y*n[p+1];a[4*d]=b,a[4*d+1]=x,a[4*d+2]=w,a[4*d+3]=E;var S=n[f+1],C=-n[f];S*n[p]+C*n[p+1]<0&&(S*=-1,C*=-1);var k=b+S*u,A=x+C*u;if(Math.pow(k-e,2)+Math.pow(A-t,2)<=h)return!0}return Ct(e,t,a)}(e,t,this.points,s,o,i,r)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ft(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,s,o){return bt(r,s,e,t,n,i,o)},checkPoint:function(e,t,n,i,r,s,o){var a=Ot(i,r),l=2*a;return!!(kt(e,t,this.points,s,o,i,r-l,[0,-1],n)||kt(e,t,this.points,s,o,i-l,r,[0,-1],n)||_t(e,t,l,l,s-i/2+a,o-r/2+a,n)||_t(e,t,l,l,s+i/2-a,o-r/2+a,n)||_t(e,t,l,l,s+i/2-a,o+r/2-a,n)||_t(e,t,l,l,s-i/2+a,o+r/2-a,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Ft(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},generateCutTrianglePts:function(e,t,n,i){var r=this.cornerLength,s=t/2,o=e/2,a=n-o,l=n+o,c=i-s,u=i+s;return{topLeft:[a,c+r,a+r,c,a+r,c+r],topRight:[l-r,c,l,c+r,l-r,c+r],bottomRight:[l,u-r,l-r,u,l-r,u-r],bottomLeft:[a+r,u,a,u-r,a+r,u-r]}},intersectLine:function(e,t,n,i,r,s,o){var a=this.generateCutTrianglePts(n+2*o,i+2*o,e,t),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return $t(r,s,l,e,t)},checkPoint:function(e,t,n,i,r,s,o){if(kt(e,t,this.points,s,o,i,r-2*this.cornerLength,[0,-1],n))return!0;if(kt(e,t,this.points,s,o,i-2*this.cornerLength,r,[0,-1],n))return!0;var a=this.generateCutTrianglePts(i,r,s,o);return Ct(e,t,a.topLeft)||Ct(e,t,a.topRight)||Ct(e,t,a.bottomRight)||Ct(e,t,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ft(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,s,o){var a=this.generateBarrelBezierPts(n+2*o,i+2*o,e,t),l=function(e){var t=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),i=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,i.x,i.y,e[4],e[5]]},c=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return $t(r,s,c,e,t)},generateBarrelBezierPts:function(e,t,n,i){var r=t/2,s=e/2,o=n-s,a=n+s,l=i-r,c=i+r,u=Nt(e,t),h=u.heightOffset,d=u.widthOffset,p=u.ctrlPtOffsetPct*e,f={topLeft:[o,l+h,o+p,l,o+d,l],topRight:[a-d,l,a-p,l,a,l+h],bottomRight:[a,c-h,a-p,c,a-d,c],bottomLeft:[o+d,c,o+p,c,o,c-h]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,i,r,s,o){var a=Nt(i,r),l=a.heightOffset,c=a.widthOffset;if(kt(e,t,this.points,s,o,i,r-2*l,[0,-1],n))return!0;if(kt(e,t,this.points,s,o,i-2*c,r,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(i,r,s,o),h=function(e,t,n){var i,r,s=n[4],o=n[2],a=n[0],l=n[5],c=n[1],u=Math.min(s,a),h=Math.max(s,a),d=Math.min(l,c),p=Math.max(l,c);if(u<=e&&e<=h&&d<=t&&t<=p){var f=[(i=s)-2*(r=o)+a,2*(r-i),i],g=function(e,t,n,i){var r=t*t-4*e*(n-=i);if(r<0)return[];var s=Math.sqrt(r),o=2*e;return[(-t+s)/o,(-t-s)/o]}(f[0],f[1],f[2],e).filter((function(e){return 0<=e&&e<=1}));if(g.length>0)return g[0]}return null},d=Object.keys(u),p=0;p<d.length;p++){var f=u[d[p]],g=h(e,t,f);if(null!=g){var m=f[5],v=f[3],y=f[1],b=lt(m,v,y,g);if(f.isTop&&b<=t)return!0;if(f.isBottom&&t<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ft(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,s,o){var a=t-(i/2+o),l=Lt(r,s,e,t,e-(n/2+o),a,e+(n/2+o),a,!1);return l.length>0?l:bt(r,s,e,t,n,i,o)},checkPoint:function(e,t,n,i,r,s,o){var a=Ot(i,r),l=2*a;if(kt(e,t,this.points,s,o,i,r-l,[0,-1],n))return!0;if(kt(e,t,this.points,s,o,i-l,r,[0,-1],n))return!0;var c=i/2+2*n,u=r/2+2*n;return!!Ct(e,t,[s-c,o-u,s-c,o,s+c,o,s+c,o-u])||!!_t(e,t,l,l,s+i/2-a,o+r/2-a,n)||!!_t(e,t,l,l,s-i/2+a,o+r/2-a,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Ft(3,0)),this.generateRoundPolygon("round-triangle",Ft(3,0)),this.generatePolygon("rectangle",Ft(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Ft(5,0)),this.generateRoundPolygon("round-pentagon",Ft(5,0)),this.generatePolygon("hexagon",Ft(6,0)),this.generateRoundPolygon("round-hexagon",Ft(6,0)),this.generatePolygon("heptagon",Ft(7,0)),this.generateRoundPolygon("round-heptagon",Ft(7,0)),this.generatePolygon("octagon",Ft(8,0)),this.generateRoundPolygon("round-octagon",Ft(8,0));var i=new Array(20),r=It(5,0),s=It(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var a=0;a<s.length/2;a++)s[2*a]*=o,s[2*a+1]*=o;for(a=0;a<5;a++)i[4*a]=r[2*a],i[4*a+1]=r[2*a+1],i[4*a+2]=s[2*a],i[4*a+3]=s[2*a+1];i=Bt(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,i="polygon-"+e.join("$");return(n=this[i])?n:t.generatePolygon(i,e)}}},Ho={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||_e();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Ee("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},jo=function(e,t,n){for(var i=e.beforeRenderCallbacks,r=0;r<i.length;r++)i[r].fn(t,n)};Ho.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,te((function n(i){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){jo(e,!0,i);var r=ne();e.render(e.renderOptions);var s=e.lastDrawTime=ne();void 0===e.averageRedrawTime&&(e.averageRedrawTime=s-r),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=s-r;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else jo(e,!1,i);e.skipFrame=!1,te(n)}})))};var Uo=function(e){this.init(e)},Go=Uo.prototype;Go.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Go.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(w){var i=w.document,r=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",a=null!=i.getElementById(s);if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!a){var l=i.createElement("style");l.id=s,l.innerHTML="."+o+" { position: relative; }",r.insertBefore(l,r.children[0])}"static"===w.getComputedStyle(n).getPropertyValue("position")&&Ce("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=$(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Go.notify=function(e,t){var n=this,i=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&i.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Go.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},Go.isHeadless=function(){return!1},[ko,No,zo,Wo,Vo,Ho].forEach((function(e){K(Go,e)}));var qo=1e3/60,Ko=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=c.default((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold),r=e.priority||we;n.beforeRender((function(r,s){var o=ne(),a=n.averageRedrawTime,l=n.lastRedrawTime,c=[],u=n.cy.extent(),h=n.getPixelRatio();for(r||n.flushRenderedStyleQueue();;){var d=ne(),p=d-o,f=d-s;if(l<qo){var g=qo-(r?a:0);if(f>=e.deqFastCost*g)break}else if(r){if(p>=e.deqCost*l||p>=e.deqAvgCost*a)break}else if(f>=e.deqNoDrawCost*qo)break;var m=e.deq(t,h,u);if(!(m.length>0))break;for(var v=0;v<m.length;v++)c.push(m[v])}c.length>0&&(e.onDeqd(t,c),!r&&e.shouldRedraw(t,c,h,u)&&i())}),r(t))}}},Xo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;g(this,e),this.idsByKey=new Fe,this.keyForId=new Fe,this.cachesByLvl=new Fe,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return v(e,[{key:"getIdsFor",value:function(e){null==e&&Ee("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Ie,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),i=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(i,t),this.keyForId.set(t,i)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,i=t.get(e);return i||(i=new Fe,t.set(e,i),n.push(e)),i}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),i=this.getCache(n,t);return null!=i&&this.updateKeyMappingFor(e),i}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var i=this.getKey(e);this.setCache(i,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var i=this.doesEleInvalidateKey(e);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),e}(),Yo={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Jo=Te({getKey:null,doesEleInvalidateKey:be,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ye,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Zo=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var i=Jo(t);K(n,i),n.lookup=new Xo(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Qo=Zo.prototype;Qo.reasons=Yo,Qo.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Qo.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Qo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new u.default((function(e,t){return t.reqs-e.reqs}))},Qo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Qo.getElement=function(e,t,n,i,r){var s=this,o=this.renderer,a=o.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!s.allowEdgeTxrCaching&&e.isEdge()||!s.allowParentTxrCaching&&e.isParent())return null;if(null==i&&(i=Math.ceil(it(a*n))),i<-4)i=-4;else if(a>=7.99||i>3)return null;var c=Math.pow(2,i),u=t.h*c,h=t.w*c,d=o.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,d))return null;var p,f=l.get(e,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||h>1024)return null;var g=s.getTextureQueue(p),m=g[g.length-2],v=function(){return s.recycleTexture(p,h)||s.addTexture(p,h)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<h&&(m=v());for(var y,b=function(e){return e&&e.scaledLabelShown===d},x=r&&r===Yo.dequeue,w=r&&r===Yo.highQuality,E=r&&r===Yo.downscale,S=i+1;S<=3;S++){var C=l.get(e,S);if(C){y=C;break}}var k=y&&y.level===i+1?y:null,A=function(){m.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,m.usedWidth,0,h,u)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,p),b(k))A();else if(b(y)){if(!w)return s.queueElement(e,y.level-1),y;for(var D=y.level;D>i;D--)k=s.getElement(e,t,n,D,Yo.downscale);A()}else{var _;if(!x&&!w&&!E)for(var T=i-1;T>=-4;T--){var M=l.get(e,T);if(M){_=M;break}}if(b(_))return s.queueElement(e,i),_;m.context.translate(m.usedWidth,0),m.context.scale(c,c),this.drawElement(m.context,e,t,d,!1),m.context.scale(1/c,1/c),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:i,scale:c,width:h,height:u,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+8),m.eleCaches.push(f),l.set(e,i,f),s.checkTextureFullness(m),f},Qo.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Qo.invalidateElement=function(e){var t=this,n=t.lookup,i=[];if(n.isInvalid(e)){for(var r=-4;r<=3;r++){var s=n.getForCachedKey(e,r);s&&i.push(s)}if(n.invalidate(e))for(var o=0;o<i.length;o++){var a=i[o],l=a.texture;l.invalidatedWidth+=a.width,a.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},Qo.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Qo.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Me(t,e):e.fullnessChecks++},Qo.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),i=this.lookup;Me(n,e),e.retired=!0;for(var r=e.eleCaches,s=0;s<r.length;s++){var o=r[s];i.deleteCache(o.key,o.level)}Le(r),this.getRetiredTextureQueue(t).push(e)},Qo.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Qo.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),i=this.getRetiredTextureQueue(e),r=0;r<i.length;r++){var s=i[r];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Le(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Me(i,s),n.push(s),s}},Qo.queueElement=function(e,t){var n=this.getElementQueue(),i=this.getElementKeyToQueue(),r=this.getKey(e),s=i[r];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,n.updateItem(s);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:r};n.push(o),i[r]=o}},Qo.dequeue=function(e){for(var t=this,n=t.getElementQueue(),i=t.getElementKeyToQueue(),r=[],s=t.lookup,o=0;o<1&&n.size()>0;o++){var a=n.pop(),l=a.key,c=a.eles[0],u=s.hasCache(c,a.level);if(i[l]=null,!u){r.push(a);var h=t.getBoundingBox(c);t.getElement(c,h,e,a.level,Yo.dequeue)}}return r},Qo.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),r=n[i];null!=r&&(1===r.eles.length?(r.reqs=ve,t.updateItem(r),t.pop(),n[i]=null):r.eles.unmerge(e))},Qo.onDequeue=function(e){this.onDequeues.push(e)},Qo.offDequeue=function(e){Me(this.onDequeues,e)},Qo.setupDequeueing=Ko({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,i){for(var r=0;r<t.length;r++)for(var s=t[r].eles,o=0;o<s.length;o++){var a=s[o].boundingBox();if(mt(a,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var ea=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ne()-500,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=c.default((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new u.default((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},ta=ea.prototype,na=0,ia=Math.pow(2,53)-1;ta.makeLayer=function(e,t){var n=Math.pow(2,t),i=Math.ceil(e.w*n),r=Math.ceil(e.h*n),s=this.renderer.makeOffscreenCanvas(i,r),o={id:na=++na%ia,bb:e,level:t,width:i,height:r,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=o.context,l=-o.bb.x1,c=-o.bb.y1;return a.scale(n,n),a.translate(l,c),o},ta.getLayers=function(e,t,n){var i=this,r=i.renderer.cy.zoom(),s=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(it(r*t)))<-4)n=-4;else if(r>=3.99||n>2)return null;i.validateLayersElesOrdering(n,e);var o,a,l=i.layersByLevel,c=Math.pow(2,n),u=l[n]=l[n]||[];if(i.levelIsComplete(n,e))return u;!function(){var t=function(t){if(i.validateLayersElesOrdering(t,e),i.levelIsComplete(t,e))return a=l[t],!0},r=function(e){if(!a)for(var i=n+e;-4<=i&&i<=2&&!t(i);i+=e);};r(1),r(-1);for(var s=u.length-1;s>=0;s--){var o=u[s];o.invalid&&Me(u,o)}}();var h=function(t){var r=(t=t||{}).after;if(function(){if(!o){o=ht();for(var t=0;t<e.length;t++)n=o,i=e[t].boundingBox(),n.x1=Math.min(n.x1,i.x1),n.x2=Math.max(n.x2,i.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,i.y1),n.y2=Math.max(n.y2,i.y2),n.h=n.y2-n.y1}var n,i}(),o.w*c*(o.h*c)>16e6)return null;var s=i.makeLayer(o,n);if(null!=r){var a=u.indexOf(r)+1;u.splice(a,0,s)}else(void 0===t.insert||t.insert)&&u.unshift(s);return s};if(i.skipping&&!s)return null;for(var d=null,p=e.length/1,f=!s,g=0;g<e.length;g++){var m=e[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)d=b;else{if((!d||d.eles.length>=p||!yt(d.bb,m.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;a||f?i.queueLayer(d,m):i.drawEleInLayer(d,m,n,t),d.eles.push(m),y[n]=d}}return a||(f?null:u)},ta.getEleLevelForLayerLevel=function(e,t){return e},ta.drawEleInLayer=function(e,t,n,i){var r=this.renderer,s=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,i),r.setImgSmoothing(s,!1),r.drawCachedElement(s,t,null,null,n,!0),r.setImgSmoothing(s,!0))},ta.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var i=0,r=0;r<n.length;r++){var s=n[r];if(s.reqs>0)return!1;if(s.invalid)return!1;i+=s.eles.length}return i===t.length},ta.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var i=0;i<n.length;i++){for(var r=n[i],s=-1,o=0;o<t.length;o++)if(r.eles[0]===t[o]){s=o;break}if(s<0)this.invalidateLayer(r);else{var a=s;for(o=0;o<r.eles.length;o++)if(r.eles[o]!==t[a+o]){this.invalidateLayer(r);break}}}},ta.updateElementsInLayers=function(e,t){for(var n=B(e[0]),i=0;i<e.length;i++)for(var r=n?null:e[i],s=n?e[i]:e[i].ele,o=s._private.rscratch,a=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var c=a[l];c&&(r&&this.getEleLevelForLayerLevel(c.level)!==r.level||t(c,s,r))}},ta.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},ta.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=ne(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,i){t.invalidateLayer(e)})))},ta.invalidateLayer=function(e){if(this.lastInvalidationTime=ne(),!e.invalid){var t=e.level,n=e.eles,i=this.layersByLevel[t];Me(i,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var r=0;r<n.length;r++){var s=n[r]._private.rscratch.imgLayerCaches;s&&(s[t]=null)}}},ta.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,i){var r=e.replacement;if(r||((r=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,r.eles=e.eles),!r.reqs)for(var s=0;s<r.eles.length;s++)t.queueLayer(r,r.eles[s])}))},ta.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},ta.queueLayer=function(e,t){var n=this.layersQueue,i=e.elesQueue,r=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(r[t.id()])return;i.push(t),r[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},ta.dequeue=function(e){for(var t=this,n=t.layersQueue,i=[],r=0;r<1&&0!==n.size();){var s=n.peek();if(s.replacement)n.pop();else if(s.replaces&&s!==s.replaces.replacement)n.pop();else if(s.invalid)n.pop();else{var o=s.elesQueue.shift();o&&(t.drawEleInLayer(s,o,s.level,e),r++),0===i.length&&i.push(!0),0===s.elesQueue.length&&(n.pop(),s.reqs=0,s.replaces&&t.applyLayerReplacement(s),t.requestRedraw())}}return i},ta.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=e;for(var r=0;r<e.eles.length;r++){var s=e.eles[r]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},ta.requestRedraw=c.default((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),ta.setupDequeueing=Ko({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:we,shouldRedraw:ye,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var ra,sa={};function oa(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.lineTo(i.x,i.y)}}function aa(e,t,n){for(var i,r=0;r<t.length;r++){var s=t[r];0===r&&(i=s),e.lineTo(s.x,s.y)}e.quadraticCurveTo(n.x,n.y,i.x,i.y)}function la(e,t,n){e.beginPath&&e.beginPath();for(var i=t,r=0;r<i.length;r++){var s=i[r];e.lineTo(s.x,s.y)}var o=n,a=n[0];for(e.moveTo(a.x,a.y),r=1;r<o.length;r++)s=o[r],e.lineTo(s.x,s.y);e.closePath&&e.closePath()}function ca(e,t,n,i,r){e.beginPath&&e.beginPath(),e.arc(n,i,r,0,2*Math.PI,!1);var s=t,o=s[0];e.moveTo(o.x,o.y);for(var a=0;a<s.length;a++){var l=s[a];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function ua(e,t,n,i){e.arc(t,n,i,0,2*Math.PI,!1)}sa.arrowShapeImpl=function(e){return(ra||(ra={polygon:oa,"triangle-backcurve":aa,"triangle-tee":la,"circle-triangle":ca,"triangle-cross":la,circle:ua}))[e]};var ha={drawElement:function(e,t,n,i,r,s){t.isNode()?this.drawNode(e,t,n,i,r,s):this.drawEdge(e,t,n,i,r,s)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,i,r,s,o,a){var l=this,c=n.getBoundingBox(t);if(0!==c.w&&0!==c.h){var u=n.getElement(t,c,i,r,s);if(null!=u){var h=a(l,t);if(0===h)return;var d,p,f,g,m,v,y=o(l,t),b=c.x1,x=c.y1,w=c.w,E=c.h;if(0!==y){var S=n.getRotationPoint(t);f=S.x,g=S.y,e.translate(f,g),e.rotate(y),(m=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var C=n.getRotationOffset(t);d=C.x,p=C.y}else d=b,p=x;1!==h&&(v=e.globalAlpha,e.globalAlpha=v*h),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,d,p,w,E),1!==h&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-f,-g),m||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},da=function(){return 0},pa=function(e,t){return e.getTextAngle(t,null)},fa=function(e,t){return e.getTextAngle(t,"source")},ga=function(e,t){return e.getTextAngle(t,"target")},ma=function(e,t){return t.effectiveOpacity()},va=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};ha.drawCachedElement=function(e,t,n,i,r,s){var o=this,a=o.data,l=a.eleTxrCache,c=a.lblTxrCache,u=a.slbTxrCache,h=a.tlbTxrCache,d=t.boundingBox(),p=!0===s?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!i||mt(d,i))){var f=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,n,r,p,da,ma),f&&g||o.drawCachedElementPortion(e,t,c,n,r,p,pa,va),f&&!g&&(o.drawCachedElementPortion(e,t,u,n,r,p,fa,va),o.drawCachedElementPortion(e,t,h,n,r,p,ga,va)),o.drawElementOverlay(e,t)}},ha.drawElements=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];this.drawElement(e,i)}},ha.drawCachedElements=function(e,t,n,i){for(var r=0;r<t.length;r++){var s=t[r];this.drawCachedElement(e,s,n,i)}},ha.drawCachedNodes=function(e,t,n,i){for(var r=0;r<t.length;r++){var s=t[r];s.isNode()&&this.drawCachedElement(e,s,n,i)}},ha.drawLayeredElements=function(e,t,n,i){var r=this.data.lyrTxrCache.getLayers(t,n);if(r)for(var s=0;s<r.length;s++){var o=r[s],a=o.bb;0!==a.w&&0!==a.h&&e.drawImage(o.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(e,t,n,i)};var ya={drawEdge:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,a=t._private.rscratch;if((!s||t.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var c=s?t.pstyle("opacity").value:1,u=s?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,f=t.pstyle("line-cap").value,g=c*u,m=c*u,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;"straight-triangle"===h?(o.eleStrokeStyle(e,t,n),o.drawEdgeTrianglePath(t,e,a.allpts)):(e.lineWidth=p,e.lineCap=f,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,a.allpts,d),e.lineCap="butt")},y=function(){r&&o.drawEdgeOverlay(e,t)},b=function(){r&&o.drawEdgeUnderlay(e,t)},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;o.drawArrowheads(e,t,n)},w=function(){o.drawElementText(e,t,null,i)};e.lineJoin="round";var E="yes"===t.pstyle("ghost").value;if(E){var S=t.pstyle("ghost-offset-x").pfValue,C=t.pstyle("ghost-offset-y").pfValue,k=t.pstyle("ghost-opacity").value,A=g*k;e.translate(S,C),v(A),x(A),e.translate(-S,-C)}b(),v(),x(),y(),w(),n&&e.translate(l.x1,l.y1)}}},ba=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(0!==i){var r=this,s=r.usePaths(),o=n._private.rscratch,a=2*n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-color")).value;t.lineWidth=a,"self"!==o.edgeType||s?t.lineCap="round":t.lineCap="butt",r.colorStrokeStyle(t,l[0],l[1],l[2],i),r.drawEdgePath(n,t,o.allpts,"solid")}}}};ya.drawEdgeOverlay=ba("overlay"),ya.drawEdgeUnderlay=ba("underlay"),ya.drawEdgePath=function(e,t,n,i){var r,s=e._private.rscratch,o=t,a=!1,l=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,u=e.pstyle("line-dash-offset").pfValue;if(l){var h=n.join("$");s.pathCacheKey&&s.pathCacheKey===h?(r=t=s.pathCache,a=!0):(r=t=new Path2D,s.pathCacheKey=h,s.pathCache=r)}if(o.setLineDash)switch(i){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(c),o.lineDashOffset=u;break;case"solid":o.setLineDash([])}if(!a&&!s.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),s.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1])}t=o,l?t.stroke(r):t.stroke(),t.setLineDash&&t.setLineDash([])},ya.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var i=e.pstyle("width").pfValue,r=0;r+1<n.length;r+=2){var s=[n[r+2]-n[r],n[r+3]-n[r+1]],o=Math.sqrt(s[0]*s[0]+s[1]*s[1]),a=[s[1]/o,-s[0]/o],l=[a[0]*i/2,a[1]*i/2];t.beginPath(),t.moveTo(n[r]-l[0],n[r+1]-l[1]),t.lineTo(n[r]+l[0],n[r+1]+l[1]),t.lineTo(n[r+2],n[r+3]),t.closePath(),t.fill()}},ya.drawArrowheads=function(e,t,n){var i=t._private.rscratch,r="haystack"===i.edgeType;r||this.drawArrowhead(e,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),r||this.drawArrowhead(e,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},ya.drawArrowhead=function(e,t,n,i,r,s,o){if(!(isNaN(i)||null==i||isNaN(r)||null==r||isNaN(s)||null==s)){var a=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var c="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===o&&(o=d);var p=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,1),a.colorStrokeStyle(e,255,255,255,1),a.drawArrowShape(t,e,c,h,l,i,r,s),e.globalCompositeOperation=p);var f=t.pstyle(n+"-arrow-color").value;a.colorFillStyle(e,f[0],f[1],f[2],o),a.colorStrokeStyle(e,f[0],f[1],f[2],o),a.drawArrowShape(t,e,u,h,l,i,r,s)}}},ya.drawArrowShape=function(e,t,n,i,r,s,o,a){var l,c=this,u=this.usePaths()&&"triangle-cross"!==r,h=!1,d=t,p={x:s,y:o},f=e.pstyle("arrow-scale").value,g=this.getArrowWidth(i,f),m=c.arrowShapes[r];if(u){var v=c.arrowPathCache=c.arrowPathCache||[],y=he(r),b=v[y];null!=b?(l=t=b,h=!0):(l=t=new Path2D,v[y]=l)}h||(t.beginPath&&t.beginPath(),u?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,g,a,p,i),t.closePath&&t.closePath()),t=d,u&&(t.translate(s,o),t.rotate(a),t.scale(g,g)),"filled"!==n&&"both"!==n||(u?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(m.matchEdgeWidth?i:1)/(u?g:1),t.lineJoin="miter",u?t.stroke(l):t.stroke()),u&&(t.scale(1/g,1/g),t.rotate(-a),t.translate(-s,-o))};var xa={safeDrawImage:function(e,t,n,i,r,s,o,a,l,c){if(!(r<=0||s<=0||l<=0||c<=0))try{e.drawImage(t,n,i,r,s,o,a,l,c)}catch(e){Ce(e)}},drawInscribedImage:function(e,t,n,i,r){var s=this,o=n.position(),a=o.x,l=o.y,c=n.cy().style(),u=c.getIndexedStyle.bind(c),h=u(n,"background-fit","value",i),d=u(n,"background-repeat","value",i),p=n.width(),f=n.height(),g=2*n.padding(),m=p+("inner"===u(n,"background-width-relative-to","value",i)?0:g),v=f+("inner"===u(n,"background-height-relative-to","value",i)?0:g),y=n._private.rscratch,b="node"===u(n,"background-clip","value",i),x=u(n,"background-image-opacity","value",i)*r,w=u(n,"background-image-smoothing","value",i),E=t.width||t.cachedW,S=t.height||t.cachedH;null!=E&&null!=S||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,S=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=E,k=S;if("auto"!==u(n,"background-width","value",i)&&(C="%"===u(n,"background-width","units",i)?u(n,"background-width","pfValue",i)*m:u(n,"background-width","pfValue",i)),"auto"!==u(n,"background-height","value",i)&&(k="%"===u(n,"background-height","units",i)?u(n,"background-height","pfValue",i)*v:u(n,"background-height","pfValue",i)),0!==C&&0!==k){if("contain"===h)C*=A=Math.min(m/C,v/k),k*=A;else if("cover"===h){var A;C*=A=Math.max(m/C,v/k),k*=A}var D=a-m/2,_=u(n,"background-position-x","units",i),T=u(n,"background-position-x","pfValue",i);D+="%"===_?(m-C)*T:T;var M=u(n,"background-offset-x","units",i),L=u(n,"background-offset-x","pfValue",i);D+="%"===M?(m-C)*L:L;var $=l-v/2,R=u(n,"background-position-y","units",i),F=u(n,"background-position-y","pfValue",i);$+="%"===R?(v-k)*F:F;var B=u(n,"background-offset-y","units",i),I=u(n,"background-offset-y","pfValue",i);$+="%"===B?(v-k)*I:I,y.pathCache&&(D-=a,$-=l,a=0,l=0);var O=e.globalAlpha;e.globalAlpha=x;var P=s.getImgSmoothing(e),N=!1;if("no"===w&&P?(s.setImgSmoothing(e,!1),N=!0):"yes"!==w||P||(s.setImgSmoothing(e,!0),N=!0),"no-repeat"===d)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(s.nodeShapes[s.getNodeShape(n)].draw(e,a,l,m,v),e.clip())),s.safeDrawImage(e,t,0,0,E,S,D,$,C,k),b&&e.restore();else{var z=e.createPattern(t,d);e.fillStyle=z,s.nodeShapes[s.getNodeShape(n)].draw(e,a,l,m,v),e.translate(D,$),e.fill(),e.translate(-D,-$)}e.globalAlpha=O,N&&s.setImgSmoothing(e,P)}}},wa={};function Ea(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+i-s,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-s,n+r),e.lineTo(t+s,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),e.fill()}wa.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),i=this.getPixelRatio(),r=Math.ceil(it(n*i));t=Math.pow(2,r)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},wa.drawElementText=function(e,t,n,i,r){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==i){if(s&&!o.eleTextBiggerThanMin(t))return}else if(!1===i)return;if(t.isNode()){var a=t.pstyle("label");if(!a||!a.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,u=t.pstyle("label"),h=t.pstyle("source-label"),d=t.pstyle("target-label");if(c||(!u||!u.value)&&(!h||!h.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,f=!n;n&&(p=n,e.translate(-p.x1,-p.y1)),null==r?(o.drawText(e,t,null,f,s),t.isEdge()&&(o.drawText(e,t,"source",f,s),o.drawText(e,t,"target",f,s))):o.drawText(e,t,r,f,s),n&&e.translate(p.x1,p.y1)},wa.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},wa.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.pstyle("font-style").strValue,r=t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,a=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*a,c=t.pstyle("color").value,u=t.pstyle("text-outline-color").value;e.font=i+" "+o+" "+r+" "+s,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],a),this.colorStrokeStyle(e,u[0],u[1],u[2],l)},wa.getTextAngle=function(e,t){var n=e._private.rscratch,i=t?t+"-":"",r=e.pstyle(i+"text-rotation"),s=$e(n,"labelAngle",t);return"autorotate"===r.strValue?e.isEdge()?s:0:"none"===r.strValue?0:r.pfValue},wa.drawText=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=t._private,o=s.rscratch,a=r?t.effectiveOpacity():1;if(!r||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var l,c,u=$e(o,"labelX",n),h=$e(o,"labelY",n),d=this.getLabelText(t,n);if(null!=d&&""!==d&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,r);var p,f=n?n+"-":"",g=$e(o,"labelWidth",n),m=$e(o,"labelHeight",n),v=t.pstyle(f+"text-margin-x").pfValue,y=t.pstyle(f+"text-margin-y").pfValue,b=t.isEdge(),x=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(b&&(x="center",w="center"),u+=v,h+=y,0!==(p=i?this.getTextAngle(t,n):0)&&(l=u,c=h,e.translate(l,c),e.rotate(p),u=0,h=0),w){case"top":break;case"center":h+=m/2;break;case"bottom":h+=m}var E=t.pstyle("text-background-opacity").value,S=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,k=t.pstyle("text-background-padding").pfValue;if(E>0||C>0&&S>0){var A=u-k;switch(x){case"left":A-=g;break;case"center":A-=g/2}var D=h-m-k,_=g+2*k,T=m+2*k;if(E>0){var M=e.fillStyle,L=t.pstyle("text-background-color").value;e.fillStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+E*a+")";var $=t.pstyle("text-background-shape").strValue;0===$.indexOf("round")?Ea(e,A,D,_,T,2):e.fillRect(A,D,_,T),e.fillStyle=M}if(C>0&&S>0){var R=e.strokeStyle,F=e.lineWidth,B=t.pstyle("text-border-color").value,I=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+S*a+")",e.lineWidth=C,e.setLineDash)switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(A,D,_,T),"double"===I){var O=C/2;e.strokeRect(A+O,D+O,_-2*O,T-2*O)}e.setLineDash&&e.setLineDash([]),e.lineWidth=F,e.strokeStyle=R}}var P=2*t.pstyle("text-outline-width").pfValue;if(P>0&&(e.lineWidth=P),"wrap"===t.pstyle("text-wrap").value){var N=$e(o,"labelWrapCachedLines",n),z=$e(o,"labelLineHeight",n),W=g/2,V=this.getLabelJustification(t);switch("auto"===V||("left"===x?"left"===V?u+=-g:"center"===V&&(u+=-W):"center"===x?"left"===V?u+=-W:"right"===V&&(u+=W):"right"===x&&("center"===V?u+=W:"right"===V&&(u+=g))),w){case"top":case"center":case"bottom":h-=(N.length-1)*z}for(var H=0;H<N.length;H++)P>0&&e.strokeText(N[H],u,h),e.fillText(N[H],u,h),h+=z}else P>0&&e.strokeText(d,u,h),e.fillText(d,u,h);0!==p&&(e.rotate(-p),e.translate(-l,-c))}}};var Sa={drawNode:function(e,t,n){var i,r,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=t._private,u=c.rscratch,h=t.position();if($(h.x)&&$(h.y)&&(!a||t.visible())){var d,p,f=a?t.effectiveOpacity():1,g=l.usePaths(),m=!1,v=t.padding();i=t.width()+2*v,r=t.height()+2*v,n&&(p=n,e.translate(-p.x1,-p.y1));for(var y=t.pstyle("background-image"),b=y.value,x=new Array(b.length),w=new Array(b.length),E=0,S=0;S<b.length;S++){var C=b[S],k=x[S]=null!=C&&"none"!==C;if(k){var A=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",S);E++,w[S]=l.getCachedImage(C,A,(function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var D=t.pstyle("background-blacken").value,_=t.pstyle("border-width").pfValue,T=t.pstyle("background-opacity").value*f,M=t.pstyle("border-color").value,L=t.pstyle("border-style").value,R=t.pstyle("border-opacity").value*f;e.lineJoin="miter";var F=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;l.eleFillStyle(e,t,n)},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;l.colorStrokeStyle(e,M[0],M[1],M[2],t)},I=t.pstyle("shape").strValue,O=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var P=l.nodePathCache=l.nodePathCache||[],N=de("polygon"===I?I+","+O.join(","):I,""+r,""+i),z=P[N];null!=z?(d=z,m=!0,u.pathCache=d):(d=new Path2D,P[N]=u.pathCache=d)}var W=function(){if(!m){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,n.x,n.y,i,r)}g?e.fill(d):e.fill()},V=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c.backgrounding,s=0,o=0;o<w.length;o++){var a=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);i&&"over"===a||!i&&"inside"===a?s++:x[o]&&w[o].complete&&!w[o].error&&(s++,l.drawInscribedImage(e,w[o],t,o,n))}c.backgrounding=!(s===E),r!==c.backgrounding&&t.updateStyle(!1)},H=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(t)&&(l.drawPie(e,t,s),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,i,r)))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(D>0?D:-D)*t,i=D>0?0:255;0!==D&&(l.colorFillStyle(e,i,i,i,n),g?e.fill(d):e.fill())},U=function(){if(_>0){if(e.lineWidth=_,e.lineCap="butt",e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(d):e.stroke(),"double"===L){e.lineWidth=_/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},G=function(){o&&l.drawNodeOverlay(e,t,h,i,r)},q=function(){o&&l.drawNodeUnderlay(e,t,h,i,r)},K=function(){l.drawElementText(e,t,null,s)},X="yes"===t.pstyle("ghost").value;if(X){var Y=t.pstyle("ghost-offset-x").pfValue,J=t.pstyle("ghost-offset-y").pfValue,Z=t.pstyle("ghost-opacity").value,Q=Z*f;e.translate(Y,J),F(Z*T),W(),V(Q,!0),B(Z*R),U(),H(0!==D||0!==_),V(Q,!1),j(Q),e.translate(-Y,-J)}g&&e.translate(-h.x,-h.y),q(),g&&e.translate(h.x,h.y),F(),W(),V(f,!0),B(),U(),H(0!==D||0!==_),V(f,!1),j(),g&&e.translate(-h.x,-h.y),K(),G(),n&&e.translate(p.x1,p.y1)}}},Ca=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,i,r,s){if(n.visible()){var o=n.pstyle("".concat(e,"-padding")).pfValue,a=n.pstyle("".concat(e,"-opacity")).value,l=n.pstyle("".concat(e,"-color")).value,c=n.pstyle("".concat(e,"-shape")).value;if(a>0){if(i=i||n.position(),null==r||null==s){var u=n.padding();r=n.width()+2*u,s=n.height()+2*u}this.colorFillStyle(t,l[0],l[1],l[2],a),this.nodeShapes[c].draw(t,i.x,i.y,r+2*o,s+2*o),t.fill()}}}};Sa.drawNodeOverlay=Ca("overlay"),Sa.drawNodeUnderlay=Ca("underlay"),Sa.hasPie=function(e){return(e=e[0])._private.hasPie},Sa.drawPie=function(e,t,n,i){t=t[0],i=i||t.position();var r=t.cy().style(),s=t.pstyle("pie-size"),o=i.x,a=i.y,l=t.width(),c=t.height(),u=Math.min(l,c)/2,h=0;this.usePaths()&&(o=0,a=0),"%"===s.units?u*=s.pfValue:void 0!==s.pfValue&&(u=s.pfValue/2);for(var d=1;d<=r.pieBackgroundN;d++){var p=t.pstyle("pie-"+d+"-background-size").value,f=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*n,m=p/100;m+h>1&&(m=1-h);var v=1.5*Math.PI+2*Math.PI*h,y=v+2*Math.PI*m;0===p||h>=1||h+m>1||(e.beginPath(),e.moveTo(o,a),e.arc(o,a,u,v,y),e.closePath(),this.colorFillStyle(e,f[0],f[1],f[2],g),e.fill(),h+=m)}};for(var ka={getPixelRatio:function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},paintCache:function(e){for(var t,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if((t=n[r]).context===e){i=!1;break}return i&&(t={context:e},n.push(t)),t},createGradientStyleFor:function(e,t,n,i,r){var s,o=this.usePaths(),a=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var c=n.sourceEndpoint(),u=n.targetEndpoint(),h=n.midpoint(),d=st(c,h),p=st(u,h);s=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var f=o?{x:0,y:0}:n.position(),g=n.paddedWidth(),m=n.paddedHeight();s=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,m))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();s=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=o?{x:0,y:0}:n.position(),x=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":s=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":s=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":s=e.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-right":s=e.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-bottom-right":case"to-right-bottom":s=e.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":s=e.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":s=e.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":s=e.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!s)return null;for(var E=l.length===a.length,S=a.length,C=0;C<S;C++)s.addColorStop(E?l[C]:C/(S-1),"rgba("+a[C][0]+","+a[C][1]+","+a[C][2]+","+r+")");return s},gradientFillStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"background",t,n,i);if(!r)return null;e.fillStyle=r},colorFillStyle:function(e,t,n,i,r){e.fillStyle="rgba("+t+","+n+","+i+","+r+")"},eleFillStyle:function(e,t,n){var i=t.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(e,t,i,n);else{var r=t.pstyle("background-color").value;this.colorFillStyle(e,r[0],r[1],r[2],n)}},gradientStrokeStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"line",t,n,i);if(!r)return null;e.strokeStyle=r},colorStrokeStyle:function(e,t,n,i,r){e.strokeStyle="rgba("+t+","+n+","+i+","+r+")"},eleStrokeStyle:function(e,t,n){var i=t.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(e,t,i,n);else{var r=t.pstyle("line-color").value;this.colorStrokeStyle(e,r[0],r[1],r[2],n)}},matchCanvasSize:function(e){var t=this,n=t.data,i=t.findContainerClientCoords(),r=i[2],s=i[3],o=t.getPixelRatio(),a=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=a);var l,c=r*o,u=s*o;if(c!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=r+"px",h.style.height=s+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=c,l.height=u,l.style.width=r+"px",l.style.height=s+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=c,l.height=u,l.style.width=r+"px",l.style.height=s+"px";t.textureMult=1,o<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=c*t.textureMult,l.height=u*t.textureMult),t.canvasWidth=c,t.canvasHeight=u}},renderTo:function(e,t,n,i){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},render:function(e){var t=(e=e||_e()).forcedContext,n=e.drawAllLayers,i=e.drawOnlyNodeLayer,r=e.forcedZoom,s=e.forcedPan,o=this,a=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=o.cy,c=o.data,u=c.canvasNeedsRedraw,h=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,p=o.motionBlurPxRatio,f=l.hasCompoundNodes(),g=o.hoverData.draggingEles,m=!(!o.hoverData.selecting&&!o.touchData.selecting),v=d=d&&!t&&o.motionBlurEnabled&&!m;t||(o.prevPxRatio!==a&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=a),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(v=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!h&&(u[o.NODE]=!0,u[o.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),x=void 0!==r?r:b,w=l.pan(),E={x:w.x,y:w.y},S={zoom:b,pan:{x:w.x,y:w.y}},C=o.prevViewport;void 0===C||S.zoom!==C.zoom||S.pan.x!==C.pan.x||S.pan.y!==C.pan.y||g&&!f||(o.motionBlurPxRatio=1),s&&(E=s),x*=a,E.x*=a,E.y*=a;var k=o.getCachedZSortedEles();function A(e,t,n,i,r){var s=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,n,i,r),e.globalCompositeOperation=s}function D(e,i){var a,l,u,h;o.clearingMotionBlur||e!==c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(a=E,l=x,u=o.canvasWidth,h=o.canvasHeight):(a={x:w.x*p,y:w.y*p},l=b*p,u=o.canvasWidth*p,h=o.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===i?A(e,0,0,u,h):t||void 0!==i&&!i||e.clearRect(0,0,u,h),n||(e.translate(a.x,a.y),e.scale(l,l)),s&&e.translate(s.x,s.y),r&&e.scale(r,r)}if(h||(o.textureDrawLastFrame=!1),h){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var _=o.data.bufferContexts[o.TEXTURE_BUFFER];_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:_,drawOnlyNodeLayer:!0,forcedPxRatio:a*o.textureMult}),(S=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}u[o.DRAG]=!1,u[o.NODE]=!1;var T=c.contexts[o.NODE],M=o.textureCache.texture;S=o.textureCache.viewport,T.setTransform(1,0,0,1,0,0),d?A(T,0,0,S.width,S.height):T.clearRect(0,0,S.width,S.height);var L=y.core("outside-texture-bg-color").value,$=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(T,L[0],L[1],L[2],$),T.fillRect(0,0,S.width,S.height),b=l.zoom(),D(T,!1),T.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/a,S.height/S.zoom/a),T.drawImage(M,S.mpan.x,S.mpan.y,S.width/S.zoom/a,S.height/S.zoom/a)}else o.textureOnViewport&&!t&&(o.textureCache=null);var R=l.extent(),F=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),B=o.hideEdgesOnViewport&&F,I=[];if(I[o.NODE]=!u[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,I[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),I[o.DRAG]=!u[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,I[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),u[o.NODE]||n||i||I[o.NODE]){var O=d&&!I[o.NODE]&&1!==p;D(T=t||(O?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),d&&!O?"motionBlur":void 0),B?o.drawCachedNodes(T,k.nondrag,a,R):o.drawLayeredElements(T,k.nondrag,a,R),o.debug&&o.drawDebugPoints(T,k.nondrag),n||d||(u[o.NODE]=!1)}if(!i&&(u[o.DRAG]||n||I[o.DRAG])&&(O=d&&!I[o.DRAG]&&1!==p,D(T=t||(O?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]),d&&!O?"motionBlur":void 0),B?o.drawCachedNodes(T,k.drag,a,R):o.drawCachedElements(T,k.drag,a,R),o.debug&&o.drawDebugPoints(T,k.drag),n||d||(u[o.DRAG]=!1)),o.showFps||!i&&u[o.SELECT_BOX]&&!n){if(D(T=t||c.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){b=o.cy.zoom();var P=y.core("selection-box-border-width").value/b;T.lineWidth=P,T.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",T.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),P>0&&(T.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",T.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){b=o.cy.zoom();var N=c.bgActivePosistion;T.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",T.beginPath(),T.arc(N.x,N.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),T.fill()}var z=o.lastRedrawTime;if(o.showFps&&z){z=Math.round(z);var W=Math.round(1e3/z);T.setTransform(1,0,0,1,0,0),T.fillStyle="rgba(255, 0, 0, 0.75)",T.strokeStyle="rgba(255, 0, 0, 0.75)",T.lineWidth=1,T.fillText("1 frame = "+z+" ms = "+W+" fps",0,20),T.strokeRect(0,30,250,20),T.fillRect(0,30,250*Math.min(W/60,1),20)}n||(u[o.SELECT_BOX]=!1)}if(d&&1!==p){var V=c.contexts[o.NODE],H=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],j=c.contexts[o.DRAG],U=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],G=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!v?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):A(e,0,0,o.canvasWidth,o.canvasHeight);var i=p;e.drawImage(t,0,0,o.canvasWidth*i,o.canvasHeight*i,0,0,o.canvasWidth,o.canvasHeight)};(u[o.NODE]||I[o.NODE])&&(G(V,H,I[o.NODE]),u[o.NODE]=!1),(u[o.DRAG]||I[o.DRAG])&&(G(j,U,I[o.DRAG]),u[o.DRAG]=!1)}o.prevViewport=S,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout((function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!h,o.mbFrames=0,u[o.NODE]=!0,u[o.DRAG]=!0,o.redraw()}),100)),t||l.emit("render")}},Aa={drawPolygonPath:function(e,t,n,i,r,s){var o=i/2,a=r/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*s[0],n+a*s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(t+o*s[2*l],n+a*s[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,i,r,s){var o=i/2,a=r/2,l=Pt(i,r);e.beginPath&&e.beginPath();for(var c=0;c<s.length/4;c++){var u,h;h=0===c?s.length-2:4*c-2,u=4*c+2;var d=t+o*s[4*c],p=n+a*s[4*c+1],f=-s[h]*s[u]-s[h+1]*s[u+1],g=l/Math.tan(Math.acos(f)/2),m=d-g*s[h],v=p-g*s[h+1],y=d+g*s[u],b=p+g*s[u+1];0===c?e.moveTo(m,v):e.lineTo(m,v),e.arcTo(d,p,y,b,l)}e.closePath()},drawRoundRectanglePath:function(e,t,n,i,r){var s=i/2,o=r/2,a=Ot(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+s,n-o,t+s,n,a),e.arcTo(t+s,n+o,t,n+o,a),e.arcTo(t-s,n+o,t-s,n,a),e.arcTo(t-s,n-o,t,n-o,a),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,i,r){var s=i/2,o=r/2,a=Ot(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+s,n-o),e.lineTo(t+s,n),e.arcTo(t+s,n+o,t,n+o,a),e.arcTo(t-s,n+o,t-s,n,a),e.lineTo(t-s,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,i,r){var s=i/2,o=r/2;e.beginPath&&e.beginPath(),e.moveTo(t-s+8,n-o),e.lineTo(t+s-8,n-o),e.lineTo(t+s,n-o+8),e.lineTo(t+s,n+o-8),e.lineTo(t+s-8,n+o),e.lineTo(t-s+8,n+o),e.lineTo(t-s,n+o-8),e.lineTo(t-s,n-o+8),e.closePath()},drawBarrelPath:function(e,t,n,i,r){var s=i/2,o=r/2,a=t-s,l=t+s,c=n-o,u=n+o,h=Nt(i,r),d=h.widthOffset,p=h.heightOffset,f=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(a,c+p),e.lineTo(a,u-p),e.quadraticCurveTo(a+f,u,a+d,u),e.lineTo(l-d,u),e.quadraticCurveTo(l-f,u,l,u-p),e.lineTo(l,c+p),e.quadraticCurveTo(l-f,c,l-d,c),e.lineTo(a+d,c),e.quadraticCurveTo(a+f,c,a,c+p),e.closePath()}},Da=Math.sin(0),_a=Math.cos(0),Ta={},Ma={},La=Math.PI/40,$a=0*Math.PI;$a<2*Math.PI;$a+=La)Ta[$a]=Math.sin($a),Ma[$a]=Math.cos($a);Aa.drawEllipsePath=function(e,t,n,i,r){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,i/2,r/2,0,0,2*Math.PI);else for(var s,o,a=i/2,l=r/2,c=0*Math.PI;c<2*Math.PI;c+=La)s=t-a*Ta[c]*Da+a*Ma[c]*_a,o=n+l*Ma[c]*Da+l*Ta[c]*_a,0===c?e.moveTo(s,o):e.lineTo(s,o);e.closePath()};var Ra={};function Fa(e){var t=e.indexOf(",");return e.substr(t+1)}function Ba(e,t,n){var i=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Jn((function(i,r){try{t.toBlob((function(e){null!=e?i(e):r(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(e){r(e)}}));case"blob":return function(e,t){for(var n=atob(e),i=new ArrayBuffer(n.length),r=new Uint8Array(i),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return new Blob([i],{type:t})}(Fa(i()),n);case"base64":return Fa(i());default:return i()}}Ra.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Ra.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),i=this.findContainerClientCoords(),r=e.full?Math.ceil(n.w):i[2],s=e.full?Math.ceil(n.h):i[3],o=$(e.maxWidth)||$(e.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==e.scale)r*=e.scale,s*=e.scale,l=e.scale;else if(o){var c=1/0,u=1/0;$(e.maxWidth)&&(c=l*e.maxWidth/r),$(e.maxHeight)&&(u=l*e.maxHeight/s),r*=l=Math.min(c,u),s*=l}o||(r*=a,s*=a,l*=a);var h=document.createElement("canvas");h.width=r,h.height=s,h.style.width=r+"px",h.style.height=s+"px";var d=h.getContext("2d");if(r>0&&s>0){d.clearRect(0,0,r,s),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=t.pan(),g={x:f.x*l,y:f.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,r,s),d.fill())}return h},Ra.png=function(e){return Ba(e,this.bufferCanvasImage(e),"image/png")},Ra.jpg=function(e){return Ba(e,this.bufferCanvasImage(e),"image/jpeg")};var Ia=Pa,Oa=Pa.prototype;function Pa(e){var t=this;t.data={canvases:new Array(Oa.CANVAS_LAYERS),contexts:new Array(Oa.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Oa.CANVAS_LAYERS),bufferCanvases:new Array(Oa.BUFFER_COUNT),bufferContexts:new Array(Oa.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=i,r.position="relative",r.zIndex="0",r.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[n]=i;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};E&&E.userAgent.match(/msie|trident|edge/i)&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var a=0;a<Oa.CANVAS_LAYERS;a++){var l=t.data.canvases[a]=document.createElement("canvas");t.data.contexts[a]=l.getContext("2d"),Object.keys(o).forEach((function(e){l.style[e]=o[e]})),l.style.position="absolute",l.setAttribute("data-id","layer"+a),l.style.zIndex=String(Oa.CANVAS_LAYERS-a),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[a]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[Oa.NODE].setAttribute("data-id","layer"+Oa.NODE+"-node"),t.data.canvases[Oa.SELECT_BOX].setAttribute("data-id","layer"+Oa.SELECT_BOX+"-selectbox"),t.data.canvases[Oa.DRAG].setAttribute("data-id","layer"+Oa.DRAG+"-drag"),a=0;a<Oa.BUFFER_COUNT;a++)t.data.bufferCanvases[a]=document.createElement("canvas"),t.data.bufferContexts[a]=t.data.bufferCanvases[a].getContext("2d"),t.data.bufferCanvases[a].style.position="absolute",t.data.bufferCanvases[a].setAttribute("data-id","buffer"+a),t.data.bufferCanvases[a].style.zIndex=String(-a-1),t.data.bufferCanvases[a].style.visibility="hidden";t.pathsEnabled=!0;var c=ht(),u=function(e){return{x:-e.w/2,y:-e.h/2}},h=function(e){return e.boundingBox(),e[0]._private.bodyBounds},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||c},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||c},f=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||c},g=function(e,t){return t},m=function(e,t,n){var i=e?e+"-":"";return{x:t.x+n.pstyle(i+"text-margin-x").pfValue,y:t.y+n.pstyle(i+"text-margin-y").pfValue}},v=function(e,t,n){var i=e[0]._private.rscratch;return{x:i[t],y:i[n]}},y=t.data.eleTxrCache=new Zo(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,i,r,s){return t.drawElement(e,n,i,!1,!1,s)},getBoundingBox:h,getRotationPoint:function(e){return{x:((t=h(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return u(h(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new Zo(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,i,r,s){return t.drawElementText(e,n,i,r,"main",s)},getBoundingBox:d,getRotationPoint:function(e){return m("",v(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=d(e),n=u(d(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:g}),x=t.data.slbTxrCache=new Zo(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,i,r,s){return t.drawElementText(e,n,i,r,"source",s)},getBoundingBox:p,getRotationPoint:function(e){return m("source",v(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return u(p(e))},isVisible:g}),w=t.data.tlbTxrCache=new Zo(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,i,r,s){return t.drawElementText(e,n,i,r,"target",s)},getBoundingBox:f,getRotationPoint:function(e){return m("target",v(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return u(f(e))},isVisible:g}),S=t.data.lyrTxrCache=new ea(t);t.onUpdateEleCalcs((function(e,t){y.invalidateElements(t),b.invalidateElements(t),x.invalidateElements(t),w.invalidateElements(t),S.invalidateElements(t);for(var n=0;n<t.length;n++){var i=t[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}}));var C=function(e){for(var t=0;t<e.length;t++)S.enqueueElementRefinement(e[t].ele)};y.onDequeue(C),b.onDequeue(C),x.onDequeue(C),w.onDequeue(C)}Oa.CANVAS_LAYERS=3,Oa.SELECT_BOX=0,Oa.DRAG=1,Oa.NODE=2,Oa.BUFFER_COUNT=3,Oa.TEXTURE_BUFFER=0,Oa.MOTIONBLUR_BUFFER_NODE=1,Oa.MOTIONBLUR_BUFFER_DRAG=2,Oa.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Oa.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Oa.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Oa.SELECT_BOX]=t}};var Na="undefined"!=typeof Path2D;Oa.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Oa.usePaths=function(){return Na&&this.pathsEnabled},Oa.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Oa.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Oa.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":f(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[sa,ha,ya,xa,wa,Sa,ka,Aa,Ra,{nodeShapeImpl:function(e,t,n,i,r,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,i,r,s);case"polygon":return this.drawPolygonPath(t,n,i,r,s,o);case"round-polygon":return this.drawRoundPolygonPath(t,n,i,r,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,i,r,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,i,r,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,i,r,s);case"barrel":return this.drawBarrelPath(t,n,i,r,s)}}}].forEach((function(e){K(Oa,e)}));var za=[{type:"layout",extensions:wo},{type:"renderer",extensions:[{name:"null",impl:Eo},{name:"base",impl:Uo},{name:"canvas",impl:Ia}]}],Wa={},Va={};function Ha(e,t,n){var i=n,r=function(n){Ce("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(Fs.prototype[t])return r(t);Fs.prototype[t]=n}else if("collection"===e){if(Jr.prototype[t])return r(t);Jr.prototype[t]=n}else if("layout"===e){for(var s=function(e){this.options=e,n.call(this,e),L(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=s.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var c=a[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var u=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};K(o,{createEmitter:function(){return this._private.emitter=new mr(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),ii.eventAliasesOn(o),i=s}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=ja("renderer","base"),f=p.prototype,g=n,m=n.prototype,v=function(){p.apply(this,arguments),g.apply(this,arguments)},y=v.prototype;for(var b in f){var x=f[b];if(null!=m[b])return r(b);y[b]=x}for(var w in m)y[w]=m[w];f.clientFunctions.forEach((function(e){y[e]=y[e]||function(){Ee("Renderer does not implement `renderer."+e+"()` on its prototype")}})),i=v}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Ee(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return Y({map:Wa,keys:[e,t],value:i})}function ja(e,t){return J({map:Wa,keys:[e,t]})}function Ua(e,t,n,i,r){return Y({map:Va,keys:[e,t,n,i],value:r})}function Ga(e,t,n,i){return J({map:Va,keys:[e,t,n,i]})}var qa=function(){return 2===arguments.length?ja.apply(null,arguments):3===arguments.length?Ha.apply(null,arguments):4===arguments.length?Ga.apply(null,arguments):5===arguments.length?Ua.apply(null,arguments):void Ee("Invalid extension access syntax")};Fs.prototype.extension=qa,za.forEach((function(e){e.extensions.forEach((function(t){Ha(e.type,t.name,t.impl)}))}));var Ka=function e(){if(!(this instanceof e))return new e;this.length=0},Xa=Ka.prototype;Xa.instanceString=function(){return"stylesheet"},Xa.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Xa.css=function(e,t){var n=this.length-1;if(_(e))this[n].properties.push({name:e,value:t});else if(L(e))for(var i=e,r=Object.keys(i),s=0;s<r.length;s++){var o=r[s],a=i[o];if(null!=a){var l=Ts.properties[o]||Ts.properties[H(o)];if(null!=l){var c=l.name,u=a;this[n].properties.push({name:c,value:u})}}}return this},Xa.style=Xa.css,Xa.generateStyle=function(e){var t=new Ts(e);return this.appendToStyle(t)},Xa.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],i=n.selector,r=n.properties;e.selector(i);for(var s=0;s<r.length;s++){var o=r[s];e.css(o.name,o.value)}}return e};var Ya=function(e){return void 0===e&&(e={}),L(e)?new Fs(e):_(e)?qa.apply(qa,arguments):void 0};Ya.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Ya),e.apply(null,t),this},Ya.warnings=function(e){return Se(e)},Ya.version="3.23.0",Ya.stylesheet=Ya.Stylesheet=Ka,e.exports=Ya},681:(e,t,n)=>{e.exports={graphlib:n(574),layout:n(8123),debug:n(7570),util:{time:n(1138).time,notime:n(1138).notime},version:n(8177)}},2188:(e,t,n)=>{"use strict";var i=n(8436),r=n(4079);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?r(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return i.forEach(e.nodes(),(function s(o){i.has(r,o)||(r[o]=!0,n[o]=!0,i.forEach(e.outEdges(o),(function(e){i.has(n,e.w)?t.push(e):s(e.w)})),delete n[o])})),t}(e);i.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,i.uniqueId("rev"))}))},undo:function(e){i.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var i=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,i)}}))}}},1133:(e,t,n)=>{var i=n(8436),r=n(1138);function s(e,t,n,i,s,o){var a={width:0,height:0,rank:o,borderType:t},l=s[t][o-1],c=r.addDummyNode(e,"border",a,n);s[t][o]=c,e.setParent(c,i),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){i.forEach(e.children(),(function t(n){var r=e.children(n),o=e.node(n);if(r.length&&i.forEach(r,t),i.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,l=o.maxRank+1;a<l;++a)s(e,"borderLeft","_bl",n,o,a),s(e,"borderRight","_br",n,o,a)}}))}},3258:(e,t,n)=>{"use strict";var i=n(8436);function r(e){i.forEach(e.nodes(),(function(t){s(e.node(t))})),i.forEach(e.edges(),(function(t){s(e.edge(t))}))}function s(e){var t=e.width;e.width=e.height,e.height=t}function o(e){e.y=-e.y}function a(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){i.forEach(e.nodes(),(function(t){o(e.node(t))})),i.forEach(e.edges(),(function(t){var n=e.edge(t);i.forEach(n.points,o),i.has(n,"y")&&o(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){i.forEach(e.nodes(),(function(t){a(e.node(t))})),i.forEach(e.edges(),(function(t){var n=e.edge(t);i.forEach(n.points,a),i.has(n,"x")&&a(n)}))}(e),r(e))}}},7822:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},7570:(e,t,n)=>{var i=n(8436),r=n(1138),s=n(574).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new s({compound:!0,multigraph:!0}).setGraph({});return i.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),i.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),i.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),i.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},574:(e,t,n)=>{var i;try{i=n(8282)}catch(e){}i||(i=window.graphlib),e.exports=i},4079:(e,t,n)=>{var i=n(8436),r=n(574).Graph,s=n(7822);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,o=0,a=0;i.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),i.forEach(e.edges(),(function(e){var i=n.edge(e.v,e.w)||0,r=t(e),s=i+r;n.setEdge(e.v,e.w,s),a=Math.max(a,n.node(e.v).out+=r),o=Math.max(o,n.node(e.w).in+=r)}));var c=i.range(a+o+3).map((function(){return new s})),u=o+1;return i.forEach(n.nodes(),(function(e){l(c,u,n.node(e))})),{graph:n,buckets:c,zeroIdx:u}}(e,t||o),c=function(e,t,n){for(var i,r=[],s=t[t.length-1],o=t[0];e.nodeCount();){for(;i=o.dequeue();)a(e,t,n,i);for(;i=s.dequeue();)a(e,t,n,i);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(i=t[l].dequeue()){r=r.concat(a(e,t,n,i,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return i.flatten(i.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var o=i.constant(1);function a(e,t,n,r,s){var o=s?[]:void 0;return i.forEach(e.inEdges(r.v),(function(i){var r=e.edge(i),a=e.node(i.v);s&&o.push({v:i.v,w:i.w}),a.out-=r,l(t,n,a)})),i.forEach(e.outEdges(r.v),(function(i){var r=e.edge(i),s=i.w,o=e.node(s);o.in-=r,l(t,n,o)})),e.removeNode(r.v),o}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},8123:(e,t,n)=>{"use strict";var i=n(8436),r=n(2188),s=n(5995),o=n(8093),a=n(1138).normalizeRanks,l=n(4219),c=n(1138).removeEmptyRanks,u=n(2981),h=n(1133),d=n(3258),p=n(3408),f=n(7873),g=n(1138),m=n(574).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new m({multigraph:!0,compound:!0}),n=A(e.graph());return t.setGraph(i.merge({},y,k(n,v),i.pick(n,b))),i.forEach(e.nodes(),(function(n){var r=A(e.node(n));t.setNode(n,i.defaults(k(r,x),w)),t.setParent(n,e.parent(n))})),i.forEach(e.edges(),(function(n){var r=A(e.edge(n));t.setEdge(n,i.merge({},S,k(r,E),i.pick(r,C)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,i.forEach(e.edges(),(function(n){var i=e.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){i.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){r.run(e)})),t("    nestingGraph.run",(function(){u.run(e)})),t("    rank",(function(){o(g.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){i.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var i=e.node(t.v),r={rank:(e.node(t.w).rank-i.rank)/2+i.rank,e:t};g.addDummyNode(e,"edge-proxy",r,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){c(e)})),t("    nestingGraph.cleanup",(function(){u.cleanup(e)})),t("    normalizeRanks",(function(){a(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;i.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=i.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){i.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){s.run(e)})),t("    parentDummyChains",(function(){l(e)})),t("    addBorderSegments",(function(){h(e)})),t("    order",(function(){p(e)})),t("    insertSelfEdges",(function(){!function(e){var t=g.buildLayerMatrix(e);i.forEach(t,(function(t){var n=0;i.forEach(t,(function(t,r){var s=e.node(t);s.order=r+n,i.forEach(s.selfEdges,(function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:s.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete s.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){d.adjust(e)})),t("    position",(function(){f(e)})),t("    positionSelfEdges",(function(){!function(e){i.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var i=e.node(n.e.v),r=i.x+i.width/2,s=i.y,o=n.x-r,a=i.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*o/3,y:s-a},{x:r+5*o/6,y:s-a},{x:r+o,y:s},{x:r+5*o/6,y:s+a},{x:r+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){i.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),s=e.node(n.borderBottom),o=e.node(i.last(n.borderLeft)),a=e.node(i.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(s.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),i.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){s.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){i.forEach(e.edges(),(function(t){var n=e.edge(t);if(i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){d.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,s=0,o=e.graph(),a=o.marginx||0,l=o.marginy||0;function c(e){var i=e.x,o=e.y,a=e.width,l=e.height;t=Math.min(t,i-a/2),n=Math.max(n,i+a/2),r=Math.min(r,o-l/2),s=Math.max(s,o+l/2)}i.forEach(e.nodes(),(function(t){c(e.node(t))})),i.forEach(e.edges(),(function(t){var n=e.edge(t);i.has(n,"x")&&c(n)})),t-=a,r-=l,i.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),i.forEach(e.edges(),(function(n){var s=e.edge(n);i.forEach(s.points,(function(e){e.x-=t,e.y-=r})),i.has(s,"x")&&(s.x-=t),i.has(s,"y")&&(s.y-=r)})),o.width=n-t+a,o.height=s-r+l}(e)})),t("    assignNodeIntersects",(function(){!function(e){i.forEach(e.edges(),(function(t){var n,i,r=e.edge(t),s=e.node(t.v),o=e.node(t.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=o,i=s),r.points.unshift(g.intersectRect(s,n)),r.points.push(g.intersectRect(o,i))}))}(e)})),t("    reversePoints",(function(){!function(e){i.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){r.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){i.forEach(e.nodes(),(function(n){var i=e.node(n),r=t.node(n);i&&(i.x=r.x,i.y=r.y,t.children(n).length&&(i.width=r.width,i.height=r.height))})),i.forEach(e.edges(),(function(n){var r=e.edge(n),s=t.edge(n);r.points=s.points,i.has(s,"x")&&(r.x=s.x,r.y=s.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function k(e,t){return i.mapValues(i.pick(e,t),Number)}function A(e){var t={};return i.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},8436:(e,t,n)=>{var i;try{i={cloneDeep:n(361),constant:n(5703),defaults:n(1747),each:n(6073),filter:n(3105),find:n(3311),flatten:n(5564),forEach:n(4486),forIn:n(2620),has:n(8721),isUndefined:n(2353),last:n(928),map:n(5161),mapValues:n(6604),max:n(6162),merge:n(3857),min:n(3632),minBy:n(2762),now:n(7771),pick:n(9722),range:n(6026),reduce:n(4061),sortBy:n(9734),uniqueId:n(3955),values:n(2628),zipObject:n(7287)}}catch(e){}i||(i=window._),e.exports=i},2981:(e,t,n)=>{var i=n(8436),r=n(1138);function s(e,t,n,o,a,l,c){var u=e.children(c);if(u.length){var h=r.addBorderNode(e,"_bt"),d=r.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(h,c),p.borderTop=h,e.setParent(d,c),p.borderBottom=d,i.forEach(u,(function(i){s(e,t,n,o,a,l,i);var r=e.node(i),u=r.borderTop?r.borderTop:i,p=r.borderBottom?r.borderBottom:i,f=r.borderTop?o:2*o,g=u!==p?1:a-l[c]+1;e.setEdge(h,u,{weight:f,minlen:g,nestingEdge:!0}),e.setEdge(p,d,{weight:f,minlen:g,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,h,{weight:0,minlen:a+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,s){var o=e.children(r);o&&o.length&&i.forEach(o,(function(e){n(e,s+1)})),t[r]=s}return i.forEach(e.children(),(function(e){n(e,1)})),t}(e),o=i.max(i.values(n))-1,a=2*o+1;e.graph().nestingRoot=t,i.forEach(e.edges(),(function(t){e.edge(t).minlen*=a}));var l=function(e){return i.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;i.forEach(e.children(),(function(i){s(e,t,a,l,o,n,i)})),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,i.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},5995:(e,t,n)=>{"use strict";var i=n(8436),r=n(1138);e.exports={run:function(e){e.graph().dummyChains=[],i.forEach(e.edges(),(function(t){!function(e,t){var n,i,s,o=t.v,a=e.node(o).rank,l=t.w,c=e.node(l).rank,u=t.name,h=e.edge(t),d=h.labelRank;if(c!==a+1){for(e.removeEdge(t),s=0,++a;a<c;++s,++a)h.points=[],i={width:0,height:0,edgeLabel:h,edgeObj:t,rank:a},n=r.addDummyNode(e,"edge",i,"_d"),a===d&&(i.width=h.width,i.height=h.height,i.dummy="edge-label",i.labelpos=h.labelpos),e.setEdge(o,n,{weight:h.weight},u),0===s&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,l,{weight:h.weight},u)}}(e,t)}))},undo:function(e){i.forEach(e.graph().dummyChains,(function(t){var n,i=e.node(t),r=i.edgeLabel;for(e.setEdge(i.edgeObj,r);i.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),t=n,i=e.node(t)}))}}},5093:(e,t,n)=>{var i=n(8436);e.exports=function(e,t,n){var r,s={};i.forEach(n,(function(n){for(var i,o,a=e.parent(n);a;){if((i=e.parent(a))?(o=s[i],s[i]=a):(o=r,r=a),o&&o!==a)return void t.setEdge(o,a);a=i}}))}},5439:(e,t,n)=>{var i=n(8436);e.exports=function(e,t){return i.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=i.reduce(n,(function(t,n){var i=e.edge(n),r=e.node(n.v);return{sum:t.sum+i.weight*r.order,weight:t.weight+i.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},3128:(e,t,n)=>{var i=n(8436),r=n(574).Graph;e.exports=function(e,t,n){var s=function(e){for(var t;e.hasNode(t=i.uniqueId("_root")););return t}(e),o=new r({compound:!0}).setGraph({root:s}).setDefaultNodeLabel((function(t){return e.node(t)}));return i.forEach(e.nodes(),(function(r){var a=e.node(r),l=e.parent(r);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(r),o.setParent(r,l||s),i.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,s=o.edge(n,r),a=i.isUndefined(s)?0:s.weight;o.setEdge(n,r,{weight:e.edge(t).weight+a})})),i.has(a,"minRank")&&o.setNode(r,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),o}},6630:(e,t,n)=>{"use strict";var i=n(8436);function r(e,t,n){for(var r=i.zipObject(n,i.map(n,(function(e,t){return t}))),s=i.flatten(i.map(t,(function(t){return i.sortBy(i.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var l=i.map(new Array(a),(function(){return 0})),c=0;return i.forEach(s.forEach((function(e){var t=e.pos+o;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,i=1;i<t.length;++i)n+=r(e,t[i-1],t[i]);return n}},3408:(e,t,n)=>{"use strict";var i=n(8436),r=n(2588),s=n(6630),o=n(1026),a=n(3128),l=n(5093),c=n(574).Graph,u=n(1138);function h(e,t,n){return i.map(t,(function(t){return a(e,t,n)}))}function d(e,t){var n=new c;i.forEach(e,(function(e){var r=e.graph().root,s=o(e,r,n,t);i.forEach(s.vs,(function(t,n){e.node(t).order=n})),l(e,n,s.vs)}))}function p(e,t){i.forEach(t,(function(t){i.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=h(e,i.range(1,t+1),"inEdges"),o=h(e,i.range(t-1,-1,-1),"outEdges"),a=r(e);p(e,a);for(var l,c=Number.POSITIVE_INFINITY,f=0,g=0;g<4;++f,++g){d(f%2?n:o,f%4>=2),a=u.buildLayerMatrix(e);var m=s(e,a);m<c&&(g=0,l=i.cloneDeep(a),c=m)}p(e,l)}},2588:(e,t,n)=>{"use strict";var i=n(8436);e.exports=function(e){var t={},n=i.filter(e.nodes(),(function(t){return!e.children(t).length})),r=i.max(i.map(n,(function(t){return e.node(t).rank}))),s=i.map(i.range(r+1),(function(){return[]})),o=i.sortBy(n,(function(t){return e.node(t).rank}));return i.forEach(o,(function n(r){if(!i.has(t,r)){t[r]=!0;var o=e.node(r);s[o.rank].push(r),i.forEach(e.successors(r),n)}})),s}},9567:(e,t,n)=>{"use strict";var i=n(8436);e.exports=function(e,t){var n={};return i.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};i.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),i.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];i.isUndefined(t)||i.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){var n,r,s,o;t.merged||(i.isUndefined(t.barycenter)||i.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&(r=t,s=0,o=0,(n=e).weight&&(s+=n.barycenter*n.weight,o+=n.weight),r.weight&&(s+=r.barycenter*r.weight,o+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=s/o,n.weight=o,n.i=Math.min(r.i,n.i),r.merged=!0)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var s=e.pop();t.push(s),i.forEach(s.in.reverse(),n(s)),i.forEach(s.out,r(s))}return i.map(i.filter(t,(function(e){return!e.merged})),(function(e){return i.pick(e,["vs","i","barycenter","weight"])}))}(i.filter(n,(function(e){return!e.indegree})))}},1026:(e,t,n)=>{var i=n(8436),r=n(5439),s=n(9567),o=n(7304);e.exports=function e(t,n,a,l){var c=t.children(n),u=t.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,p={};h&&(c=i.filter(c,(function(e){return e!==h&&e!==d})));var f=r(t,c);i.forEach(f,(function(n){if(t.children(n.v).length){var r=e(t,n.v,a,l);p[n.v]=r,i.has(r,"barycenter")&&(s=n,o=r,i.isUndefined(s.barycenter)?(s.barycenter=o.barycenter,s.weight=o.weight):(s.barycenter=(s.barycenter*s.weight+o.barycenter*o.weight)/(s.weight+o.weight),s.weight+=o.weight))}var s,o}));var g=s(f,a);!function(e,t){i.forEach(e,(function(e){e.vs=i.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(g,p);var m=o(g,l);if(h&&(m.vs=i.flatten([h,m.vs,d],!0),t.predecessors(h).length)){var v=t.node(t.predecessors(h)[0]),y=t.node(t.predecessors(d)[0]);i.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},7304:(e,t,n)=>{var i=n(8436),r=n(1138);function s(e,t,n){for(var r;t.length&&(r=i.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n,o=r.partition(e,(function(e){return i.has(e,"barycenter")})),a=o.lhs,l=i.sortBy(o.rhs,(function(e){return-e.i})),c=[],u=0,h=0,d=0;a.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),d=s(c,l,d),i.forEach(a,(function(e){d+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,h+=e.weight,d=s(c,l,d)}));var p={vs:i.flatten(c,!0)};return h&&(p.barycenter=u/h,p.weight=h),p}},4219:(e,t,n)=>{var i=n(8436);e.exports=function(e){var t=function(e){var t={},n=0;return i.forEach(e.children(),(function r(s){var o=n;i.forEach(e.children(s),r),t[s]={low:o,lim:n++}})),t}(e);i.forEach(e.graph().dummyChains,(function(n){for(var i=e.node(n),r=i.edgeObj,s=function(e,t,n,i){var r,s,o=[],a=[],l=Math.min(t[n].low,t[i].low),c=Math.max(t[n].lim,t[i].lim);r=n;do{r=e.parent(r),o.push(r)}while(r&&(t[r].low>l||c>t[r].lim));for(s=r,r=i;(r=e.parent(r))!==s;)a.push(r);return{path:o.concat(a.reverse()),lca:s}}(e,t,r.v,r.w),o=s.path,a=s.lca,l=0,c=o[l],u=!0;n!==r.w;){if(i=e.node(n),u){for(;(c=o[l])!==a&&e.node(c).maxRank<i.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=i.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}},3573:(e,t,n)=>{"use strict";var i=n(8436),r=n(574).Graph,s=n(1138);function o(e,t){var n={};return i.reduce(t,(function(t,r){var s=0,o=0,a=t.length,c=i.last(r);return i.forEach(r,(function(t,u){var h=function(e,t){if(e.node(t).dummy)return i.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),d=h?e.node(h).order:a;(h||t===c)&&(i.forEach(r.slice(o,u+1),(function(t){i.forEach(e.predecessors(t),(function(i){var r=e.node(i),o=r.order;!(o<s||d<o)||r.dummy&&e.node(t).dummy||l(n,i,t)}))})),o=u+1,s=d)})),r})),n}function a(e,t){var n={};function r(t,r,s,o,a){var c;i.forEach(i.range(r,s),(function(r){c=t[r],e.node(c).dummy&&i.forEach(e.predecessors(c),(function(t){var i=e.node(t);i.dummy&&(i.order<o||i.order>a)&&l(n,t,c)}))}))}return i.reduce(t,(function(t,n){var s,o=-1,a=0;return i.forEach(n,(function(i,l){if("border"===e.node(i).dummy){var c=e.predecessors(i);c.length&&(s=e.node(c[0]).order,r(n,a,l,o,s),a=l,o=s)}r(n,a,n.length,s,t.length)})),n})),n}function l(e,t,n){if(t>n){var i=t;t=n,n=i}var r=e[t];r||(e[t]=r={}),r[n]=!0}function c(e,t,n){if(t>n){var r=t;t=n,n=r}return i.has(e[t],n)}function u(e,t,n,r){var s={},o={},a={};return i.forEach(t,(function(e){i.forEach(e,(function(e,t){s[e]=e,o[e]=e,a[e]=t}))})),i.forEach(t,(function(e){var t=-1;i.forEach(e,(function(e){var l=r(e);if(l.length){l=i.sortBy(l,(function(e){return a[e]}));for(var u=(l.length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var p=l[h];o[e]===e&&t<a[p]&&!c(n,e,p)&&(o[p]=e,o[e]=s[e]=s[p],t=a[p])}}}))})),{root:s,align:o}}function h(e,t,n,s,o){var a={},l=function(e,t,n,s){var o=new r,a=e.graph(),l=function(e,t,n){return function(r,s,o){var a,l=r.node(s),c=r.node(o),u=0;if(u+=l.width/2,i.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=-l.width/2;break;case"r":a=l.width/2}if(a&&(u+=n?a:-a),a=0,u+=(l.dummy?t:e)/2,u+=(c.dummy?t:e)/2,u+=c.width/2,i.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(u+=n?a:-a),a=0,u}}(a.nodesep,a.edgesep,s);return i.forEach(t,(function(t){var r;i.forEach(t,(function(t){var i=n[t];if(o.setNode(i),r){var s=n[r],a=o.edge(s,i);o.setEdge(s,i,Math.max(l(e,t,r),a||0))}r=t}))})),o}(e,t,n,o),c=o?"borderLeft":"borderRight";function u(e,t){for(var n=l.nodes(),i=n.pop(),r={};i;)r[i]?e(i):(r[i]=!0,n.push(i),n=n.concat(t(i))),i=n.pop()}return u((function(e){a[e]=l.inEdges(e).reduce((function(e,t){return Math.max(e,a[t.v]+l.edge(t))}),0)}),l.predecessors.bind(l)),u((function(t){var n=l.outEdges(t).reduce((function(e,t){return Math.min(e,a[t.w]-l.edge(t))}),Number.POSITIVE_INFINITY),i=e.node(t);n!==Number.POSITIVE_INFINITY&&i.borderType!==c&&(a[t]=Math.max(a[t],n))}),l.successors.bind(l)),i.forEach(s,(function(e){a[e]=a[n[e]]})),a}function d(e,t){return i.minBy(i.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return i.forIn(t,(function(t,i){var s=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+s,n),r=Math.min(t-s,r)})),n-r}))}function p(e,t){var n=i.values(t),r=i.min(n),s=i.max(n);i.forEach(["u","d"],(function(n){i.forEach(["l","r"],(function(o){var a,l=n+o,c=e[l];if(c!==t){var u=i.values(c);(a="l"===o?r-i.min(u):s-i.max(u))&&(e[l]=i.mapValues(c,(function(e){return e+a})))}}))}))}function f(e,t){return i.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var s=i.sortBy(i.map(e,r));return(s[1]+s[2])/2}))}e.exports={positionX:function(e){var t,n=s.buildLayerMatrix(e),r=i.merge(o(e,n),a(e,n)),l={};i.forEach(["u","d"],(function(s){t="u"===s?n:i.values(n).reverse(),i.forEach(["l","r"],(function(n){"r"===n&&(t=i.map(t,(function(e){return i.values(e).reverse()})));var o=("u"===s?e.predecessors:e.successors).bind(e),a=u(0,t,r,o),c=h(e,t,a.root,a.align,"r"===n);"r"===n&&(c=i.mapValues(c,(function(e){return-e}))),l[s+n]=c}))}));var c=d(e,l);return p(l,c),f(l,e.graph().align)},findType1Conflicts:o,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:p,findSmallestWidthAlignment:d,balance:f}},7873:(e,t,n)=>{"use strict";var i=n(8436),r=n(1138),s=n(3573).positionX;e.exports=function(e){(function(e){var t=r.buildLayerMatrix(e),n=e.graph().ranksep,s=0;i.forEach(t,(function(t){var r=i.max(i.map(t,(function(t){return e.node(t).height})));i.forEach(t,(function(t){e.node(t).y=s+r/2})),s+=r+n}))})(e=r.asNonCompoundGraph(e)),i.forEach(s(e),(function(t,n){e.node(n).x=t}))}},300:(e,t,n)=>{"use strict";var i=n(8436),r=n(574).Graph,s=n(6681).slack;function o(e,t){return i.forEach(e.nodes(),(function n(r){i.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||s(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function a(e,t){return i.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return s(t,n)}))}function l(e,t,n){i.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,i=new r({directed:!1}),c=e.nodes()[0],u=e.nodeCount();for(i.setNode(c,{});o(i,e)<u;)t=a(i,e),n=i.hasNode(t.v)?s(e,t):-s(e,t),l(i,e,n);return i}},8093:(e,t,n)=>{"use strict";var i=n(6681).longestPath,r=n(300),s=n(2472);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:!function(e){s(e)}(e);break;case"tight-tree":!function(e){i(e),r(e)}(e);break;case"longest-path":o(e)}};var o=i},2472:(e,t,n)=>{"use strict";var i=n(8436),r=n(300),s=n(6681).slack,o=n(6681).longestPath,a=n(574).alg.preorder,l=n(574).alg.postorder,c=n(1138).simplify;function u(e){e=c(e),o(e);var t,n=r(e);for(p(n),h(n,e);t=g(n);)v(n,e,t,m(n,e,t))}function h(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),i.forEach(n,(function(n){!function(e,t,n){var i=e.node(n).parent;e.edge(n,i).cutvalue=d(e,t,n)}(e,t,n)}))}function d(e,t,n){var r=e.node(n).parent,s=!0,o=t.edge(n,r),a=0;return o||(s=!1,o=t.edge(r,n)),a=o.weight,i.forEach(t.nodeEdges(n),(function(i){var o,l,c=i.v===n,u=c?i.w:i.v;if(u!==r){var h=c===s,d=t.edge(i).weight;if(a+=h?d:-d,o=n,l=u,e.hasEdge(o,l)){var p=e.edge(n,u).cutvalue;a+=h?-p:p}}})),a}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),f(e,{},1,t)}function f(e,t,n,r,s){var o=n,a=e.node(r);return t[r]=!0,i.forEach(e.neighbors(r),(function(s){i.has(t,s)||(n=f(e,t,n,s,r))})),a.low=o,a.lim=n++,s?a.parent=s:delete a.parent,n}function g(e){return i.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function m(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var a=e.node(r),l=e.node(o),c=a,u=!1;a.lim>l.lim&&(c=l,u=!0);var h=i.filter(t.edges(),(function(t){return u===y(0,e.node(t.v),c)&&u!==y(0,e.node(t.w),c)}));return i.minBy(h,(function(e){return s(t,e)}))}function v(e,t,n,r){var s=n.v,o=n.w;e.removeEdge(s,o),e.setEdge(r.v,r.w,{}),p(e),h(e,t),function(e,t){var n=i.find(e.nodes(),(function(e){return!t.node(e).parent})),r=a(e,n);r=r.slice(1),i.forEach(r,(function(n){var i=e.node(n).parent,r=t.edge(n,i),s=!1;r||(r=t.edge(i,n),s=!0),t.node(n).rank=t.node(i).rank+(s?r.minlen:-r.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=p,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=v},6681:(e,t,n)=>{"use strict";var i=n(8436);e.exports={longestPath:function(e){var t={};i.forEach(e.sources(),(function n(r){var s=e.node(r);if(i.has(t,r))return s.rank;t[r]=!0;var o=i.min(i.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),s.rank=o}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},1138:(e,t,n)=>{"use strict";var i=n(8436),r=n(574).Graph;function s(e,t,n,r){var s;do{s=i.uniqueId(r)}while(e.hasNode(s));return n.dummy=t,e.setNode(s,n),s}function o(e){return i.max(i.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!i.isUndefined(n))return n})))}e.exports={addDummyNode:s,simplify:function(e){var t=(new r).setGraph(e.graph());return i.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),i.forEach(e.edges(),(function(n){var i=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return i.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),i.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=i.map(e.nodes(),(function(t){var n={};return i.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return i.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=i.map(e.nodes(),(function(t){var n={};return i.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return i.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,i,r=e.x,s=e.y,o=t.x-r,a=t.y-s,l=e.width/2,c=e.height/2;if(!o&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*l>Math.abs(o)*c?(a<0&&(c=-c),n=c*o/a,i=c):(o<0&&(l=-l),n=l,i=l*a/o),{x:r+n,y:s+i}},buildLayerMatrix:function(e){var t=i.map(i.range(o(e)+1),(function(){return[]}));return i.forEach(e.nodes(),(function(n){var r=e.node(n),s=r.rank;i.isUndefined(s)||(t[s][r.order]=n)})),t},normalizeRanks:function(e){var t=i.min(i.map(e.nodes(),(function(t){return e.node(t).rank})));i.forEach(e.nodes(),(function(n){var r=e.node(n);i.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=i.min(i.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];i.forEach(e.nodes(),(function(i){var r=e.node(i).rank-t;n[r]||(n[r]=[]),n[r].push(i)}));var r=0,s=e.graph().nodeRankFactor;i.forEach(n,(function(t,n){i.isUndefined(t)&&n%s!=0?--r:r&&i.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=i),s(e,"border",r,t)},maxRank:o,partition:function(e,t){var n={lhs:[],rhs:[]};return i.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=i.now();try{return t()}finally{console.log(e+" time: "+(i.now()-n)+"ms")}},notime:function(e,t){return t()}}},8177:e=>{e.exports="0.8.5"},1072:function(e){var t;t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(8),o=n(15);function a(e,t,n){var o=null,a=function(e,t){n&&n(e,t),o&&o.visit(e,t)},l="function"==typeof n?a:null,c=!1;if(t){c="boolean"==typeof t.comment&&t.comment;var u="boolean"==typeof t.attachComment&&t.attachComment;(c||u)&&((o=new i.CommentHandler).attach=u,t.comment=!0,l=a)}var h,d=!1;t&&"string"==typeof t.sourceType&&(d="module"===t.sourceType),h=t&&"boolean"==typeof t.jsx&&t.jsx?new r.JSXParser(e,t,l):new s.Parser(e,t,l);var p=d?h.parseModule():h.parseScript();return c&&o&&(p.comments=o.comments),h.config.tokens&&(p.tokens=h.tokens),h.config.tolerant&&(p.errors=h.errorHandler.errors),p}t.parse=a,t.parseModule=function(e,t,n){var i=t||{};return i.sourceType="module",a(e,i,n)},t.parseScript=function(e,t,n){var i=t||{};return i.sourceType="script",a(e,i,n)},t.tokenize=function(e,t,n){var i,r=new o.Tokenizer(e,t);i=[];try{for(;;){var s=r.getNextToken();if(!s)break;n&&(s=n(s)),i.push(s)}}catch(e){r.errorHandler.tolerate(e)}return r.errorHandler.tolerant&&(i.errors=r.errors()),i};var l=n(2);t.Syntax=l.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===i.Syntax.BlockStatement&&0===e.body.length){for(var n=[],r=this.leading.length-1;r>=0;--r){var s=this.leading[r];t.end.offset>=s.start&&(n.unshift(s.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var i=this.trailing[n];i.start>=e.end.offset&&t.unshift(i.comment)}return this.trailing.length=0,t}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var s=r.node.trailingComments[0];s&&s.range[0]>=e.end.offset&&(t=r.node.trailingComments,delete r.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0&&(s=this.stack[this.stack.length-1])&&s.start>=e.start.offset;)t=s.node,this.stack.pop();if(t){for(var i=(t.leadingComments?t.leadingComments.length:0)-1;i>=0;--i){var r=t.leadingComments[i];r.range[1]<=e.start.offset&&(n.unshift(r),t.leadingComments.splice(i,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(i=this.leading.length-1;i>=0;--i){var s;(s=this.leading[i]).start<=e.start.offset&&(n.unshift(s.comment),this.leading.splice(i,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===i.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),r=this.findLeadingComments(t);r.length>0&&(e.leadingComments=r),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",i={type:n,value:e.value};if(e.range&&(i.range=e.range),e.loc&&(i.loc=e.loc),this.comments.push(i),this.attach){var r={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(r.comment.loc=e.loc),e.type=n,this.leading.push(r),this.trailing.push(r)}},e.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),o=n(5),a=n(6),l=n(7),c=n(8),u=n(13),h=n(14);function d(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:t=e.name;break;case a.JSXSyntax.JSXNamespacedName:var n=e;t=d(n.namespace)+":"+d(n.name);break;case a.JSXSyntax.JSXMemberExpression:var i=e;t=d(i.object)+"."+d(i.property)}return t}u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";var p=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,i=!1,r=!1,o=!1;!this.scanner.eof()&&n&&!i;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(i=";"===a,t+=a,++this.scanner.index,!i)switch(t.length){case 2:r="#"===a;break;case 3:r&&(n=(o="x"===a)||s.Character.isDecimalDigit(a.charCodeAt(0)),r=r&&!o);break;default:n=(n=n&&!(r&&!s.Character.isDecimalDigit(a.charCodeAt(0))))&&!(o&&!s.Character.isHexDigit(a.charCodeAt(0)))}}if(n&&i&&t.length>2){var l=t.substr(1,t.length-2);r&&l.length>1?t=String.fromCharCode(parseInt(l.substr(1),10)):o&&l.length>2?t=String.fromCharCode(parseInt("0"+l.substr(1),16)):r||o||!h.XHTMLEntities[l]||(t=h.XHTMLEntities[l])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:a=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof()&&(l=this.scanner.source[this.scanner.index++])!==n;)i+="&"===l?this.scanXHTMLEntity(n):l;return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var r=this.scanner.source.charCodeAt(this.scanner.index+1),o=this.scanner.source.charCodeAt(this.scanner.index+2),a=46===r&&46===o?"...":".";return t=this.scanner.index,this.scanner.index+=a.length,{type:7,value:a,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(s.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var l=this.scanner.source.charCodeAt(this.scanner.index);if(s.Character.isIdentifierPart(l)&&92!==l)++this.scanner.index;else{if(45!==l)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,s.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var i={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(i)),i},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new o.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var i=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXNamespacedName(n,i))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var r=t;this.expectJSX(".");var s=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXMemberExpression(r,s))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=n;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXNamespacedName(i,r))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new l.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new o.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(t,i,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new o.JSXClosingElement(t))}var n=this.parseJSXElementName(),i=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(n,r,i))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new o.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new o.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var i=this.getTokenRaw(n),r=this.finalize(t,new o.JSXText(n.value,i));e.push(r)}if("{"!==this.scanner.source[this.scanner.index])break;var s=this.parseJSXExpressionContainer();e.push(s)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===a.JSXSyntax.JSXOpeningElement){var r=i;if(r.selfClosing){var s=this.finalize(n,new o.JSXElement(r,[],null));e.children.push(s)}else t.push(e),e={node:n,opening:r,closing:null,children:[]}}if(i.type===a.JSXSyntax.JSXClosingElement){e.closing=i;var l=d(e.opening.name);if(l!==d(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",l),!(t.length>0))break;s=this.finalize(e.node,new o.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(s),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],i=null;if(!t.selfClosing){var r=this.parseComplexJSXElement({node:e,opening:t,closing:i,children:n});n=r.children,i=r.closing}return this.finalize(e,new o.JSXElement(t,n,i))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(c.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);t.JSXClosingElement=function(e){this.type=i.JSXSyntax.JSXClosingElement,this.name=e};t.JSXElement=function(e,t,n){this.type=i.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n};t.JSXEmptyExpression=function(){this.type=i.JSXSyntax.JSXEmptyExpression};t.JSXExpressionContainer=function(e){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXIdentifier=function(e){this.type=i.JSXSyntax.JSXIdentifier,this.name=e};t.JSXMemberExpression=function(e,t){this.type=i.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXAttribute=function(e,t){this.type=i.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXNamespacedName=function(e,t){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXOpeningElement=function(e,t,n){this.type=i.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n};t.JSXSpreadAttribute=function(e){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXText=function(e,t){this.type=i.JSXSyntax.JSXText,this.value=e,this.raw=t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.ArrayExpression=function(e){this.type=i.Syntax.ArrayExpression,this.elements=e};t.ArrayPattern=function(e){this.type=i.Syntax.ArrayPattern,this.elements=e};t.ArrowFunctionExpression=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1};t.AssignmentExpression=function(e,t,n){this.type=i.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n};t.AssignmentPattern=function(e,t){this.type=i.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AsyncArrowFunctionExpression=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0};t.AsyncFunctionDeclaration=function(e,t,n){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=function(e,t,n){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AwaitExpression=function(e){this.type=i.Syntax.AwaitExpression,this.argument=e};t.BinaryExpression=function(e,t,n){var r="||"===e||"&&"===e;this.type=r?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n};t.BlockStatement=function(e){this.type=i.Syntax.BlockStatement,this.body=e};t.BreakStatement=function(e){this.type=i.Syntax.BreakStatement,this.label=e};t.CallExpression=function(e,t){this.type=i.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CatchClause=function(e,t){this.type=i.Syntax.CatchClause,this.param=e,this.body=t};t.ClassBody=function(e){this.type=i.Syntax.ClassBody,this.body=e};t.ClassDeclaration=function(e,t,n){this.type=i.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n};t.ClassExpression=function(e,t,n){this.type=i.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n};t.ComputedMemberExpression=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ConditionalExpression=function(e,t,n){this.type=i.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n};t.ContinueStatement=function(e){this.type=i.Syntax.ContinueStatement,this.label=e};t.DebuggerStatement=function(){this.type=i.Syntax.DebuggerStatement};t.Directive=function(e,t){this.type=i.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.DoWhileStatement=function(e,t){this.type=i.Syntax.DoWhileStatement,this.body=e,this.test=t};t.EmptyStatement=function(){this.type=i.Syntax.EmptyStatement};t.ExportAllDeclaration=function(e){this.type=i.Syntax.ExportAllDeclaration,this.source=e};t.ExportDefaultDeclaration=function(e){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportNamedDeclaration=function(e,t,n){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n};t.ExportSpecifier=function(e,t){this.type=i.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExpressionStatement=function(e){this.type=i.Syntax.ExpressionStatement,this.expression=e};t.ForInStatement=function(e,t,n){this.type=i.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1};t.ForOfStatement=function(e,t,n){this.type=i.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n};t.ForStatement=function(e,t,n,r){this.type=i.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r};t.FunctionDeclaration=function(e,t,n,r){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.FunctionExpression=function(e,t,n,r){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.Identifier=function(e){this.type=i.Syntax.Identifier,this.name=e};t.IfStatement=function(e,t,n){this.type=i.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n};t.ImportDeclaration=function(e,t){this.type=i.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDefaultSpecifier=function(e){this.type=i.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportNamespaceSpecifier=function(e){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportSpecifier=function(e,t){this.type=i.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.LabeledStatement=function(e,t){this.type=i.Syntax.LabeledStatement,this.label=e,this.body=t};t.Literal=function(e,t){this.type=i.Syntax.Literal,this.value=e,this.raw=t};t.MetaProperty=function(e,t){this.type=i.Syntax.MetaProperty,this.meta=e,this.property=t};t.MethodDefinition=function(e,t,n,r,s){this.type=i.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=r,this.static=s};t.Module=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="module"};t.NewExpression=function(e,t){this.type=i.Syntax.NewExpression,this.callee=e,this.arguments=t};t.ObjectExpression=function(e){this.type=i.Syntax.ObjectExpression,this.properties=e};t.ObjectPattern=function(e){this.type=i.Syntax.ObjectPattern,this.properties=e};t.Property=function(e,t,n,r,s,o){this.type=i.Syntax.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=s,this.shorthand=o};t.RegexLiteral=function(e,t,n,r){this.type=i.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:r}};t.RestElement=function(e){this.type=i.Syntax.RestElement,this.argument=e};t.ReturnStatement=function(e){this.type=i.Syntax.ReturnStatement,this.argument=e};t.Script=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="script"};t.SequenceExpression=function(e){this.type=i.Syntax.SequenceExpression,this.expressions=e};t.SpreadElement=function(e){this.type=i.Syntax.SpreadElement,this.argument=e};t.StaticMemberExpression=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.Super=function(){this.type=i.Syntax.Super};t.SwitchCase=function(e,t){this.type=i.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchStatement=function(e,t){this.type=i.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.TaggedTemplateExpression=function(e,t){this.type=i.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TemplateElement=function(e,t){this.type=i.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateLiteral=function(e,t){this.type=i.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.ThisExpression=function(){this.type=i.Syntax.ThisExpression};t.ThrowStatement=function(e){this.type=i.Syntax.ThrowStatement,this.argument=e};t.TryStatement=function(e,t,n){this.type=i.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n};t.UnaryExpression=function(e,t){this.type=i.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UpdateExpression=function(e,t,n){this.type=i.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n};t.VariableDeclaration=function(e,t){this.type=i.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclarator=function(e,t){this.type=i.Syntax.VariableDeclarator,this.id=e,this.init=t};t.WhileStatement=function(e,t){this.type=i.Syntax.WhileStatement,this.test=e,this.body=t};t.WithStatement=function(e,t){this.type=i.Syntax.WithStatement,this.object=e,this.body=t};t.YieldExpression=function(e,t){this.type=i.Syntax.YieldExpression,this.argument=e,this.delegate=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(10),s=n(11),o=n(7),a=n(12),l=n(2),c=n(13),u="ArrowParameterPlaceHolder",h=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),o=this.lastMarker.index,a=this.lastMarker.line,l=this.lastMarker.column+1;throw this.errorHandler.createError(o,a,l,s)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),o=this.lastMarker.index,a=this.scanner.lineNumber,l=this.lastMarker.column+1;this.errorHandler.tolerateError(o,a,l,s)},e.prototype.unexpectedTokenError=function(e,t){var n,i=t||s.Messages.UnexpectedToken;if(e?(t||(i=2===e.type?s.Messages.UnexpectedEOS:3===e.type?s.Messages.UnexpectedIdentifier:6===e.type?s.Messages.UnexpectedNumber:8===e.type?s.Messages.UnexpectedString:10===e.type?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?i=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(i=s.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",i=i.replace("%0",n),e&&"number"==typeof e.lineNumber){var r=e.start,o=e.lineNumber,a=this.lastMarker.index-this.lastMarker.column,l=e.start-a+1;return this.errorHandler.createError(r,o,l,i)}return r=this.lastMarker.index,o=this.lastMarker.line,l=this.lastMarker.column+1,this.errorHandler.createError(r,o,l,i)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],i=void 0;i={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(i.range=n.range),this.config.loc&&(i.loc=n.loc);var r={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(i,r)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:c.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,i=e.flags;t.regex={pattern:n,flags:i}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,i=e.lineNumber;return n<0&&(n+=t,i--),{index:e.start,line:i,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,s.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=i,r},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=i||this.context.firstCoverInitializedNameError,r},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,i=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(i,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new o.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new o.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new o.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(i,new o.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(i,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(i,new o.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new o.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new o.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,i},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,i,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var i=this.parseFormalParameters(),r=this.parsePropertyMethod(i);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new o.AsyncFunctionExpression(null,i.params,r))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,s.Messages.StrictOctalLiteral);var i=this.getTokenRaw(n);e=this.finalize(t,new o.Literal(n.value,i));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new o.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===l.Syntax.Identifier&&e.name===t||e.type===l.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),i=this.lookahead,r=null,a=null,l=!1,c=!1,u=!1,h=!1;if(3===i.type){var d=i.value;this.nextToken(),l=this.match("["),r=(h=!(this.hasLineTerminator||"async"!==d||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(n,new o.Identifier(d))}else this.match("*")?this.nextToken():(l=this.match("["),r=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===i.type&&!h&&"get"===i.value&&p)t="get",l=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===i.type&&!h&&"set"===i.value&&p)t="set",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===i.type&&"*"===i.value&&p)t="init",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),c=!0;else if(r||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!l&&this.isPropertyKey(r,"__proto__")&&(e.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0;else if(3===i.type)if(d=this.finalize(n,new o.Identifier(i.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),u=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(n,new o.AssignmentPattern(d,f))}else u=!0,a=d;else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new o.Property(t,r,l,a,c,u))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new o.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new o.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new o.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],i=this.parseTemplateHead();for(n.push(i);!i.tail;)t.push(this.parseExpression()),i=this.parseTemplateElement(),n.push(i);return this.finalize(e,new o.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case l.Syntax.Identifier:case l.Syntax.MemberExpression:case l.Syntax.RestElement:case l.Syntax.AssignmentPattern:break;case l.Syntax.SpreadElement:e.type=l.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case l.Syntax.ArrayExpression:e.type=l.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case l.Syntax.ObjectExpression:for(e.type=l.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case l.Syntax.AssignmentExpression:e.type=l.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:u,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:u,params:[e],async:!1};else{var i=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var r=[];for(this.context.isAssignmentTarget=!1,r.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var s=0;s<r.length;s++)this.reinterpretExpressionAsPattern(r[s]);i=!0,e={type:u,params:r,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),r.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,s=0;s<r.length;s++)this.reinterpretExpressionAsPattern(r[s]);i=!0,e={type:u,params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(i)break}i||(e=this.finalize(this.startNode(t),new o.SequenceExpression(r)))}if(!i){if(this.expect(")"),this.match("=>")&&(e.type===l.Syntax.Identifier&&"yield"===e.name&&(i=!0,e={type:u,params:[e],async:!1}),!i)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===l.Syntax.SequenceExpression)for(s=0;s<e.expressions.length;s++)this.reinterpretExpressionAsPattern(e.expressions[s]);else this.reinterpretExpressionAsPattern(e);var a=e.type===l.Syntax.SequenceExpression?e.expressions:[e];e={type:u,params:a,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new o.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(i.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var r=this.parseIdentifierName();e=new o.MetaProperty(n,r)}else this.throwUnexpectedToken(this.lookahead);else{var s=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];e=new o.NewExpression(s,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),i=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new o.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName();e=this.finalize(this.startNode(t),new o.StaticMemberExpression(e,r))}else if(this.match("(")){var s=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var a=s?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new o.CallExpression(e,a)),s&&this.match("=>")){for(var l=0;l<a.length;++l)this.reinterpretExpressionAsPattern(a[l]);e={type:u,params:a,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new o.ComputedMemberExpression(e,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var c=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new o.TaggedTemplateExpression(e,c))}return this.context.allowIn=i,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new o.Super)},e.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new o.ComputedMemberExpression(t,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),t=this.finalize(e,new o.StaticMemberExpression(t,n));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(e,new o.TaggedTemplateExpression(t,r))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var r=!0;e=this.finalize(n,new o.UpdateExpression(i.value,e,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value;r=!1,e=this.finalize(this.startNode(t),new o.UpdateExpression(a,e,r))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new o.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new o.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===l.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,i=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new o.BinaryExpression("**",n,i))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,i=this.binaryPrecedence(n);if(i>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var r=[e,this.lookahead],s=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),l=[s,n.value,a],c=[i];!((i=this.binaryPrecedence(this.lookahead))<=0);){for(;l.length>2&&i<=c[c.length-1];){a=l.pop();var u=l.pop();c.pop(),s=l.pop(),r.pop();var h=this.startNode(r[r.length-1]);l.push(this.finalize(h,new o.BinaryExpression(u,s,a)))}l.push(this.nextToken().value),c.push(i),r.push(this.lookahead),l.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var d=l.length-1;t=l[d];for(var p=r.pop();d>1;){var f=r.pop(),g=p&&p.lineStart;h=this.startNode(f,g),u=l[d-1],t=this.finalize(h,new o.BinaryExpression(u,l[d-2],t)),d-=2,p=f}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var i=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var r=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new o.ConditionalExpression(t,i,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case l.Syntax.Identifier:this.validateParam(e,t,t.name);break;case l.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case l.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case l.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof o.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],i=!1;switch(e.type){case l.Syntax.Identifier:break;case u:n=e.params,i=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var r=0;r<n.length;++r)(o=n[r]).type===l.Syntax.AssignmentPattern?o.right.type===l.Syntax.YieldExpression&&(o.right.argument&&this.throwUnexpectedToken(this.lookahead),o.right.type=l.Syntax.Identifier,o.right.name="yield",delete o.right.argument,delete o.right.delegate):i&&o.type===l.Syntax.Identifier&&"await"===o.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,o),n[r]=o;if(this.context.strict||!this.context.allowYield)for(r=0;r<n.length;++r){var o;(o=n[r]).type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===s.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var i=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(i),e={type:u,params:[i],async:!0}}if(e.type===u||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var c=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var d=this.context.allowYield,p=this.context.await;this.context.allowYield=!0,this.context.await=r;var f=this.startNode(t);this.expect("=>");var g=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,g=this.parseFunctionSourceElements(),this.context.allowIn=m}else g=this.isolateCoverGrammar(this.parseAssignmentExpression);var v=g.type!==l.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=r?this.finalize(f,new o.AsyncArrowFunctionExpression(a.params,g,v)):this.finalize(f,new o.ArrowFunctionExpression(a.params,g,v)),this.context.strict=c,this.context.allowStrictDirective=h,this.context.allowYield=d,this.context.await=p}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===l.Syntax.Identifier){var y=e;this.scanner.isRestrictedWord(y.name)&&this.tolerateUnexpectedToken(n,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(y.name)&&this.tolerateUnexpectedToken(n,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var b=(n=this.nextToken()).value,x=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new o.AssignmentExpression(b,e,x)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new o.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new o.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),i=this.parsePattern([],e);this.context.strict&&i.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(s.Messages.StrictVarName);var r=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==l.Syntax.Identifier||this.match("="))&&(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new o.VariableDeclarator(i,r))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;i.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var r=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new o.VariableDeclaration(r,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var i=this.parsePattern(e,t);return this.finalize(n,new o.RestElement(i))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var i=[];!this.match("]");)if(this.match(","))this.nextToken(),i.push(null);else{if(this.match("...")){i.push(this.parseBindingRestElement(e,t));break}i.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new o.ArrayPattern(i))},e.prototype.parsePropertyPattern=function(e,t){var n,i,r=this.createNode(),s=!1,a=!1;if(3===this.lookahead.type){var l=this.lookahead;n=this.parseVariableIdentifier();var c=this.finalize(r,new o.Identifier(l.value));if(this.match("=")){e.push(l),a=!0,this.nextToken();var u=this.parseAssignmentExpression();i=this.finalize(this.startNode(l),new o.AssignmentPattern(c,u))}else this.match(":")?(this.expect(":"),i=this.parsePatternWithDefault(e,t)):(e.push(l),a=!0,i=c)}else s=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),i=this.parsePatternWithDefault(e,t);return this.finalize(r,new o.Property("init",n,s,i,!1,a))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),i=[];for(this.expect("{");!this.match("}");)i.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new o.ObjectPattern(i))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,i=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var r=this.context.allowYield;this.context.allowYield=!0;var s=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=r,i=this.finalize(this.startNode(n),new o.AssignmentPattern(i,s))}return i},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,s.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new o.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(s.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===l.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new o.VariableDeclarator(n,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new o.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new o.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new o.IfStatement(i,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new o.DoWhileStatement(n,i))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var i=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=i}return this.finalize(t,new o.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,i=null,r=null,a=null,c=!0,u=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){i=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var d=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===d.length&&this.matchKeyword("in")){var p=d[0];p.init&&(p.id.type===l.Syntax.ArrayPattern||p.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new o.VariableDeclaration(d,"var")),this.nextToken(),e=i,t=this.parseExpression(),i=null}else 1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new o.VariableDeclaration(d,"var")),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,c=!1):(i=this.finalize(i,new o.VariableDeclaration(d,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var f=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(h=this.context.allowIn,this.context.allowIn=!1,d=this.parseBindingList(f,{inFor:!0}),this.context.allowIn=h,1===d.length&&null===d[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new o.VariableDeclaration(d,f)),this.nextToken(),e=i,t=this.parseExpression(),i=null):1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new o.VariableDeclaration(d,f)),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,c=!1):(this.consumeSemicolon(),i=this.finalize(i,new o.VariableDeclaration(d,f)))):(i=this.finalize(i,new o.Identifier(f)),this.nextToken(),e=i,t=this.parseExpression(),i=null)}else{var g=this.lookahead;if(h=this.context.allowIn,this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==l.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==l.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseAssignmentExpression(),i=null,c=!1;else{if(this.match(",")){for(var m=[i];this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(g),new o.SequenceExpression(m))}this.expect(";")}}if(void 0===e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(a=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(u,new o.ForStatement(i,r,a,n)):c?this.finalize(u,new o.ForInStatement(e,t,n)):this.finalize(u,new o.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(s.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(s.Messages.IllegalContinue),this.finalize(e,new o.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(s.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(s.Messages.IllegalBreak),this.finalize(e,new o.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new o.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(t,new o.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var i=[],r=!1;for(this.expect("{");!this.match("}");){var a=this.parseSwitchCase();null===a.test&&(r&&this.throwError(s.Messages.MultipleDefaultsInSwitch),r=!0),i.push(a)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new o.SwitchStatement(t,i))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var i=n,r="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(s.Messages.Redeclaration,"Label",i.name),this.context.labelSet[r]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var c=this.lookahead,u=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(c,s.Messages.StrictFunction):u.generator&&this.tolerateUnexpectedToken(c,s.Messages.GeneratorInLegacyContext),a=u}else a=this.parseStatement();delete this.context.labelSet[r],e=new o.LabeledStatement(i,a)}else this.consumeSemicolon(),e=new o.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),i={},r=0;r<t.length;r++){var a="$"+t[r].value;Object.prototype.hasOwnProperty.call(i,a)&&this.tolerateError(s.Messages.DuplicateBinding,t[r].value),i[a]=!0}this.context.strict&&n.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var c=this.parseBlock();return this.finalize(e,new o.CatchClause(n,c))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,i=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||i||this.throwError(s.Messages.NoCatchOrFinally),this.finalize(e,new o.TryStatement(t,n,i))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new o.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,i=this.context.inIteration,r=this.context.inSwitch,s=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=i,this.context.inSwitch=r,this.context.inFunctionBody=s,this.finalize(e,new o.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var i="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=s.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=s.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,i,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[i]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(t,new o.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),i=0;i<t.length;i++)this.validateParam(e,t[i],t[i].value);e.simple=e.simple&&n instanceof o.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var i,r=!n&&this.match("*");r&&this.nextToken();var a=null,l=null;if(!e||!this.match("(")){var c=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(l=c,i=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(l=c,i=s.Messages.StrictReservedWord)}var u=this.context.await,h=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var d=this.parseFormalParameters(l),p=d.params,f=d.stricted;l=d.firstRestricted,d.message&&(i=d.message);var g=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&l&&this.throwUnexpectedToken(l,i),this.context.strict&&f&&this.tolerateUnexpectedToken(f,i),this.context.strict=g,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=h,n?this.finalize(t,new o.AsyncFunctionDeclaration(a,p,v)):this.finalize(t,new o.FunctionDeclaration(a,p,v,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n,i=!t&&this.match("*");i&&this.nextToken();var r,a=null,l=this.context.await,c=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!i,!this.match("(")){var u=this.lookahead;a=this.context.strict||i||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(r=u,n=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(r=u,n=s.Messages.StrictReservedWord)}var h=this.parseFormalParameters(r),d=h.params,p=h.stricted;r=h.firstRestricted,h.message&&(n=h.message);var f=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var m=this.parseFunctionSourceElements();return this.context.strict&&r&&this.throwUnexpectedToken(r,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=f,this.context.allowStrictDirective=g,this.context.await=l,this.context.allowYield=c,t?this.finalize(e,new o.AsyncFunctionExpression(a,d,m)):this.finalize(e,new o.FunctionExpression(a,d,m,i))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),i=n.type===l.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,i?new o.Directive(n,i):new o.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var i=this.parseDirective();t.push(i);var r=i.directive;if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,s.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,i,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(s.Messages.BadSetterArity):n.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,i,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,i,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var i=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=i}return this.finalize(e,new o.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),i="",r=null,a=null,l=!1,c=!1,u=!1,h=!1;if(this.match("*"))this.nextToken();else if(l=this.match("["),"static"===(r=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,u=!0,l=this.match("["),this.match("*")?this.nextToken():r=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var d=this.lookahead.value;":"!==d&&"("!==d&&"*"!==d&&(h=!0,t=this.lookahead,r=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,s.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(i="get",l=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&p&&(i="set",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(i="init",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),c=!0),!i&&r&&this.match("(")&&(i="init",a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0),i||this.throwUnexpectedToken(this.lookahead),"init"===i&&(i="method"),l||(u&&this.isPropertyKey(r,"prototype")&&this.throwUnexpectedToken(t,s.Messages.StaticPrototype),!u&&this.isPropertyKey(r,"constructor")&&(("method"!==i||!c||a&&a.generator)&&this.throwUnexpectedToken(t,s.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,s.Messages.DuplicateConstructor):e.value=!0,i="constructor")),this.finalize(n,new o.MethodDefinition(r,l,a,i,u))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new o.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var s=this.parseClassBody();return this.context.strict=n,this.finalize(t,new o.ClassDeclaration(i,r,s))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=t,this.finalize(e,new o.ClassExpression(n,i,r))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(s.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new o.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new o.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new o.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new o.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var i=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new o.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new o.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new o.ExportDefaultDeclaration(n))}else this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),e=this.finalize(t,new o.ExportDefaultDeclaration(n))):this.matchContextualKeyword("async")?(n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new o.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new o.ExportDefaultDeclaration(n)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var i=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken();var r=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new o.ExportAllDeclaration(r))}else if(4===this.lookahead.type){switch(n=void 0,this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new o.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction())n=this.parseFunctionDeclaration(),e=this.finalize(t,new o.ExportNamedDeclaration(n,[],null));else{var a=[],l=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),l=this.parseModuleSpecifier(),this.consumeSemicolon()):c?(i=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause,this.throwError(i,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new o.ExportNamedDeclaration(null,a,l))}return e},e}();t.Parser=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,i){var r="Line "+t+": "+i,s=this.constructError(r,n);return s.index=e,s.lineNumber=t,s.description=i,s},e.prototype.throwError=function(e,t,n,i){throw this.createError(e,t,n,i)},e.prototype.tolerateError=function(e,t,n,i){var r=this.createError(e,t,n,i);if(!this.tolerant)throw r;this.recordError(r)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(4),s=n(11);function o(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function a(e){return"01234567".indexOf(e)}var l=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,i=[];for(this.trackComment&&(i=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var s=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(s)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var o={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};i.push(o)}return 13===s&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,i}}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n},i.push(o)),i},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(i))13===i&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===i){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var s={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(s)}return n}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},s={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(s)),this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(n))++this.index;else if(r.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var i=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(i)),t=!0}else{if(42!==n)break;this.index+=2,i=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(i))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,i=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(i))}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,i=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(i))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);n>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,i=0;i<t;++i){if(this.eof()||!r.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+o(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],r.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+o(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),r.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!r.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=r.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),r.Character.isIdentifierPart(t));)n+=e=r.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=a(e);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+a(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+a(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var i=this.index;this.index=t,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=i}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(t)||r.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",i=!1;for(r.Character.isOctalDigit(e.charCodeAt(0))?(i=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return i||0!==n.length||this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!r.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];i.assert(r.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&r.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(n+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];i.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,o="";!this.eof();){var a=this.source[this.index++];if(a===t){t="";break}if("\\"===a)if((a=this.source[this.index++])&&r.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"u":if("{"===this.source[this.index])++this.index,o+=this.scanUnicodeCodePointEscape();else{var l=this.scanHexEscape(a);null===l&&this.throwUnexpectedToken(),o+=l}break;case"x":var c=this.scanHexEscape(a);null===c&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),o+=c;break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;case"8":case"9":o+=a,this.tolerateUnexpectedToken();break;default:if(a&&r.Character.isOctalDigit(a.charCodeAt(0))){var u=this.octalToDecimal(a);n=u.octal||n,o+=String.fromCharCode(u.code)}else o+=a}else{if(r.Character.isLineTerminator(a.charCodeAt(0)))break;o+=a}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:o,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,i="`"===this.source[n],o=!1,a=2;for(++this.index;!this.eof();){var l=this.source[this.index++];if("`"===l){a=1,o=!0,t=!0;break}if("$"===l){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=l}else if("\\"===l)if(l=this.source[this.index++],r.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var c=this.index,u=this.scanHexEscape(l);null!==u?e+=u:(this.index=c,e+=l)}break;case"x":var h=this.scanHexEscape(l);null===h&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===l?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),e+="\0"):r.Character.isOctalDigit(l.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):e+=l}else r.Character.isLineTerminator(l.charCodeAt(0))?(++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=l}return t||this.throwUnexpectedToken(),i||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-a),cooked:e,head:i,tail:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,i=this;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,n){var r=parseInt(t||n,16);return r>1114111&&i.throwUnexpectedToken(s.Messages.InvalidRegExp),r<=65535?String.fromCharCode(r):"￿"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(n)}catch(e){this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];i.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,o=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],r.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),t+=e;else if(r.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){o=!0;break}"["===e&&(n=!0)}return o||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!r.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var n=this.index,i=this.scanHexEscape("u");if(null!==i)for(e+=i;n<this.index;++n)this.source[n];else this.index=n,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(12),s=n(13),o=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(i=this.values[this.curly-4])&&!this.beforeFunctionExpression(i);else if("function"===this.values[this.curly-4]){var i;t=!(i=this.values[this.curly-5])||!this.beforeFunctionExpression(i)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new r.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new o}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],i=this.scanner.source.slice(n.slice[0],n.slice[1]),r={type:n.multiLine?"BlockComment":"LineComment",value:i};this.trackRange&&(r.range=n.range),this.trackLoc&&(r.loc=n.loc),this.buffer.push(r)}if(!this.scanner.eof()){var o=void 0;this.trackLoc&&(o={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(a);var l={type:s.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};if(this.trackRange&&(l.range=[a.start,a.end]),this.trackLoc&&(o.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},l.loc=o),9===a.type){var c=a.pattern,u=a.flags;l.regex={pattern:c,flags:u}}this.buffer.push(l)}}return this.buffer.shift()},e}();t.Tokenizer=a}])},e.exports=t()},8282:(e,t,n)=>{var i=n(2354);e.exports={Graph:i.Graph,json:n(8974),alg:n(2440),version:i.version}},2842:(e,t,n)=>{var i=n(9126);e.exports=function(e){var t,n={},r=[];function s(r){i.has(n,r)||(n[r]=!0,t.push(r),i.each(e.successors(r),s),i.each(e.predecessors(r),s))}return i.each(e.nodes(),(function(e){t=[],s(e),t.length&&r.push(t)})),r}},3984:(e,t,n)=>{var i=n(9126);function r(e,t,n,s,o,a){i.has(s,t)||(s[t]=!0,n||a.push(t),i.each(o(t),(function(t){r(e,t,n,s,o,a)})),n&&a.push(t))}e.exports=function(e,t,n){i.isArray(t)||(t=[t]);var s=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return i.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,a,s,o)})),o}},4847:(e,t,n)=>{var i=n(3763),r=n(9126);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,s){r[s]=i(e,s,t,n)}),{})}},3763:(e,t,n)=>{var i=n(9126),r=n(9675);e.exports=function(e,t,n,i){return function(e,t,n,i){var s,o,a={},l=new r,c=function(e){var t=e.v!==s?e.v:e.w,i=a[t],r=n(e),c=o.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);c<i.distance&&(i.distance=c,i.predecessor=s,l.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},l.add(e,n)}));l.size()>0&&(s=l.removeMin(),(o=a[s]).distance!==Number.POSITIVE_INFINITY);)i(s).forEach(c);return a}(e,String(t),n||s,i||function(t){return e.outEdges(t)})};var s=i.constant(1)},9096:(e,t,n)=>{var i=n(9126),r=n(5023);e.exports=function(e){return i.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},8924:(e,t,n)=>{var i=n(9126);e.exports=function(e,t,n){return function(e,t,n){var i={},r=e.nodes();return r.forEach((function(e){i[e]={},i[e][e]={distance:0},r.forEach((function(t){e!==t&&(i[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,s=t(n);i[e][r]={distance:s,predecessor:e}}))})),r.forEach((function(e){var t=i[e];r.forEach((function(n){var s=i[n];r.forEach((function(n){var i=s[e],r=t[n],o=s[n],a=i.distance+r.distance;a<o.distance&&(o.distance=a,o.predecessor=r.predecessor)}))}))})),i}(e,t||r,n||function(t){return e.outEdges(t)})};var r=i.constant(1)},2440:(e,t,n)=>{e.exports={components:n(2842),dijkstra:n(3763),dijkstraAll:n(4847),findCycles:n(9096),floydWarshall:n(8924),isAcyclic:n(2707),postorder:n(8828),preorder:n(2648),prim:n(514),tarjan:n(5023),topsort:n(2166)}},2707:(e,t,n)=>{var i=n(2166);e.exports=function(e){try{i(e)}catch(e){if(e instanceof i.CycleException)return!1;throw e}return!0}},8828:(e,t,n)=>{var i=n(3984);e.exports=function(e,t){return i(e,t,"post")}},2648:(e,t,n)=>{var i=n(3984);e.exports=function(e,t){return i(e,t,"pre")}},514:(e,t,n)=>{var i=n(9126),r=n(771),s=n(9675);e.exports=function(e,t){var n,o=new r,a={},l=new s;function c(e){var i=e.v===n?e.w:e.v,r=l.priority(i);if(void 0!==r){var s=t(e);s<r&&(a[i]=n,l.decrease(i,s))}}if(0===e.nodeCount())return o;i.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),o.setNode(e)})),l.decrease(e.nodes()[0],0);for(var u=!1;l.size()>0;){if(n=l.removeMin(),i.has(a,n))o.setEdge(n,a[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(c)}return o}},5023:(e,t,n)=>{var i=n(9126);e.exports=function(e){var t=0,n=[],r={},s=[];function o(a){var l=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){i.has(r,e)?r[e].onStack&&(l.lowlink=Math.min(l.lowlink,r[e].index)):(o(e),l.lowlink=Math.min(l.lowlink,r[e].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),r[c].onStack=!1,u.push(c)}while(a!==c);s.push(u)}}return e.nodes().forEach((function(e){i.has(r,e)||o(e)})),s}},2166:(e,t,n)=>{var i=n(9126);function r(e){var t={},n={},r=[];if(i.each(e.sinks(),(function o(a){if(i.has(n,a))throw new s;i.has(t,a)||(n[a]=!0,t[a]=!0,i.each(e.predecessors(a),o),delete n[a],r.push(a))})),i.size(t)!==e.nodeCount())throw new s;return r}function s(){}e.exports=r,r.CycleException=s,s.prototype=new Error},9675:(e,t,n)=>{var i=n(9126);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return i.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!i.has(n,e)){var r=this._arr,s=r.length;return n[e]=s,r.push({key:e,priority:t}),this._decrease(s),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,i=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,i<t.length&&(r=t[i].priority<t[r].priority?i:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,i=n[e].priority;0!==e&&!(n[t=e>>1].priority<i);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,i=this._keyIndices,r=n[e],s=n[t];n[e]=s,n[t]=r,i[s.key]=e,i[r.key]=t}},771:(e,t,n)=>{"use strict";var i=n(9126);e.exports=s;var r="\0";function s(e){this._isDirected=!i.has(e,"directed")||e.directed,this._isMultigraph=!!i.has(e,"multigraph")&&e.multigraph,this._isCompound=!!i.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function l(e,t,n,r){var s=""+t,o=""+n;if(!e&&s>o){var a=s;s=o,o=a}return s+""+o+""+(i.isUndefined(r)?"\0":r)}function c(e,t,n,i){var r=""+t,s=""+n;if(!e&&r>s){var o=r;r=s,s=o}var a={v:r,w:s};return i&&(a.name=i),a}function u(e,t){return l(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return i.keys(this._nodes)},s.prototype.sources=function(){var e=this;return i.filter(this.nodes(),(function(t){return i.isEmpty(e._in[t])}))},s.prototype.sinks=function(){var e=this;return i.filter(this.nodes(),(function(t){return i.isEmpty(e._out[t])}))},s.prototype.setNodes=function(e,t){var n=arguments,r=this;return i.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},s.prototype.setNode=function(e,t){return i.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return i.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(i.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],i.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),i.each(i.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],i.each(i.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(t))t=r;else{for(var n=t+="";!i.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},s.prototype.children=function(e){if(i.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return i.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return i.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return i.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return i.union(t,this.successors(e))},s.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;i.each(this._nodes,(function(n,i){e(i)&&t.setNode(i,n)})),i.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function s(e){var i=n.parent(e);return void 0===i||t.hasNode(i)?(r[e]=i,i):i in r?r[i]:s(i)}return this._isCompound&&i.each(t.nodes(),(function(e){t.setParent(e,s(e))})),t},s.prototype.setDefaultEdgeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return i.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,r=arguments;return i.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},s.prototype.setEdge=function(){var e,t,n,r,s=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],s=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],s=!0)),e=""+e,t=""+t,i.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(i.has(this._edgeLabels,u))return s&&(this._edgeLabels[u]=r),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=s?r:this._defaultEdgeLabelFn(e,t,n);var h=c(this._isDirected,e,t,n);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[u]=h,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][u]=h,this._out[e][u]=h,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[i]},s.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return i.has(this._edgeLabels,r)},s.prototype.removeEdge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),r=this._edgeObjs[i];return r&&(e=r.v,t=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=i.values(n);return t?i.filter(r,(function(e){return e.v===t})):r}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=i.values(n);return t?i.filter(r,(function(e){return e.w===t})):r}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},2354:(e,t,n)=>{e.exports={Graph:n(771),version:n(9631)}},8974:(e,t,n)=>{var i=n(9126),r=n(771);function s(e){return i.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),s={v:t};return i.isUndefined(n)||(s.value=n),i.isUndefined(r)||(s.parent=r),s}))}function o(e){return i.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return i.isUndefined(t.name)||(r.name=t.name),i.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:s(e),edges:o(e)};return i.isUndefined(e.graph())||(t.value=i.clone(e.graph())),t},read:function(e){var t=new r(e.options).setGraph(e.value);return i.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),i.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},9126:(e,t,n)=>{var i;try{i={clone:n(6678),constant:n(5703),each:n(6073),filter:n(3105),has:n(8721),isArray:n(1469),isEmpty:n(1609),isFunction:n(3560),isUndefined:n(2353),keys:n(3674),map:n(5161),reduce:n(4061),size:n(4238),transform:n(8718),union:n(3386),values:n(2628)}}catch(e){}i||(i=window._),e.exports=i},9631:e=>{e.exports="2.1.8"},4485:(e,t,n)=>{e.exports=n(2894)},2894:function(e,t){var n,i,r;(function(){var s,o,a,l,c,u,h,d,p,f,g,m,v,y,b;a=Math.floor,f=Math.min,o=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,n,i,r){var s;if(null==n&&(n=0),null==r&&(r=o),n<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);n<i;)r(t,e[s=a((n+i)/2)])<0?i=s:n=s+1;return[].splice.apply(e,[n,n-n].concat(t)),t},u=function(e,t,n){return null==n&&(n=o),e.push(t),y(e,0,e.length-1,n)},c=function(e,t){var n,i;return null==t&&(t=o),n=e.pop(),e.length?(i=e[0],e[0]=n,b(e,0,t)):i=n,i},d=function(e,t,n){var i;return null==n&&(n=o),i=e[0],e[0]=t,b(e,0,n),i},h=function(e,t,n){var i;return null==n&&(n=o),e.length&&n(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],b(e,0,n)),t},l=function(e,t){var n,i,r,s,l,c;for(null==t&&(t=o),l=[],i=0,r=(s=function(){c=[];for(var t=0,n=a(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse()).length;i<r;i++)n=s[i],l.push(b(e,n,t));return l},v=function(e,t,n){var i;if(null==n&&(n=o),-1!==(i=e.indexOf(t)))return y(e,0,i,n),b(e,i,n)},g=function(e,t,n){var i,r,s,a,c;if(null==n&&(n=o),!(r=e.slice(0,t)).length)return r;for(l(r,n),s=0,a=(c=e.slice(t)).length;s<a;s++)i=c[s],h(r,i,n);return r.sort(n).reverse()},m=function(e,t,n){var i,r,s,a,u,h,d,g,m;if(null==n&&(n=o),10*t<=e.length){if(!(s=e.slice(0,t).sort(n)).length)return s;for(r=s[s.length-1],a=0,h=(d=e.slice(t)).length;a<h;a++)n(i=d[a],r)<0&&(p(s,i,0,null,n),s.pop(),r=s[s.length-1]);return s}for(l(e,n),m=[],u=0,g=f(t,e.length);0<=g?u<g:u>g;0<=g?++u:--u)m.push(c(e,n));return m},y=function(e,t,n,i){var r,s,a;for(null==i&&(i=o),r=e[n];n>t&&i(r,s=e[a=n-1>>1])<0;)e[n]=s,n=a;return e[n]=r},b=function(e,t,n){var i,r,s,a,l;for(null==n&&(n=o),r=e.length,l=t,s=e[t],i=2*t+1;i<r;)(a=i+1)<r&&!(n(e[i],e[a])<0)&&(i=a),e[t]=e[i],i=2*(t=i)+1;return e[t]=s,y(e,l,t,n)},s=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=u,e.pop=c,e.replace=d,e.pushpop=h,e.heapify=l,e.updateItem=v,e.nlargest=g,e.nsmallest=m,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return c(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return h(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),i=[],void 0===(r="function"==typeof(n=function(){return s})?n.apply(t,i):n)||(e.exports=r)}).call(this)},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(401),s=n(7667),o=n(1327),a=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},8407:(e,t,n)=>{var i=n(7040),r=n(4125),s=n(2117),o=n(7518),a=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),s=n(6e3),o=n(9916),a=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),s=n(2385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=s,e.exports=o},6384:(e,t,n)=>{var i=n(8407),r=n(7465),s=n(3779),o=n(7599),a=n(4758),l=n(4309);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}},7443:(e,t,n)=>{var i=n(2118);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),s=n(1469),o=n(4144),a=n(5776),l=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&r(e),h=!n&&!u&&o(e),d=!n&&!u&&!h&&l(e),p=n||u||h||d,f=p?i(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},9932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2663:e=>{e.exports=function(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},8983:(e,t,n)=>{var i=n(371)("length");e.exports=i},6556:(e,t,n)=>{var i=n(9465),r=n(7813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},4865:(e,t,n)=>{var i=n(9465),r=n(7813),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},4037:(e,t,n)=>{var i=n(8363),r=n(3674);e.exports=function(e,t){return e&&i(t,r(t),e)}},3886:(e,t,n)=>{var i=n(8363),r=n(1704);e.exports=function(e,t){return e&&i(t,r(t),e)}},9465:(e,t,n)=>{var i=n(8777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:(e,t,n)=>{var i=n(6384),r=n(7412),s=n(4865),o=n(4037),a=n(3886),l=n(4626),c=n(278),u=n(8805),h=n(1911),d=n(8234),p=n(6904),f=n(4160),g=n(3824),m=n(9148),v=n(8517),y=n(1469),b=n(4144),x=n(6688),w=n(3218),E=n(2928),S=n(3674),C=n(1704),k="[object Arguments]",A="[object Function]",D="[object Object]",_={};_[k]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[D]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[A]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,T,M,L,$){var R,F=1&n,B=2&n,I=4&n;if(T&&(R=L?T(t,M,L,$):T(t)),void 0!==R)return R;if(!w(t))return t;var O=y(t);if(O){if(R=g(t),!F)return c(t,R)}else{var P=f(t),N=P==A||"[object GeneratorFunction]"==P;if(b(t))return l(t,F);if(P==D||P==k||N&&!L){if(R=B||N?{}:v(t),!F)return B?h(t,a(R,t)):u(t,o(R,t))}else{if(!_[P])return L?t:{};R=m(t,P,F)}}$||($=new i);var z=$.get(t);if(z)return z;$.set(t,R),E(t)?t.forEach((function(i){R.add(e(i,n,T,i,t,$))})):x(t)&&t.forEach((function(i,r){R.set(r,e(i,n,T,r,t,$))}));var W=O?void 0:(I?B?p:d:B?C:S)(t);return r(W||t,(function(i,r){W&&(i=t[r=i]),s(R,r,e(i,n,T,r,t,$))})),R}},3118:(e,t,n)=>{var i=n(3218),r=Object.create,s=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},9881:(e,t,n)=>{var i=n(7816),r=n(9291)(i);e.exports=r},6029:(e,t,n)=>{var i=n(3448);e.exports=function(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=t(o);if(null!=a&&(void 0===l?a==a&&!i(a):n(a,l)))var l=a,c=o}return c}},760:(e,t,n)=>{var i=n(9881);e.exports=function(e,t){var n=[];return i(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}},1848:e=>{e.exports=function(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}},1078:(e,t,n)=>{var i=n(2488),r=n(7285);e.exports=function e(t,n,s,o,a){var l=-1,c=t.length;for(s||(s=r),a||(a=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,a):i(a,u):o||(a[a.length]=u)}return a}},8483:(e,t,n)=>{var i=n(5063)();e.exports=i},7816:(e,t,n)=>{var i=n(8483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},7786:(e,t,n)=>{var i=n(1811),r=n(327);e.exports=function(e,t){for(var n=0,s=(t=i(t,e)).length;null!=e&&n<s;)e=e[r(t[n++])];return n&&n==s?e:void 0}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var s=t(e);return r(e)?s:i(s,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),s=n(2333),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):s(e)}},3325:e=>{e.exports=function(e,t){return e>t}},8565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:(e,t,n)=>{var i=n(1848),r=n(2722),s=n(2351);e.exports=function(e,t,n){return t==t?s(e,t,n):i(e,r,n)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,s,o,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,s,o,e,a))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),s=n(8351),o=n(6096),a=n(4160),l=n(1469),c=n(4144),u=n(6719),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=l(e),b=l(t),x=y?d:a(e),w=b?d:a(t),E=(x=x==h?p:x)==p,S=(w=w==h?p:w)==p,C=x==w;if(C&&c(e)){if(!c(t))return!1;y=!0,E=!1}if(C&&!E)return v||(v=new i),y||u(e)?r(e,t,n,g,m,v):s(e,t,x,n,g,m,v);if(!(1&n)){var k=E&&f.call(e,"__wrapped__"),A=S&&f.call(t,"__wrapped__");if(k||A){var D=k?e.value():e,_=A?t.value():t;return v||(v=new i),m(D,_,n,g,v)}}return!!C&&(v||(v=new i),o(e,t,n,g,m,v))}},5588:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},2958:(e,t,n)=>{var i=n(6384),r=n(939);e.exports=function(e,t,n,s){var o=n.length,a=o,l=!s;if(null==e)return!a;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=n[o])[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var p=new i;if(s)var f=s(h,d,u,e,t,p);if(!(void 0===f?r(d,h,3,s,p):f))return!1}}return!0}},2722:e=>{e.exports=function(e){return e!=e}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),s=n(3218),o=n(346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||r(e))&&(i(e)?d:a).test(o(e))}},9221:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),s=n(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&r(e.length)&&!!o[i(e)]}},7206:(e,t,n)=>{var i=n(1573),r=n(6432),s=n(6557),o=n(1469),a=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):a(e)}},280:(e,t,n)=>{var i=n(5726),r=n(6916),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:(e,t,n)=>{var i=n(3218),r=n(5726),s=n(3498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return s(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}},433:e=>{e.exports=function(e,t){return e<t}},9199:(e,t,n)=>{var i=n(9881),r=n(8612);e.exports=function(e,t){var n=-1,s=r(e)?Array(e.length):[];return i(e,(function(e,i,r){s[++n]=t(e,i,r)})),s}},1573:(e,t,n)=>{var i=n(2958),r=n(1499),s=n(2634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},6432:(e,t,n)=>{var i=n(939),r=n(7361),s=n(9095),o=n(5403),a=n(9162),l=n(2634),c=n(327);e.exports=function(e,t){return o(e)&&a(t)?l(c(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?s(n,e):i(t,o,3)}}},2980:(e,t,n)=>{var i=n(6384),r=n(6556),s=n(8483),o=n(9783),a=n(3218),l=n(1704),c=n(6390);e.exports=function e(t,n,u,h,d){t!==n&&s(n,(function(s,l){if(d||(d=new i),a(s))o(t,n,l,u,e,h,d);else{var p=h?h(c(t,l),s,l+"",t,n,d):void 0;void 0===p&&(p=s),r(t,l,p)}}),l)}},9783:(e,t,n)=>{var i=n(6556),r=n(4626),s=n(7133),o=n(278),a=n(8517),l=n(5694),c=n(1469),u=n(9246),h=n(4144),d=n(3560),p=n(3218),f=n(8630),g=n(6719),m=n(6390),v=n(3678);e.exports=function(e,t,n,y,b,x,w){var E=m(e,n),S=m(t,n),C=w.get(S);if(C)i(e,n,C);else{var k=x?x(E,S,n+"",e,t,w):void 0,A=void 0===k;if(A){var D=c(S),_=!D&&h(S),T=!D&&!_&&g(S);k=S,D||_||T?c(E)?k=E:u(E)?k=o(E):_?(A=!1,k=r(S,!0)):T?(A=!1,k=s(S,!0)):k=[]:f(S)||l(S)?(k=E,l(E)?k=v(E):p(E)&&!d(E)||(k=a(S))):A=!1}A&&(w.set(S,k),b(k,S,y,x,w),w.delete(S)),i(e,n,k)}}},9556:(e,t,n)=>{var i=n(9932),r=n(7786),s=n(7206),o=n(9199),a=n(1131),l=n(1717),c=n(5022),u=n(6557),h=n(1469);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return h(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=i(t,l(s));var p=o(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++d,value:e}}));return a(p,(function(e,t){return c(e,t,n)}))}},5970:(e,t,n)=>{var i=n(3012),r=n(9095);e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},3012:(e,t,n)=>{var i=n(7786),r=n(611),s=n(1811);e.exports=function(e,t,n){for(var o=-1,a=t.length,l={};++o<a;){var c=t[o],u=i(e,c);n(u,c)&&r(l,s(c,e),u)}return l}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,n)=>{var i=n(7786);e.exports=function(e){return function(t){return i(t,e)}}},98:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,s){for(var o=-1,a=n(t((i-e)/(r||1)),0),l=Array(a);a--;)l[s?a:++o]=e,e+=r;return l}},107:e=>{e.exports=function(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}},5976:(e,t,n)=>{var i=n(6557),r=n(5357),s=n(61);e.exports=function(e,t){return s(r(e,t,i),e+"")}},611:(e,t,n)=>{var i=n(4865),r=n(1811),s=n(5776),o=n(3218),a=n(327);e.exports=function(e,t,n,l){if(!o(e))return e;for(var c=-1,u=(t=r(t,e)).length,h=u-1,d=e;null!=d&&++c<u;){var p=a(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=h){var g=d[p];void 0===(f=l?l(g,p,d):void 0)&&(f=o(g)?g:s(t[c+1])?[]:{})}i(d,p,f),d=d[p]}return e}},6560:(e,t,n)=>{var i=n(5703),r=n(8777),s=n(6557),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:s;e.exports=o},1131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},531:(e,t,n)=>{var i=n(2705),r=n(9932),s=n(1469),o=n(3448),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return r(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:(e,t,n)=>{var i=n(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},5652:(e,t,n)=>{var i=n(8668),r=n(7443),s=n(1196),o=n(4757),a=n(3593),l=n(1814);e.exports=function(e,t,n){var c=-1,u=r,h=e.length,d=!0,p=[],f=p;if(n)d=!1,u=s;else if(h>=200){var g=t?null:a(e);if(g)return l(g);d=!1,u=o,f=new i}else f=t?[]:p;e:for(;++c<h;){var m=e[c],v=t?t(m):m;if(m=n||0!==m?m:0,d&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(m)}else u(f,v,n)||(f!==p&&f.push(v),p.push(m))}return p}},7415:(e,t,n)=>{var i=n(9932);e.exports=function(e,t){return i(t,(function(t){return e[t]}))}},1757:e=>{e.exports=function(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4290:(e,t,n)=>{var i=n(6557);e.exports=function(e){return"function"==typeof e?e:i}},1811:(e,t,n)=>{var i=n(1469),r=n(5403),s=n(5514),o=n(9833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:s(o(e))}},4318:(e,t,n)=>{var i=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,o=s&&s.exports===r?i.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},7157:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:(e,t,n)=>{var i=n(2705),r=i?i.prototype:void 0,s=r?r.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},7133:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},6393:(e,t,n)=>{var i=n(3448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,s=e==e,o=i(e),a=void 0!==t,l=null===t,c=t==t,u=i(t);if(!l&&!u&&!o&&e>t||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&e<t||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}},5022:(e,t,n)=>{var i=n(6393);e.exports=function(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,a=s.length,l=n.length;++r<a;){var c=i(s[r],o[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},8363:(e,t,n)=>{var i=n(4865),r=n(9465);e.exports=function(e,t,n,s){var o=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=s?s(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?r(n,c,u):i(n,c,u)}return n}},8805:(e,t,n)=>{var i=n(8363),r=n(9551);e.exports=function(e,t){return i(e,r(e),t)}},1911:(e,t,n)=>{var i=n(8363),r=n(1442);e.exports=function(e,t){return i(e,r(e),t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},1463:(e,t,n)=>{var i=n(5976),r=n(6612);e.exports=function(e){return i((function(t,n){var i=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&r(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),t=Object(t);++i<s;){var l=n[i];l&&e(t,l,i,o)}return t}))}},9291:(e,t,n)=>{var i=n(8612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var s=n.length,o=t?s:-1,a=Object(n);(t?o--:++o<s)&&!1!==r(a[o],o,a););return n}}},5063:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}},7740:(e,t,n)=>{var i=n(7206),r=n(8612),s=n(3674);e.exports=function(e){return function(t,n,o){var a=Object(t);if(!r(t)){var l=i(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,o);return c>-1?a[l?t[c]:c]:void 0}}},7445:(e,t,n)=>{var i=n(98),r=n(6612),s=n(8601);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&r(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),i(t,n,o,e)}}},3593:(e,t,n)=>{var i=n(8525),r=n(308),s=n(1814),o=i&&1/s(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},8777:(e,t,n)=>{var i=n(852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},7114:(e,t,n)=>{var i=n(8668),r=n(2908),s=n(4757);e.exports=function(e,t,n,o,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,g=!0,m=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(o)var b=c?o(y,v,f,t,e,l):o(v,y,f,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!r(t,(function(e,t){if(!s(m,t)&&(v===e||a(v,e,n,o,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!a(v,y,n,o,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),s=n(7813),o=n(7114),a=n(8776),l=n(1814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var g=d.get(e);if(g)return g==t;i|=2,d.set(e,t);var m=o(p(e),p(t),i,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,a){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:r.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var v=e[d=c[h]],y=t[d];if(s)var b=l?s(y,v,d,t,e,a):s(v,y,d,e,t,a);if(!(void 0===b?v===y||o(v,y,n,s,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},9021:(e,t,n)=>{var i=n(5564),r=n(5357),s=n(61);e.exports=function(e){return s(r(e,void 0,i),e+"")}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),s=n(3674);e.exports=function(e){return i(e,s,r)}},6904:(e,t,n)=>{var i=n(8866),r=n(1442),s=n(1704);e.exports=function(e){return i(e,s,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var i=n(9162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,i(o)]}return t}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},5924:(e,t,n)=>{var i=n(5569)(Object.getPrototypeOf,Object);e.exports=i},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=o.call(e);return i&&(t?e[a]=n:delete e[a]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return s.call(e,t)})))}:r;e.exports=a},1442:(e,t,n)=>{var i=n(2488),r=n(5924),s=n(9551),o=n(479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,s(e)),e=r(e);return t}:o;e.exports=a},4160:(e,t,n)=>{var i=n(8552),r=n(7071),s=n(3818),o=n(8525),a=n(577),l=n(4239),c=n(346),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=c(i),m=c(r),v=c(s),y=c(o),b=c(a),x=l;(i&&x(new i(new ArrayBuffer(1)))!=f||r&&x(new r)!=u||s&&x(s.resolve())!=h||o&&x(new o)!=d||a&&x(new a)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case g:return f;case m:return u;case v:return h;case y:return d;case b:return p}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var i=n(1811),r=n(5694),s=n(1469),o=n(5776),a=n(1780),l=n(327);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,h=!1;++c<u;){var d=l(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&o(d,u)&&(s(e)||r(e))}},2689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},9148:(e,t,n)=>{var i=n(4318),r=n(7157),s=n(3147),o=n(419),a=n(7133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Symbol]":return o(e)}}},8517:(e,t,n)=>{var i=n(3118),r=n(5924),s=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:i(r(e))}},7285:(e,t,n)=>{var i=n(2705),r=n(5694),s=n(1469),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||r(e)||!!(o&&e&&e[o])}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:(e,t,n)=>{var i=n(7813),r=n(8612),s=n(5776),o=n(3218);e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&s(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},5403:(e,t,n)=>{var i=n(1469),r=n(3448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||o.test(e)||!s.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),s=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!s&&s in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:(e,t,n)=>{var i=n(3218);e.exports=function(e){return e==e&&!i(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),s=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(s||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},2634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},4523:(e,t,n)=>{var i=n(8306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,o=s&&s.exports===r&&i.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5357:(e,t,n)=>{var i=n(6874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=r(s.length-t,0),l=Array(a);++o<a;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),i(e,this,c)}}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();e.exports=s},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},61:(e,t,n)=>{var i=n(6560),r=n(1275)(i);e.exports=r},1275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),s=16-(r-i);if(i=r,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),s=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},2351:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},8016:(e,t,n)=>{var i=n(8983),r=n(2689),s=n(1903);e.exports=function(e){return r(e)?s(e):i(e)}},5514:(e,t,n)=>{var i=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(s,"$1"):n||e)})),t}));e.exports=o},327:(e,t,n)=>{var i=n(3448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1903:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+t+"|"+n+")?",a="[\\ufe0e\\ufe0f]?",l=a+o+"(?:\\u200d(?:"+[i,r,s].join("|")+")"+a+o+")*",c="(?:"+[i+t+"?",t,r,s,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(n+"(?="+n+")|"+c+l,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},6678:(e,t,n)=>{var i=n(5990);e.exports=function(e){return i(e,4)}},361:(e,t,n)=>{var i=n(5990);e.exports=function(e){return i(e,5)}},5703:e=>{e.exports=function(e){return function(){return e}}},3279:(e,t,n)=>{var i=n(3218),r=n(7771),s=n(4841),o=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,u,h,d,p,f=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=c;return l=c=void 0,f=t,h=e.apply(i,n)}function b(e){return f=e,d=setTimeout(w,t),g?y(e):h}function x(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-f>=u}function w(){var e=r();if(x(e))return E(e);d=setTimeout(w,function(e){var n=t-(e-p);return m?a(n,u-(e-f)):n}(e))}function E(e){return d=void 0,v&&l?y(e):(l=c=void 0,h)}function S(){var e=r(),n=x(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return b(p);if(m)return clearTimeout(d),d=setTimeout(w,t),y(p)}return void 0===d&&(d=setTimeout(w,t)),h}return t=s(t)||0,i(n)&&(g=!!n.leading,u=(m="maxWait"in n)?o(s(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},S.flush=function(){return void 0===d?h:E(r())},S}},1747:(e,t,n)=>{var i=n(5976),r=n(7813),s=n(6612),o=n(1704),a=Object.prototype,l=a.hasOwnProperty,c=i((function(e,t){e=Object(e);var n=-1,i=t.length,c=i>2?t[2]:void 0;for(c&&s(t[0],t[1],c)&&(i=1);++n<i;)for(var u=t[n],h=o(u),d=-1,p=h.length;++d<p;){var f=h[d],g=e[f];(void 0===g||r(g,a[f])&&!l.call(e,f))&&(e[f]=u[f])}return e}));e.exports=c},6073:(e,t,n)=>{e.exports=n(4486)},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3105:(e,t,n)=>{var i=n(4963),r=n(760),s=n(7206),o=n(1469);e.exports=function(e,t){return(o(e)?i:r)(e,s(t,3))}},3311:(e,t,n)=>{var i=n(7740)(n(998));e.exports=i},998:(e,t,n)=>{var i=n(1848),r=n(7206),s=n(554),o=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:s(n);return l<0&&(l=o(a+l,0)),i(e,r(t,3),l)}},5564:(e,t,n)=>{var i=n(1078);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},4486:(e,t,n)=>{var i=n(7412),r=n(9881),s=n(4290),o=n(1469);e.exports=function(e,t){return(o(e)?i:r)(e,s(t))}},2620:(e,t,n)=>{var i=n(8483),r=n(4290),s=n(1704);e.exports=function(e,t){return null==e?e:i(e,r(t),s)}},7361:(e,t,n)=>{var i=n(7786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},8721:(e,t,n)=>{var i=n(8565),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},9095:(e,t,n)=>{var i=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},9246:(e,t,n)=>{var i=n(8612),r=n(7005);e.exports=function(e){return r(e)&&i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,a=o&&o.exports===s?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l},1609:(e,t,n)=>{var i=n(280),r=n(4160),s=n(5694),o=n(1469),a=n(8612),l=n(4144),c=n(5726),u=n(6719),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||s(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!i(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,n)=>{var i=n(5588),r=n(1717),s=n(1167),o=s&&s.isMap,a=o?r(o):i;e.exports=a},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,n)=>{var i=n(4239),r=n(5924),s=n(7005),o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2928:(e,t,n)=>{var i=n(9221),r=n(1717),s=n(1167),o=s&&s.isSet,a=o?r(o):i;e.exports=a},7037:(e,t,n)=>{var i=n(4239),r=n(1469),s=n(7005);e.exports=function(e){return"string"==typeof e||!r(e)&&s(e)&&"[object String]"==i(e)}},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),s=n(1167),o=s&&s.isTypedArray,a=o?r(o):i;e.exports=a},2353:e=>{e.exports=function(e){return void 0===e}},3674:(e,t,n)=>{var i=n(4636),r=n(280),s=n(8612);e.exports=function(e){return s(e)?i(e):r(e)}},1704:(e,t,n)=>{var i=n(4636),r=n(313),s=n(8612);e.exports=function(e){return s(e)?i(e,!0):r(e)}},928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},5161:(e,t,n)=>{var i=n(9932),r=n(7206),s=n(9199),o=n(1469);e.exports=function(e,t){return(o(e)?i:s)(e,r(t,3))}},6604:(e,t,n)=>{var i=n(9465),r=n(7816),s=n(7206);e.exports=function(e,t){var n={};return t=s(t,3),r(e,(function(e,r,s){i(n,r,t(e,r,s))})),n}},6162:(e,t,n)=>{var i=n(6029),r=n(3325),s=n(6557);e.exports=function(e){return e&&e.length?i(e,s,r):void 0}},8306:(e,t,n)=>{var i=n(3369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},3857:(e,t,n)=>{var i=n(2980),r=n(1463)((function(e,t,n){i(e,t,n)}));e.exports=r},3632:(e,t,n)=>{var i=n(6029),r=n(433),s=n(6557);e.exports=function(e){return e&&e.length?i(e,s,r):void 0}},2762:(e,t,n)=>{var i=n(6029),r=n(7206),s=n(433);e.exports=function(e,t){return e&&e.length?i(e,r(t,2),s):void 0}},308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},9722:(e,t,n)=>{var i=n(5970),r=n(9021)((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},9601:(e,t,n)=>{var i=n(371),r=n(9152),s=n(5403),o=n(327);e.exports=function(e){return s(e)?i(o(e)):r(e)}},6026:(e,t,n)=>{var i=n(7445)();e.exports=i},4061:(e,t,n)=>{var i=n(2663),r=n(9881),s=n(7206),o=n(107),a=n(1469);e.exports=function(e,t,n){var l=a(e)?i:o,c=arguments.length<3;return l(e,s(t,4),n,c,r)}},6968:(e,t,n)=>{var i=n(611);e.exports=function(e,t,n){return null==e?e:i(e,t,n)}},4238:(e,t,n)=>{var i=n(280),r=n(4160),s=n(8612),o=n(7037),a=n(8016);e.exports=function(e){if(null==e)return 0;if(s(e))return o(e)?a(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:i(e).length}},9734:(e,t,n)=>{var i=n(1078),r=n(9556),s=n(5976),o=n(6612),a=s((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=a},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},8601:(e,t,n)=>{var i=n(4841);e.exports=function(e){return e?Infinity===(e=i(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,n)=>{var i=n(8601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),s=n(3448),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},84:(e,t,n)=>{var i=n(9932),r=n(278),s=n(1469),o=n(3448),a=n(5514),l=n(327),c=n(9833);e.exports=function(e){return s(e)?i(e,l):o(e)?[e]:r(a(c(e)))}},3678:(e,t,n)=>{var i=n(8363),r=n(1704);e.exports=function(e){return i(e,r(e))}},9833:(e,t,n)=>{var i=n(531);e.exports=function(e){return null==e?"":i(e)}},8718:(e,t,n)=>{var i=n(7412),r=n(3118),s=n(7816),o=n(7206),a=n(5924),l=n(1469),c=n(4144),u=n(3560),h=n(3218),d=n(6719);e.exports=function(e,t,n){var p=l(e),f=p||c(e)||d(e);if(t=o(t,4),null==n){var g=e&&e.constructor;n=f?p?new g:[]:h(e)&&u(g)?r(a(e)):{}}return(f?i:s)(e,(function(e,i,r){return t(n,e,i,r)})),n}},3386:(e,t,n)=>{var i=n(1078),r=n(5976),s=n(5652),o=n(9246),a=r((function(e){return s(i(e,1,o,!0))}));e.exports=a},3955:(e,t,n)=>{var i=n(9833),r=0;e.exports=function(e){var t=++r;return i(e)+t}},2628:(e,t,n)=>{var i=n(7415),r=n(3674);e.exports=function(e){return null==e?[]:i(e,r(e))}},7287:(e,t,n)=>{var i=n(4865),r=n(1757);e.exports=function(e,t){return r(e||[],t||[],i)}},466:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test;var o=/\S/;function a(e){return!function(e,t){return s.call(e,t)}(o,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var c=/\s*/,u=/\s+/,h=/\s*=/,d=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function m(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,i,s,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var a,l,c,u=this,h=!1;u;){if(e.indexOf(".")>0)for(a=u.view,l=e.split("."),c=0;null!=a&&c<l.length;)c===l.length-1&&(h=r(a,l[c])||(i=a,s=l[c],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(s))),a=a[l[c++]];else a=u.view[e],h=r(u.view,e);if(h){t=a;break}u=u.parent}o[e]=t}return n(t)&&(t=t.call(this.view)),t},m.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},m.prototype.parse=function(e,n){var r=this.templateCache,s=e+":"+(n||v.tags).join(":"),o=void 0!==r,l=o?r.get(s):void 0;return null==l&&(l=function(e,n){if(!e)return[];var r,s,o,l=!1,g=[],m=[],y=[],b=!1,x=!1,w="",E=0;function S(){if(b&&!x)for(;y.length;)delete m[y.pop()];else y=[];b=!1,x=!1}function C(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(i(e[0])+"\\s*"),s=new RegExp("\\s*"+i(e[1])),o=new RegExp("\\s*"+i("}"+e[1]))}C(n||v.tags);for(var k,A,D,_,T,M,L=new f(e);!L.eos();){if(k=L.pos,D=L.scanUntil(r))for(var $=0,R=D.length;$<R;++$)a(_=D.charAt($))?(y.push(m.length),w+=_):(x=!0,l=!0,w+=" "),m.push(["text",_,k,k+1]),k+=1,"\n"===_&&(S(),w="",E=0,l=!1);if(!L.scan(r))break;if(b=!0,A=L.scan(p)||"name",L.scan(c),"="===A?(D=L.scanUntil(h),L.scan(h),L.scanUntil(s)):"{"===A?(D=L.scanUntil(o),L.scan(d),L.scanUntil(s),A="&"):D=L.scanUntil(s),!L.scan(s))throw new Error("Unclosed tag at "+L.pos);if(T=">"==A?[A,D,k,L.pos,w,E,l]:[A,D,k,L.pos],E++,m.push(T),"#"===A||"^"===A)g.push(T);else if("/"===A){if(!(M=g.pop()))throw new Error('Unopened section "'+D+'" at '+k);if(M[1]!==D)throw new Error('Unclosed section "'+M[1]+'" at '+k)}else"name"===A||"{"===A||"&"===A?x=!0:"="===A&&C(D)}if(S(),M=g.pop())throw new Error('Unclosed section "'+M[1]+'" at '+L.pos);return function(e){for(var t,n=[],i=n,r=[],s=0,o=e.length;s<o;++s)switch((t=e[s])[0]){case"#":case"^":i.push(t),r.push(t),i=t[4]=[];break;case"/":r.pop()[5]=t[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],r=0,s=e.length;r<s;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(m))}(e,n),o&&r.set(s,l)),l},m.prototype.render=function(e,t,n,i){var r=this.getConfigTags(i),s=this.parse(e,r),o=t instanceof g?t:new g(t,void 0);return this.renderTokens(s,o,n,e,i)},m.prototype.renderTokens=function(e,t,n,i,r){for(var s,o,a,l="",c=0,u=e.length;c<u;++c)a=void 0,"#"===(o=(s=e[c])[0])?a=this.renderSection(s,t,n,i,r):"^"===o?a=this.renderInverted(s,t,n,i,r):">"===o?a=this.renderPartial(s,t,n,r):"&"===o?a=this.unescapedValue(s,t):"name"===o?a=this.escapedValue(s,t,r):"text"===o&&(a=this.rawValue(s)),void 0!==a&&(l+=a);return l},m.prototype.renderSection=function(e,i,r,s,o){var a=this,l="",c=i.lookup(e[1]);if(c){if(t(c))for(var u=0,h=c.length;u<h;++u)l+=this.renderTokens(e[4],i.push(c[u]),r,s,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)l+=this.renderTokens(e[4],i.push(c),r,s,o);else if(n(c)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(i.view,s.slice(e[3],e[5]),(function(e){return a.render(e,i,r,o)})))&&(l+=c)}else l+=this.renderTokens(e[4],i,r,s,o);return l}},m.prototype.renderInverted=function(e,n,i,r,s){var o=n.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],n,i,r,s)},m.prototype.indentPartial=function(e,t,n){for(var i=t.replace(/[^ \t]/g,""),r=e.split("\n"),s=0;s<r.length;s++)r[s].length&&(s>0||!n)&&(r[s]=i+r[s]);return r.join("\n")},m.prototype.renderPartial=function(e,t,i,r){if(i){var s=this.getConfigTags(r),o=n(i)?i(e[1]):i[e[1]];if(null!=o){var a=e[6],l=e[5],c=e[4],u=o;0==l&&c&&(u=this.indentPartial(o,c,a));var h=this.parse(u,s);return this.renderTokens(h,t,i,u,r)}}},m.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},m.prototype.escapedValue=function(e,t,n){var i=this.getConfigEscape(n)||v.escape,r=t.lookup(e[1]);if(null!=r)return"number"==typeof r&&i===v.escape?String(r):i(r)},m.prototype.rawValue=function(e){return e[1]},m.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},m.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){y.templateCache=e},get templateCache(){return y.templateCache}},y=new m;return v.clearCache=function(){return y.clearCache()},v.parse=function(e,t){return y.parse(e,t)},v.render=function(e,n,i,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(s=e)?"array":typeof s)+'" was given as the first argument for mustache#render(template, view, partials)'));var s;return y.render(e,n,i,r)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},v.Scanner=f,v.Context=g,v.Writer=m,v}()},2483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<div class="attention-box box-pill attention-pill">\r\n    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"\r\n        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r\n        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>\r\n        <line x1="12" y1="9" x2="12" y2="13"></line>\r\n        <line x1="12" y1="17" x2="12.01" y2="17"></line>\r\n    </svg>\r\n</div>\r\n\r\n<div class="knowledge-box box-pill know-pill">\r\n    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"\r\n        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r\n        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>\r\n        <polyline points="22 4 12 14.01 9 11.01"></polyline>\r\n    </svg>\r\n</div>\r\n\r\n<div class="info-box box-pill tip-pill">\r\n    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"\r\n        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r\n        <circle cx="12" cy="12" r="10"></circle>\r\n        <line x1="12" y1="16" x2="12" y2="12"></line>\r\n        <line x1="12" y1="8" x2="12.01" y2="8"></line>\r\n    </svg>\r\n</div>\r\n\r\n<span class="list-arrow">\r\n    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"\r\n        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\r\n        <line x1="5" y1="12" x2="19" y2="12"></line>\r\n        <polyline points="12 5 19 12 12 19"></polyline>\r\n    </svg>\r\n</span>'},5036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<div class="modal fade" id="fullscreenModal" tabindex="-1" aria-labelledby="fullscreenModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="av-btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\r\n            </div>\r\n            <div class="modal-body" id="modalBody">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},4828:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<button type="button" class="btn btn-overrides btn-light av-btn-sm" style="height: 30px;width: 30px;margin-left: 0.5em;vertical-align: unset;padding-left: 7px;padding-top: 4px;" data-bs-toggle="collapse" data-bs-target="#collapseExample{{hookIdx}}" aria-expanded="false"    aria-controls="collapseExample{{hookIdx}}">\r\n    <i class="bi bi-hammer"></i>\r\n</button>\r\n\r\n<div class="collapse show" id="collapseExample{{hookIdx}}">\r\n    <div class="algovis"></div>\r\n</div>'},4162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<div>\r\n    <div class="halfScreen leftPane">\r\n        <div class="btn-group btn-group-sm d-flex flex-row dropdown-center av-snippets"\r\n            av-bind-style-display="{isSnippetSet: flex, !isSnippetSet: none}">\r\n            <button class="dropdown-toggle btn btn-light" type="button" data-bs-toggle="dropdown" aria-expanded="false"\r\n                av-bind-text="selectedSnippetDesc">\r\n            </button>\r\n            <ul class="dropdown-menu" av-bind-onclick="onSnippetSelected" style="cursor: pointer;">\r\n                {{#levels}}\r\n                <li>\r\n                    <h5 class="dropdown-header dropdown-header-av"\r\n                        av-bind-style-display="{hasLevelSpecified: flex, !hasLevelSpecified: none}">\r\n                        {{level}}</h5>\r\n                </li>\r\n                {{#snippets}}\r\n                <li><a class="dropdown-item" av-id="{{id}}">{{desc}}</a></li>\r\n                {{/snippets}}\r\n                {{/levels}}\r\n            </ul>\r\n\r\n            <button av-bind-onclick="onNextSnippet" type="button" class="btn btn-light"\r\n                av-bind-class="{!hasMoreSnippets : disabled}" style="flex-grow: 0 !important;">\r\n                <span class="bi bi-arrow-right-square" style="padding: 0.4rem;"></span>\r\n            </button>\r\n        </div>\r\n        <div class="av-buttonsBar btn-group btn-group-sm d-flex flex-row">\r\n            <button av-bind-onclick="onAdvance" av-bind-style-display="{isVisualisationDisabled: none}" type="button"\r\n                class="popover-dismiss rounded-right btn btn-primary av-btn-square av-btn"\r\n                av-bind-class="{isExecutionCompleted : disabled, isFunctionalityDisabled : disabled}">\r\n                <i class="bi bi-play-fill"></i>\r\n                <span av-bind-text="LangStrId.4" style="padding-right: 3px;">Execute line</span>\r\n            </button>\r\n\r\n            <button av-bind-onclick="onAutoplayToggled" type="button" class="btn btn-light"\r\n                av-bind-class="{isFunctionalityDisabled : disabled, isVisualisationDisabled: av-btn}">\r\n                <i class="bi bi-fast-forward-fill"\r\n                    av-bind-class="{!isPaused : bi-pause-fill, isPaused : bi-fast-forward-fill}"></i>\r\n                <span av-bind-text=\'{isPaused: LangStrId.1, !isPaused: LangStrId.2}\'>Execute all</span>\r\n            </button>\r\n\r\n            <button av-bind-onclick="onRestart" av-bind-style-display="{isVisualisationDisabled: none}" type="button"\r\n                class="btn btn-light" av-bind-class="{!isPaused : disabled, isFunctionalityDisabled : disabled}">\r\n                <i class="bi bi-arrow-clockwise"></i>\r\n                <span av-bind-text="LangStrId.6">Restart</span>\r\n            </button>\r\n\r\n            <button av-bind-onclick="onShowSolution" av-bind-style-display="{!hasSolution: none}" type="button"\r\n                class="btn btn-light ">\r\n                <i class="bi bi-eyeglasses"></i>\r\n                <span av-bind-text=\'{!isSolution: LangStrId.26, isSolution: LangStrId.27}\'>Show solution</span>\r\n            </button>\r\n\r\n            <button av-bind-onclick="onFullscreen" type="button" class="btn btn-light "\r\n                style="flex-grow: 0 !important;">\r\n                <span class="bi bi-arrows-fullscreen" style="padding: 0.4rem;"></span>\r\n            </button>\r\n\r\n            <div av-bind-style-display="{isVisualisationDisabled: none}">\r\n                <button class="btn btn-light av-btn-square h-100" type="button" id="dropdownMenuButton-{{codeEditorId}}"\r\n                    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-bs-auto-close="outside">\r\n                    <span class="bi bi-three-dots-vertical"></span>\r\n                </button>\r\n                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton-{{codeEditorId}}">\r\n                    <li class="dropdown-item">\r\n                        <div class="form-check form-switch">\r\n                            <label class="form-check-label"\r\n                                for="showCommentsCheck-{{codeEditorId}}" av-bind-text="LangStrId.3">\r\n                                Show comments\r\n                            </label>\r\n                            <input class="form-check-input radiusOverwrite" style="border-width: 0.5px; background-size: inherit!important;" type="checkbox"\r\n                                role="switch" checked av-bind-onclick="onShowComments"\r\n                                id="showCommentsCheck-{{codeEditorId}}">\r\n                        </div>\r\n                    </li>\r\n                    <li style="margin-top: 0px;margin-bottom: 0px;">\r\n                        <span class="dropdown-header" av-bind-text="LangStrId.13">Playback speed</span>\r\n                    </li>\r\n                    <li class="dropdown-item"><a >\r\n                            <div class="btn-group btn-group-sm" role="group">\r\n                                <input type="radio" class="btn-check" checked name="btnradio-{{codeEditorId}}"\r\n                                    id="btnradio1-{{codeEditorId}}" autocomplete="off"\r\n                                    av-bind-onclick="onPlaybackSpeedChangedSSlow">\r\n                                <label class="btn btn-outline-primary radiusOverwrite-left"\r\n                                    for="btnradio1-{{codeEditorId}}" av-bind-text="LangStrId.14">Slooow</label>\r\n\r\n                                <input type="radio" class="btn-check" name="btnradio-{{codeEditorId}}"\r\n                                    id="btnradio2-{{codeEditorId}}" autocomplete="off"\r\n                                    av-bind-onclick="onPlaybackSpeedChangedSlow">\r\n                                <label class="btn btn-outline-primary" style="border-right: none;"\r\n                                    for="btnradio2-{{codeEditorId}}" av-bind-text="LangStrId.15">Slow</label>\r\n\r\n                                <input type="radio" class="btn-check" name="btnradio-{{codeEditorId}}"\r\n                                    id="btnradio3-{{codeEditorId}}" autocomplete="off"\r\n                                    av-bind-onclick="onPlaybackSpeedChangedRealtime">\r\n                                <label class="btn btn-outline-primary radiusOverwrite-right"\r\n                                    for="btnradio3-{{codeEditorId}}" av-bind-text="LangStrId.16">Realtime</label>\r\n                            </div>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="commentsPopover" data-bs-container="body" data-bs-trigger="focus" data-bs-toggle="popover"\r\n            data-bs-placement="bottom">\r\n        </div>\r\n\r\n        <div id="msgBox-{{codeEditorId}}" data-bs-autohide="false" class="toast toast-container p-3" role="alert"\r\n            style="pointer-events: all; position:relative; width: 100%" aria-live="assertive" aria-atomic="true">\r\n            <div class="toast-header" style="margin-bottom: 0;">\r\n                <strong class="me-auto" av-bind-text="LangStrId.28">Mai stai putin</strong>\r\n            </div>\r\n\r\n            <div class="toast-body fade show">\r\n                <span av-bind-text="LangStrId.29"></span><strong av-bind-text="timeRemainingForSolution"></strong> <span\r\n                    av-bind-text="LangStrId.31"></span>\r\n                <br><br><i av-bind-text="LangStrId.30"></i>\r\n                <div class="mt-2 pt-2">\r\n                    <button type="button" class="btn btn-primary btn-sm av-btn" data-bs-dismiss="toast"\r\n                        av-bind-text="LangStrId.18">OK</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div id="toast-{{codeEditorId}}" data-bs-autohide="false" data-bs-animation="false"\r\n            class="toast toast-container p-3" style="pointer-events: all; position:relative; width: 100%"\r\n            aria-live="assertive" aria-atomic="true">\r\n            <div class="toast-header" style="margin-bottom: 0;">\r\n                <span class="me-auto" style="white-space: pre-wrap;" av-bind-text="promptTitle"></span>\r\n            </div>\r\n\r\n            <div class="toast-body fade show">\r\n                <input av-focused type="text" class="form-control" av-bind-value="promptDefaultValue"\r\n                    av-bind-style-display="{!hasInputBox : none, hasInputBox: inline-block}">\r\n                <div class="mt-2 pt-2">\r\n                    <button type="button" class="btn btn-primary btn-sm av-btn" av-bind-onclick="onPromptOk"\r\n                        av-bind-text="LangStrId.18">OK</button>\r\n                    <button type="button" class="btn btn-secondary btn-sm av-btn" data-bs-dismiss="toast"\r\n                        av-bind-style-display="{!hasCancelBtn : none, hasCancelBtn: inline-block}"\r\n                        av-bind-onclick="onPromptCancel" av-bind-text="LangStrId.19">Cancel</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div id="{{codeEditorId}}" class="codeEditor">{{code}}</div>\r\n    </div>\r\n\r\n    <div class="halfScreen rightPane">\r\n        <ul class="list-group list-group-mine" style="margin: 0px !important; margin-top: -1em;">\r\n            <li class="list-group-item fw-semibold"\r\n                av-bind-style-display="{!hasCompilationError : none, hasCompilationError: block}"><span\r\n                    av-bind-text="LangStrId.5">Compilation error</span>\r\n                <button type="button" class="btn btn-danger btn-sm av-btn" style="vertical-align: baseline;"\r\n                    av-bind-text=\'{hasCompilationError: compilationErrorMessage()}\'></button>\r\n            </li>\r\n\r\n            <li class="list-group-item fw-semibold" av-bind-style-display="{!hasException : none, hasException: block}">\r\n                <span av-bind-text="LangStrId.17">Exception</span>\r\n                <button type="button" class="btn btn-danger btn-sm av-btn" style="vertical-align: baseline;"\r\n                    av-bind-text=\'exceptionMessage\'></button>\r\n            </li>\r\n\r\n            <div class="btn-group btn-group-sm d-flex flex-row dropdown-center">\r\n                <button av-bind-style-display="{isVisualisationDisabled: none}" disabled\r\n                    class="btn btn-light av-btn-square" style="font-size: 0.875rem; opacity: 1;">\r\n                    <i class="bi bi-repeat" style="padding-right: 2px;"></i>\r\n                    <span av-bind-text="LangStrId.7">Variables</span>\r\n                </button>\r\n\r\n                <div class="btn-group btn-group-sm btn btn-light av-btn-square"\r\n                    style="display: flex;align-items: center;">\r\n                    <input type="checkbox" class="btn-check av-btn-pressable" id="{{codeEditorId}}-consoleCollapse"\r\n                        data-bs-toggle="collapse" autocomplete="off" data-bs-target="#{{codeEditorId}}-consoleCollapse"\r\n                        aria-expanded="false" aria-controls="{{codeEditorId}}-consoleCollapse">\r\n\r\n                    <label class="btn av-btn-square" for="{{codeEditorId}}-consoleCollapse" style="height: 100%;">\r\n                        <i class="bi bi-terminal" style="padding-right: 2px;"></i>\r\n                        <span av-bind-text="LangStrId.8">Console output</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="collapse multi-collapse" id="{{codeEditorId}}-consoleCollapse">\r\n                <textarea class="form-control"\r\n                    style="background-color:white; width: 100%; max-width: 100%; overflow: auto; border-radius: 0;"\r\n                    rows="4" max-rows="28" av-bind-text="consoleOutput" disabled\r\n                    onInput="this.parentNode.dataset.replicatedValue = this.value"></textarea>\r\n            </div>\r\n            <div class="panelVariables">\r\n            </div>\r\n        </ul>\r\n    </div>\r\n</div>'},8972:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<div class="modal fade" id="quizModal" tabindex="-1" aria-labelledby="fullscreenModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <div class="progress" style="width: 50%; height: 5px; margin:auto;" role="progressbar" aria-label="Basic example"\r\n                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">\r\n                    <div class="progress-bar" av-bind-style-width="quizProgress"></div>\r\n                </div>\r\n                <button type="button" class="av-btn-close" av-bind-onclick="onFinishQuiz" data-bs-dismiss="modal" aria-label="Close"></button>\r\n            </div>\r\n\r\n            <div class="quizContainer">\r\n                <div class="front">\r\n                    <div class="modal-body" id="quizModalBodyFront">\r\n                    </div>\r\n\r\n                    <div class="d-flex mb-3" style="padding: 1rem;">\r\n                        <button av-bind-onclick="onCheckQuiz" type="button"\r\n                            class="p-2 popover-dismiss rounded-right btn btn-primary av-btn" style="margin-right: 10px;"\r\n                            av-bind-class="{!hasSelectedAnswers : disabled}"\r\n                            av-bind-style-display="{isQuizVerified: none, !isQuizVerified: inline-block}">\r\n                            <i class="bi bi-check-lg"></i>\r\n                            <span av-bind-text="LangStrId.22" style="padding-right: 3px;">Check</span>\r\n                        </button>\r\n\r\n                        <button av-bind-onclick="onShowExplanation" type="button"\r\n                            class="p-2 popover-dismiss rounded-right btn btn-outline-secondary av-btn"\r\n                            av-bind-style-display="{hasExplanation: inline-block, !hasExplanation: none, !isQuizVerified: none}">\r\n                            <i class="bi bi-question-lg"></i>\r\n                            <span av-bind-text="LangStrId.23" style="padding-right: 3px;">Show explanation</span>\r\n                        </button>\r\n\r\n                        <button av-bind-onclick="onNextQuiz" type="button"\r\n                            class="ms-auto p-2 popover-dismiss rounded-right btn btn-primary av-btn"\r\n                            av-bind-style-display="{hasMoreQuizzes: inline-block, !hasMoreQuizzes: none}">\r\n                            <i class="bi bi-arrow-right"></i>\r\n                            <span av-bind-text="LangStrId.21" style="padding-right: 3px;">Next</span>\r\n                        </button>\r\n\r\n                        <button av-bind-onclick="onFinishQuiz" type="button"\r\n                            class="ms-auto p-2 popover-dismiss rounded-right btn btn-primary av-btn"\r\n                            av-bind-style-display="{!hasMoreQuizzes: inline-block, hasMoreQuizzes: none}">\r\n                            <i class="bi bi-x-lg"></i>\r\n                            <span av-bind-text="LangStrId.25" style="padding-right: 3px;">Finish</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="back">\r\n                    <div class="modal-body" id="quizModalBodyBack">\r\n                    </div>\r\n\r\n                    <div class="d-flex mb-3" style="padding: 1rem;">\r\n                        <button av-bind-onclick="onShowStatement" type="button"\r\n                            class="popover-dismiss rounded-right btn btn-outline-secondary av-btn"\r\n                            av-bind-style-display="{hasExplanation: inline-block, !hasExplanation: none}">\r\n                            <i class="bi bi-arrow-counterclockwise"></i>\r\n                            <span av-bind-text="LangStrId.24" style="padding-right: 3px;">Back to statement</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},9940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="<div>\r\n    {{{explanation}}}\r\n</div>"},4413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i='<div class="px-2">\r\n    <div class="quizStatement">\r\n        {{{statement}}}\r\n    </div>\r\n\r\n    <div class="d-grid gap-2 mx-1 my-1">\r\n        {{#answers}}\r\n        <button type="button" data-bs-toggle="button" av-id="{{id}}" av-bind-onclick="onSelectedAnswer" class="btn btn-light quiz-btn av-btn" style="flex-grow: 0 !important;">\r\n            {{{answer}}}\r\n        </button>\r\n        {{/answers}}\r\n    </div>\r\n</div>'},3572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i="undefined"!=typeof window?window:null,r=null===i,s=r?void 0:i.document,o="horizontal",a=function(){return!1},l=r?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=s.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",c=function(e){return"string"==typeof e||e instanceof String},u=function(e){if(c(e)){var t=s.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},h=function(e,t,n){var i=e[t];return void 0!==i?i:n},d=function(e,t,n,i){if(t){if("end"===i)return 0;if("center"===i)return e/2}else if(n){if("start"===i)return 0;if("center"===i)return e/2}return e},p=function(e,t){var n=s.createElement("div");return n.className="gutter gutter-"+t,n},f=function(e,t,n){var i={};return c(t)?i[e]=t:i[e]=l+"("+t+"% - "+n+"px)",i},g=function(e,t){var n;return(n={})[e]=t+"px",n};const m=function(e,t){if(void 0===t&&(t={}),r)return{};var n,l,c,m,v,y,b=e;Array.from&&(b=Array.from(b));var x=u(b[0]).parentNode,w=getComputedStyle?getComputedStyle(x):null,E=w?w.flexDirection:null,S=h(t,"sizes")||b.map((function(){return 100/b.length})),C=h(t,"minSize",100),k=Array.isArray(C)?C:b.map((function(){return C})),A=h(t,"maxSize",1/0),D=Array.isArray(A)?A:b.map((function(){return A})),_=h(t,"expandToMin",!1),T=h(t,"gutterSize",10),M=h(t,"gutterAlign","center"),L=h(t,"snapOffset",30),$=Array.isArray(L)?L:b.map((function(){return L})),R=h(t,"dragInterval",1),F=h(t,"direction",o),B=h(t,"cursor",F===o?"col-resize":"row-resize"),I=h(t,"gutter",p),O=h(t,"elementStyle",f),P=h(t,"gutterStyle",g);function N(e,t,i,r){var s=O(n,t,i,r);Object.keys(s).forEach((function(t){e.style[t]=s[t]}))}function z(){return y.map((function(e){return e.size}))}function W(e){return"touches"in e?e.touches[0][l]:e[l]}function V(e){var t=y[this.a],n=y[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,N(t.element,t.size,this._b,t.i),N(n.element,n.size,this._c,n.i)}function H(e){var n,i=y[this.a],r=y[this.b];this.dragging&&(n=W(e)-this.start+(this._b-this.dragOffset),R>1&&(n=Math.round(n/R)*R),n<=i.minSize+i.snapOffset+this._b?n=i.minSize+this._b:n>=this.size-(r.minSize+r.snapOffset+this._c)&&(n=this.size-(r.minSize+this._c)),n>=i.maxSize-i.snapOffset+this._b?n=i.maxSize+this._b:n<=this.size-(r.maxSize-r.snapOffset+this._c)&&(n=this.size-(r.maxSize+this._c)),V.call(this,n),h(t,"onDrag",a)(z()))}function j(){var e=y[this.a].element,t=y[this.b].element,i=e.getBoundingClientRect(),r=t.getBoundingClientRect();this.size=i[n]+r[n]+this._b+this._c,this.start=i[c],this.end=i[m]}function U(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[v];return 0===n?null:n-=F===o?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(x);if(null===t)return e;if(k.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,i=[],r=e.map((function(r,s){var o=t*r/100,a=d(T,0===s,s===e.length-1,M),l=k[s]+a;return o<l?(n+=l-o,i.push(0),l):(i.push(o-l),o)}));return 0===n?e:r.map((function(e,r){var s=e;if(n>0&&i[r]-n>0){var o=Math.min(n,i[r]-n);n-=o,s=e-o}return s/t*100}))}function G(){var e=this,n=y[e.a].element,r=y[e.b].element;e.dragging&&h(t,"onDragEnd",a)(z()),e.dragging=!1,i.removeEventListener("mouseup",e.stop),i.removeEventListener("touchend",e.stop),i.removeEventListener("touchcancel",e.stop),i.removeEventListener("mousemove",e.move),i.removeEventListener("touchmove",e.move),e.stop=null,e.move=null,n.removeEventListener("selectstart",a),n.removeEventListener("dragstart",a),r.removeEventListener("selectstart",a),r.removeEventListener("dragstart",a),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",s.body.style.cursor=""}function q(e){if(!("button"in e)||0===e.button){var n=this,r=y[n.a].element,o=y[n.b].element;n.dragging||h(t,"onDragStart",a)(z()),e.preventDefault(),n.dragging=!0,n.move=H.bind(n),n.stop=G.bind(n),i.addEventListener("mouseup",n.stop),i.addEventListener("touchend",n.stop),i.addEventListener("touchcancel",n.stop),i.addEventListener("mousemove",n.move),i.addEventListener("touchmove",n.move),r.addEventListener("selectstart",a),r.addEventListener("dragstart",a),o.addEventListener("selectstart",a),o.addEventListener("dragstart",a),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",n.gutter.style.cursor=B,n.parent.style.cursor=B,s.body.style.cursor=B,j.call(n),n.dragOffset=W(e)-n.end}}F===o?(n="width",l="clientX",c="left",m="right",v="clientWidth"):"vertical"===F&&(n="height",l="clientY",c="top",m="bottom",v="clientHeight"),S=U(S);var K=[];function X(e){var t=e.i===K.length,n=t?K[e.i-1]:K[e.i];j.call(n);var i=t?n.size-e.minSize-n._c:e.minSize+n._b;V.call(n,i)}return(y=b.map((function(e,t){var i,r={element:u(e),size:S[t],minSize:k[t],maxSize:D[t],snapOffset:$[t],i:t};if(t>0&&((i={a:t-1,b:t,dragging:!1,direction:F,parent:x})._b=d(T,t-1==0,!1,M),i._c=d(T,!1,t===b.length-1,M),"row-reverse"===E||"column-reverse"===E)){var s=i.a;i.a=i.b,i.b=s}if(t>0){var o=I(t,F,r.element);!function(e,t,i){var r=P(n,t,i);Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}(o,T,t),i._a=q.bind(i),o.addEventListener("mousedown",i._a),o.addEventListener("touchstart",i._a),x.insertBefore(o,r.element),i.gutter=o}return N(r.element,r.size,d(T,0===t,t===b.length-1,M),t),t>0&&K.push(i),r}))).forEach((function(e){var t=e.element.getBoundingClientRect()[n];t<e.minSize&&(_?X(e):e.minSize=t)})),{setSizes:function(e){var t=U(e);t.forEach((function(e,n){if(n>0){var i=K[n-1],r=y[i.a],s=y[i.b];r.size=t[n-1],s.size=e,N(r.element,r.size,i._b,r.i),N(s.element,s.size,i._c,s.i)}}))},getSizes:z,collapse:function(e){X(y[e])},destroy:function(e,t){K.forEach((function(i){if(!0!==t?i.parent.removeChild(i.gutter):(i.gutter.removeEventListener("mousedown",i._a),i.gutter.removeEventListener("touchstart",i._a)),!0!==e){var r=O(n,i.a.size,i._b);Object.keys(r).forEach((function(e){y[i.a].element.style[e]="",y[i.b].element.style[e]=""}))}}))},parent:x,pairs:K}}},1612:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EX:()=>CodeExecutorSlots,LG:()=>CodeExecutorCommands,jF:()=>CodeExecutorMessages,wt:()=>UserInteractionType});var _types_graph__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5448),_types_graph_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6608),UserInteractionType,CodeExecutorMessages,CodeExecutorSlots,CodeExecutorCommands;!function(e){e[e.Alert=0]="Alert",e[e.Confirm=1]="Confirm",e[e.Prompt=2]="Prompt"}(UserInteractionType||(UserInteractionType={})),function(e){e[e.NoOp=0]="NoOp",e[e.Wait=1]="Wait",e[e.Proceed=2]="Proceed",e[e.Stop=3]="Stop",e[e.UserInteractionResponse=4]="UserInteractionResponse"}(CodeExecutorMessages||(CodeExecutorMessages={})),function(e){e[e.Main=0]="Main",e[e.Aux=1]="Aux",e[e.MessageSize=2]="MessageSize"}(CodeExecutorSlots||(CodeExecutorSlots={})),function(e){e[e.sharedMem=0]="sharedMem",e[e.setSourceCode=1]="setSourceCode",e[e.execute=2]="execute",e[e.executionFinished=3]="executionFinished",e[e.userInteractionRequest=4]="userInteractionRequest",e[e.userInteractionResponse=5]="userInteractionResponse",e[e.setVar=6]="setVar",e[e.markcl=7]="markcl",e[e.forcemarkcl=8]="forcemarkcl",e[e.startScope=9]="startScope",e[e.endScope=10]="endScope",e[e.pushParams=11]="pushParams",e[e.popParams=12]="popParams",e[e.onAddNode=13]="onAddNode",e[e.onAddEdge=14]="onAddEdge",e[e.onRemoveEdge=15]="onRemoveEdge",e[e.onRemoveNode=16]="onRemoveNode",e[e.onAccessNode=17]="onAccessNode",e[e.onExceptionRaised=18]="onExceptionRaised",e[e.onConsoleLog=19]="onConsoleLog"}(CodeExecutorCommands||(CodeExecutorCommands={}));let codeExec=()=>(self.this||(self.this=new CodeExecutor),self.this);self.onmessage=e=>{if(void 0===e.data.cmd)return;let t=codeExec();switch(e.data.cmd){case CodeExecutorCommands.sharedMem:t.setSharedMem(e.data.params[0]);break;case CodeExecutorCommands.setSourceCode:t.setSourceCode(e.data.params[0]);break;case CodeExecutorCommands.execute:t.execute();break;default:throw"Cant handle cmd code "+e.data.cmd}};class CodeExecutor{constructor(){this.lastLineNo=-1,this.advanceFlag=void 0}onSetEvent(e,t,n){throw new Error("Method not implemented.")}onAccessNode(e,t,n){self.postMessage({cmd:CodeExecutorCommands.onAccessNode,params:[e.toObservableGraph(),t.toNodeBase(),n]})}onAddNode(e,t,n,i){self.postMessage({cmd:CodeExecutorCommands.onAddNode,params:[e.toObservableGraph(),t.toNodeBase(),null==n?void 0:n.toNodeBase(),i]})}onRemoveNode(e,t){self.postMessage({cmd:CodeExecutorCommands.onRemoveNode,params:[e.toObservableGraph(),t.toNodeBase()]})}onAddEdge(e,t,n){self.postMessage({cmd:CodeExecutorCommands.onAddEdge,params:[e.toObservableGraph(),t.toNodeBase(),n.toNodeBase()]})}onRemoveEdge(e,t,n){self.postMessage({cmd:CodeExecutorCommands.onRemoveEdge,params:[e.toObservableGraph(),t.toNodeBase(),n.toNodeBase()]})}onExceptionRaised(e,t){self.postMessage({cmd:CodeExecutorCommands.onExceptionRaised,params:Array.from(arguments)})}onConsoleLog(e){self.postMessage({cmd:CodeExecutorCommands.onConsoleLog,params:Array.from(arguments)})}setSharedMem(e){null==this.advanceFlag&&(this.advanceFlag=new Int32Array(e))}setSourceCode(e){this.lastLineNo=-1,this.code=e}execute(){let prevFcn=this.hookConsoleLog(void 0);try{var Types={Graph:_types_graph__WEBPACK_IMPORTED_MODULE_0__.kJ,GraphType:_types_graph_base__WEBPACK_IMPORTED_MODULE_1__.KU,GraphNode:_types_graph_base__WEBPACK_IMPORTED_MODULE_1__.$i,BinaryTreeNode:_types_graph__WEBPACK_IMPORTED_MODULE_0__.Ul,BinaryTree:_types_graph__WEBPACK_IMPORTED_MODULE_0__.wD,BinarySearchTree:_types_graph__WEBPACK_IMPORTED_MODULE_0__.xC,ParentSide:_types_graph_base__WEBPACK_IMPORTED_MODULE_1__.ZZ,AccessType:_types_graph_base__WEBPACK_IMPORTED_MODULE_1__.Fb},Funcs=this;eval(this.code),this.hookConsoleLog(prevFcn,!1),this.onExecutionFinished()}catch(e){if(this.hookConsoleLog(prevFcn,!1),console.log(e),"__STOP__"!=e){let t="object"==typeof e&&"message"in e?e.message:e;this.onExceptionRaised(!0,t)}return!1}}onExecutionFinished(){self.postMessage({cmd:CodeExecutorCommands.executionFinished})}forcemarkcl(e){let t=codeExec();if(!t.advanceFlag)throw"AdvanceFlag not received";for(self.postMessage({cmd:CodeExecutorCommands.forcemarkcl,params:Array.from(arguments)});;)if("not-equal"!=Atomics.wait(t.advanceFlag,CodeExecutorSlots.Main,CodeExecutorMessages.Wait)){if(Atomics.load(t.advanceFlag,CodeExecutorSlots.Aux)==CodeExecutorMessages.Stop)throw"__STOP__";break}return t.lastLineNo=e,!0}markcl(e){let t=codeExec();if(!t.advanceFlag)throw"AdvanceFlag not received";if(self.postMessage({cmd:CodeExecutorCommands.markcl,params:Array.from([e])}),Atomics.store(t.advanceFlag,CodeExecutorSlots.Main,CodeExecutorMessages.Wait),"ok"==Atomics.wait(t.advanceFlag,CodeExecutorSlots.Main,CodeExecutorMessages.Wait)&&Atomics.load(t.advanceFlag,CodeExecutorSlots.Aux)==CodeExecutorMessages.Stop)throw"__STOP__";t.lastLineNo=e}startScope(e){self.postMessage({cmd:CodeExecutorCommands.startScope,params:Array.from(arguments)})}endScope(e){self.postMessage({cmd:CodeExecutorCommands.endScope,params:Array.from(arguments)})}pushParams(e){self.postMessage({cmd:CodeExecutorCommands.pushParams,params:Array.from(arguments)})}popParams(e){self.postMessage({cmd:CodeExecutorCommands.popParams,params:Array.from(arguments)})}deepCopy(e){const t={};if(e instanceof _types_graph__WEBPACK_IMPORTED_MODULE_0__.Ul)return e.toNodeBase();if("function"==typeof e)return;if("object"!=typeof e||void 0===typeof e||null===e||"function"==typeof e)return e;const n=Object.keys(e);for(let i in n){let r=this.deepCopy(e[n[i]]);r&&(t[n[i]]=r)}return t}setVar(e,t,n){if(t&&"object"==typeof t&&"__isGraphType__"in t){let i=codeExec();t.registerObserver(i),self.postMessage({cmd:CodeExecutorCommands.setVar,params:[e,t.toObservableGraph(),n]})}else{let i=codeExec();try{self.postMessage({cmd:CodeExecutorCommands.setVar,params:[e,t,n]})}catch(r){self.postMessage({cmd:CodeExecutorCommands.setVar,params:[e,i.deepCopy(t),n]})}}}funcWrap(e){return arguments[0].f()}promptWrap(e,t){return codeExec().userInteractionRequest(UserInteractionType.Prompt,e,t)}alertWrap(){codeExec().userInteractionRequest(UserInteractionType.Alert,[...arguments].join(" "))}confirmWrap(){return codeExec().userInteractionRequest(UserInteractionType.Confirm,[...arguments].join(" "))}hookConsoleLog(e,t=!0){return t?(null==e&&(e=console.log),console.log=(...t)=>{this.onConsoleLog([...t].join(" ")),e.apply(console,t)}):console.log=e,e}userInteractionRequest(e,t,n){let i=codeExec();if(!i.advanceFlag)throw"AdvanceFlag not received";for(self.postMessage({cmd:CodeExecutorCommands.userInteractionRequest,params:Array.from(arguments)});;)if("not-equal"!=Atomics.wait(i.advanceFlag,CodeExecutorSlots.Main,CodeExecutorMessages.Wait)&&Atomics.load(i.advanceFlag,CodeExecutorSlots.Aux)==CodeExecutorMessages.UserInteractionResponse)switch(Atomics.load(i.advanceFlag,CodeExecutorSlots.MessageSize)){case UserInteractionType.Alert:return;case UserInteractionType.Confirm:return 1==Atomics.load(i.advanceFlag,CodeExecutorSlots.MessageSize+1);case UserInteractionType.Prompt:{let e=Atomics.load(i.advanceFlag,CodeExecutorSlots.MessageSize+1),t=-1==e?null:"";if(e>0){t="";for(let n=0;n<e;n++)t+=String.fromCharCode(Atomics.load(i.advanceFlag,CodeExecutorSlots.MessageSize+n+2))}return t}}}}},6608:(e,t,n)=>{"use strict";var i,r,s;n.d(t,{$i:()=>a,Bj:()=>o,Fb:()=>s,JH:()=>l,KU:()=>i,ZZ:()=>r,qd:()=>c}),function(e){e[e.DIRECTED=0]="DIRECTED",e[e.UNDIRECTED=1]="UNDIRECTED",e[e.BST=2]="BST",e[e.BT=3]="BT"}(i||(i={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(r||(r={})),function(e){e[e.Access=0]="Access",e[e.Mark=1]="Mark"}(s||(s={}));class o{constructor(){this.observers=[]}registerObserver(e){this.observers.find((t=>t==e))||this.observers.push(e)}unregisterObserver(e){this.observers=this.observers.filter((t=>t!=e))}getName(){return this.name.toString()}}class a{constructor(e){this.type="NodeBase",this.label="",this.id="",this.value=void 0,this.value=e,this.label=e.toString(),this.id=e.toString()}toNodeBase(){let e=new a(this.value);return e.id=this.id,e.label=this.label,e}}class l extends a{constructor(){super(...arguments),this.graph=void 0}setParentGraph(e){this.graph=e}}class c extends o{constructor(e=i.UNDIRECTED){super(),this.type=e,this.__isGraphType__=!0,this.id=0,this.id=c.id_counter++}generate(e){throw"Not implemented"}generate_with(e){throw"Not implemented"}copyFrom(e){return this.__isGraphType__=!0,this.id=e.id,this.type=e.type,this.name=e.name,this}toObservableGraph(){return(new c).copyFrom(this)}empty(){throw"Not implemented"}isEmpty(){throw"Not implemented"}find(e){throw"Not implemented"}accessValue(e,t){throw"Not implemented"}getType(){return this.type}getValue(){return this}setValue(e){for(let t of this.observers)t.onSetEvent(this,void 0,e)}onAccessNode(e,t){for(let n of this.observers)n.onAccessNode(this,e,t)}onNodeAdded(e,t){if(e)for(let n of this.observers)n.onAddNode(this,e,e.parent,t)}onEdgeAdded(e,t){if(e&&t)for(let n of this.observers)n.onAddEdge(this,e,t)}onNodeRemoved(e){if(e)for(let t of this.observers)t.onRemoveNode(this,e)}onEdgeRemoved(e,t){if(e&&t)for(let n of this.observers)n.onRemoveEdge(this,e,t)}}c.id_counter=0},5448:(e,t,n)=>{"use strict";n.d(t,{Ul:()=>s,kJ:()=>a,wD:()=>l,xC:()=>c});var i=n(6608);class r{constructor(e){return this.target=e,new Proxy(e,{set:(e,t,n,r)=>(t in e?e[t]=n:e=n,"left"===t?e.updateObject(i.ZZ.LEFT,n):"right"===t&&e.updateObject(i.ZZ.RIGHT,n),!0),get:(e,t,n)=>("value"===t&&e.onGetValue(),t in e?e[t]:e)})}}class s extends i.JH{constructor(e){return super(e),this.left=void 0,this.right=void 0,this.parent=void 0,this.multiplicity=0,this.level=0,this.dirrScore=0,this.offsetX=0,this.parentSide=void 0,new r(this)}createChild(e,t){let n=null!=t?new s(t):void 0;return n.level=this.level+1,this.setChild(e,n),n}setChild(e,t){e===i.ZZ.LEFT?this.left=t:this.right=t,this.updateObject(e,t)}updateObject(e,t){if(t){if(this.graph.getType()==i.KU.BST&&(e==i.ZZ.LEFT&&t.value>this.value||e==i.ZZ.RIGHT&&t.value<this.value))throw`Cannot add node as it doesn't follow convention: left < parent < right (${t.value} ${this.value})`;if(t.parent=this,t.parentSide=e,t.setParentGraph(this.graph),!this.graph)throw"Node not allocated to any tree: "+t.value;this.graph.onNodeAdded(t,e),this.graph.onEdgeAdded(this,t)}}onGetValue(){}isRoot(){return null==this.parent}isLeftChild(){return this.parentSide==i.ZZ.LEFT}isRightChild(){return this.parentSide==i.ZZ.RIGHT}isOnlyChild(){return!this.parent||!(this.parent.left&&this.parent.right)}}class o extends i.JH{constructor(e){super(e),this.adjacents=new Set,this.adjacents_nodes=new Map}addAdjacent(e){this.adjacents.add(e.value),this.adjacents_nodes.has(e.value)||this.adjacents_nodes.set(e.value,e)}removeAdjacent(e){return this.adjacents_nodes.has(e.value)&&this.adjacents_nodes.delete(e.value),this.adjacents.delete(e.value)}isAdjacent(e){return this.adjacents.has(e)}getAdjacents(){return Array.from(this.adjacents_nodes.values())}}class a extends i.qd{constructor(e=i.KU.UNDIRECTED){super(e),this.nodes=new Map}empty(){this.nodes.clear()}isEmpty(){return 0==this.nodes.size}find(e){return this.nodes.get(e)}accessValue(e,t){let n=this.find(e);n&&this.onAccessNode(n,t)}hasDirectedEdges(){return this.type==i.KU.DIRECTED}generate(e){for(let t=0;t<e;t++){this.addVertex(t+1);for(let n=this.type==i.KU.UNDIRECTED?t:0;n<e;n++)t!=n&&0!=(2,Math.floor(2*Math.random()))&&this.addEdge(t+1,n+1)}}generate_with(e){let t=Array.from(new Set(e));for(let e=0;e<t.length;e++){this.addVertex(t[e]);for(let n=0;n<t.length;n++)e!=n&&(this.addVertex(t[n]),0!=Math.floor(2*Math.random())&&this.addEdge(t[e],t[n]))}}fromAdjacencyMatrix(e){for(let t=0;t<e.length;t++)for(let n=this.type==i.KU.UNDIRECTED?t:0;n<e[t].length;n++)0!=e[t][n]&&this.addEdge(t+1,n+1)}fromAdjacencyList(e){for(let[t,n]of Object.entries(e))for(let e of n)this.addEdge("number"==typeof e?Number.parseInt(t):t,e)}addVertex(e){if(this.nodes.has(e))return this.nodes.get(e);const t=new o(e);return this.nodes.set(e,t),t.setParentGraph(this),this.onNodeAdded(t),t}removeVertex(e){const t=this.nodes.get(e);t&&(Array.from(this.nodes.values()).forEach((e=>e.removeAdjacent(t))),this.nodes.delete(e),this.onNodeRemoved(t))}addEdge(e,t){if(null==e||null==t)throw"You must specify both source and destination";const n=this.addVertex(e),r=this.addVertex(t);let s=r.isAdjacent(n.value)||n.isAdjacent(r.value);return n.addAdjacent(r),this.type===i.KU.UNDIRECTED&&r.addAdjacent(n),s||this.onEdgeAdded(n,r),[n,r]}removeEdge(e,t){const n=this.nodes.get(e),r=this.nodes.get(t);n&&r&&(n.removeAdjacent(r),this.type===i.KU.UNDIRECTED&&r.removeAdjacent(n),this.onEdgeRemoved(n,r))}}class l extends i.qd{constructor(e=i.KU.BT){super(e),this.root=void 0}generate(e){let t=new Set;for(;t.size!=e;)t.add((n=e,Math.ceil(Math.random()*n)));var n;this.generate_with(Array.from(t.values()))}generate_with(e){let t=e.length?this.createRoot(e[0]):void 0;if(1==e.length)return;let n=t=>{if(e.length&&t)switch(4,Math.floor(4*Math.random())){case 0:t.left?n(t.left):n(this.add(e.shift(),t.value,i.ZZ.LEFT));break;case 1:t.right?n(t.right):n(this.add(e.shift(),t.value,i.ZZ.RIGHT));break;case 2:t.left||n(this.add(e.shift(),t.value,i.ZZ.LEFT)),t.right||n(this.add(e.shift(),t.value,i.ZZ.RIGHT));break;case 3:return}};for(e.shift();e.length;)n(t)}empty(){this.root=void 0}isEmpty(){return null==this.root}find(e){return this.findExhaustive(e)}accessValue(e,t){let n=this.find(e);n&&this.onAccessNode(n,t)}createRoot(e){return this.root||(this.root=new s(e),this.root.setParentGraph(this),this.onNodeAdded(this.root)),this.root}getRoot(){return this.root}add(e,t,n){if(!e)return;let i=e instanceof s?e.value:e;if(this.root&&(null==t||null==n))throw"Adding in binary trees requires specifying the parent and the side to add to";if(!this.root)return this.root=this.createRoot(i),this.root;let r=this.findExhaustive(i,this.root);if(!r)return this.findExhaustive(t,this.root).createChild(n,i);r.multiplicity=(r.multiplicity||1)+1}remove(e){let t=this.findExhaustive(e,this.root);this.removeNodeWithParent(t,t?t.parent:void 0)}findNodeWithId(e){return this.findExhaustiveUtil(this.root,(t=>t.id===e))}findExhaustive(e,t=this.root){return this.findExhaustiveUtil(t,(t=>t.value===e))}findExhaustiveUtil(e,t){if(!e)return;if(t(e))return e;let n;return e.left&&(n=this.findExhaustiveUtil(e.left,t)),e.right&&!n&&(n=this.findExhaustiveUtil(e.right,t)),n}getLeftmost(e=this.root){return e&&e.left?this.getLeftmost(e.left):e}removeNodeWithParent(e,t){if(!e)return;if(e.multiplicity>1)return void(e.multiplicity-=1);this.onNodeRemoved(e);let n=e.left;e.right&&(this.getLeftmost(e.right).setChild(i.ZZ.LEFT,e.left),n=e.right),e===this.root?(this.root=n,this.root&&(this.root.parent=null)):t.setChild(e.isLeftChild()?i.ZZ.LEFT:i.ZZ.RIGHT,n)}}class c extends l{constructor(){super(i.KU.BST)}generate(e){let t=new Set;for(;t.size!=e;)t.add((n=e,Math.ceil(Math.random()*n)));var n;this.generate_with(Array.from(t.values()))}generate_with(e){for(let t of e)this.find(t)||this.add(t)}createNode(e){return this.root?new s(e):(this.root=new s(e),this.root.setParentGraph(this),this.onNodeAdded(this.root),this.root)}createRoot(e){throw"Cannot explicitly createRoot in a binary search tree. Use createNode or add method instead."}add(e){let t=e instanceof s?e.value:e;if(!this.root)return this.root=this.createNode(t),this.root;let[n,r]=this.findNodeAndFutureParent(t,this.root);n?n.multiplicity=(n.multiplicity||1)+1:r.createChild(t<r.value?i.ZZ.LEFT:i.ZZ.RIGHT,t)}remove(e){let[t,n]=this.findNodeAndFutureParent(e,this.root);this.removeNodeWithParent(t,n)}find(e){return this.findNodeAndFutureParent(e,this.root)[0]}accessValue(e,t){let n=this.find(e);n&&this.onAccessNode(n,t)}findNodeAndFutureParent(e,t,n=null){return t&&t.value!==e?e<t.value?this.findNodeAndFutureParent(e,t.left,t):this.findNodeAndFutureParent(e,t.right,t):[t,n]}}},3685:e=>{"use strict";e.exports=bootstrap}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.u=e=>e+".bundle.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";class e{static addIndexesToIds(e){var t=(new DOMParser).parseFromString(e,"text/html");let n=t.querySelectorAll("[id]");for(let e of n)e.setAttribute("id",e.getAttribute("id")+this.ids_added_index.toString()),this.ids_added_index++;return t.body.innerHTML}static createElementSvgNS(e,t){let n=document.createElementNS("http://www.w3.org/2000/svg",e);return this.setElementAttr(n,t),n}static createSvg(e){const t=this.createElementSvgNS("svg");return this.setElementAttr(t,e),t}static createDiv(e){return this.createElement("div",e)}static createSpan(e){return this.createElement("span",e)}static createCircle(e){const t=this.createElementSvgNS("circle");return this.setElementAttr(t,e),t}static createRect(e){const t=this.createElementSvgNS("rect");return this.setElementAttr(t,e),t}static createText(e,t){let n=this.createElementSvgNS("text");return this.setElementAttr(n,t),n.textContent=e,n}static createElement(e,t){let n=document.createElement(e);for(let e in t)n.setAttribute(e,t[e]);return n}static setElementAttr(e,t){if(t){for(let n in t)e.setAttribute(n,t[n]);return e}}static setElementIdAttr(e,t){if(!t)return;let n=document.getElementById(e);if(n){for(let e in t)n.setAttribute(e,t[e]);return n}}static svgFromTemplate(e){let t=this.createSvg();return t.innerHTML=e,t}static fromTemplate(e){let t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}static elemsFromTemplate(e){let t=document.createElement("div");return t.innerHTML=e.trim(),t.children}static extractElementFromTemplateStr(e,t){return(new DOMParser).parseFromString(e,"text/html").getElementById(t).outerHTML}static textElementFromTemplate(t,n){let i=t.getElementById(n);return i.setAttribute("id",n+e.generatedElement_Index++),i}static svgElementFromTemplate(e,t){return e.getElementById(t)}static elementStartsWithId(e,t){return this.elementsStartsWithId(e,t)[0]}static elementsStartsWithId(e,t){let n=[];for(let i of e.querySelectorAll("[id^="+t+"]"))n.push(i);return n}static childElementWithClass(e,t){return e.querySelector(t)}}e.ids_added_index=0,e.generatedElement_Index=0;const t=__webpack_require__(4828).Z,n=__webpack_require__(2483).Z;var i,r=__webpack_require__(466),s=__webpack_require__(3685);!function(e){e[e.Ro=0]="Ro",e[e.En=1]="En"}(i||(i={}));var o,a={0:"Global scope",1:"Run all",2:"Pause",3:"Show comments",4:"Execute line",5:"Compilation error",6:"Restart",7:"Variables, scopes and functions",8:"Console output",9:"reference to ",10:"function ",11:"local scope in ",12:"local scope",13:"Playback speed",14:"Sloow",15:"Slow",16:"Realtime",17:"Exception",18:"OK",19:"Cancel",20:"Insert a value",21:"Next",22:"Check",23:"Show explanation",24:"Back to statement",25:"Finish",26:"Show solution",27:"Hide solution",28:"Have a bit more patience",29:"We know it's hard but give it a bit more time. Around: ",30:"The solution can be shown after 5 minutes since you first started typing in the editor",31:"minutes",32:"no variables",33:"empty"},l={0:"Scop global",1:"Rulează tot",2:"Pauză",3:"Arată comentarii",4:"Execută linie",5:"Eroare compilare",6:"De la început",7:"Variabile, scopuri și funcții",8:"Consola de ieșire",9:"referă pe ",10:"funcția ",11:"scop local în ",12:"scop local",13:"Viteză execuție",14:"Mai înceet",15:"Încet",16:"Fără delay",17:"Excepție",18:"OK",19:"Anulează",20:"Introdu o valoare",21:"Următoarea",22:"Verifică",23:"Arată explicație",24:"Înapoi la întrebare",25:"Închide",26:"Arată soluție",27:"Ascunde soluție",28:"Mai ai puțină răbdare",29:"Știm că e greu dar mai gândește-te puțin înainte să vezi soluția. Măcar încă: ",30:"Soluția se va afișa doar după 5 minute de când ai început să tastezi în editor",31:"minute",32:"nu conține variabile",33:"fără conținut"};class c{static setLang(e){this.languageMap=e==i.En?a:l,this.currentLang=e}static getLangStr(){switch(this.currentLang){case i.En:return"en";case i.Ro:return"ro";default:throw"Language not set"}}static str(e){if(!c.languageMap||!(e in c.languageMap))throw"Cannot translate string with id: "+e;return c.languageMap[e]}}c.currentLang=i.Ro,c.languageMap=void 0;class u{constructor(e){return this.target=e,new Proxy(e,{set:(e,t,n,i)=>(t in e?e[t]=n:e=n,d.propertyChanged(e,t,n,i),!0),get:(e,t,n)=>t in e?e[t]:e})}}!function(e){e[e[void 0]=0]="undefined",e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.VALUE=3]="VALUE",e[e.CHECKED=4]="CHECKED",e[e.STYLE=5]="STYLE"}(o||(o={}));class h{constructor(e,t){this.type=e,this.htmlElement=t,this.valueOnTrue=void 0,this.valueOnFalse=void 0,this.styleTargetProp=void 0}setBindingType(e){this.type=e}getBindingType(){return this.type}setValueOnTrueEvaluation(e){this.valueOnTrue=e}setValueOnFalseEvaluation(e){this.valueOnFalse=e}setStyleTargetProp(e){this.styleTargetProp=e}getStyleTargetProp(){return this.styleTargetProp}getValueOnTrueEvaluation(e){return this.evaluateValue(e,this.valueOnTrue)}getValueOnFalseEvaluation(e){return this.evaluateValue(e,this.valueOnFalse)}getValueOnEvaluation(e,t){return this.evaluateValue(e,t?this.valueOnTrue:this.valueOnFalse)}propNeedsEvaluation(){return null!=this.valueOnFalse||null!=this.valueOnTrue}evaluateValue(e,t){return t&&-1!=t.indexOf("()")?e[t.replace("()","")]():t}}class d{constructor(e){this.viewModel=e,this.propertyBindings=new Map,this.hasKey=(e,t)=>t in e}getElementsWithAttribute(e,t){let n=Array.from(e.querySelectorAll("["+t+"]"));return n.push(e),n}bindTo(e){let t,n=["av-bind-text","av-bind-class","av-bind-value","av-bind-style-width","av-bind-style-display","av-bind-style-border","av-bind-style-font-style","av-bind-style-flex-direction"],i=o.undefined;for(let r of n){let n=this.getElementsWithAttribute(e,r);for(let e of n){let n=e,s=n.getAttribute(r);if(!s)continue;switch(r){case"av-bind-text":i=o.TEXT;break;case"av-bind-class":i=o.CLASS;break;case"av-bind-value":i=o.VALUE;break;default:r.includes("av-bind-style-")&&(i=o.STYLE,t=r.replace("av-bind-style-",""))}let a=(e,t,i,r)=>{let s=t.startsWith("!");if(s&&(t=t.replace("!","")),i)if(i.startsWith("LangStrId")){let e=i.split(".")[1];i=c.str(parseInt(e))}else if(-1!=i.indexOf("()")&&!(i.replace("()","")in this.viewModel))throw"Property '"+i+"' does not exist on view model";if(this.viewModel&&t in this.viewModel){let o=this.addPropertyBinding(t,new h(e,n));null!=r&&o.setStyleTargetProp(r),null!=i&&(s?o.setValueOnFalseEvaluation(i):o.setValueOnTrueEvaluation(i)),this.registerPropertyObserver(this.viewModel,t,this)}else{if(!t.startsWith("LangStrId"))throw"Property '"+t+"' does not exist on view model";{let e=t.split(".")[1];n.textContent=c.str(parseInt(e))}}d.propertyChanged(void 0,t,i,this.viewModel)};if(-1!=s.indexOf("{")){s=s.replace("{","").replace("}","");let e=-1!=s.indexOf(",")?s.split(","):[s];for(let n of e){let e=n.split(":");a(i,e[0].trim(),e[1].trim(),t)}}else a(i,s,void 0,t)}}for(let t of this.getElementsWithAttribute(e,"av-bind-checked")){let e=t.getAttribute("av-bind-checked");if(e){if(!(e in this.viewModel))throw"Property '"+e+"' does not exist on view model";this.addPropertyBinding(e,new h(o.CHECKED,t)),this.registerPropertyObserver(this.viewModel,e,this),t.addEventListener("change",(t=>{let n=t.target;this.setViewModeProperty(this.viewModel,e,n.checked)}))}}for(let t of this.getElementsWithAttribute(e,"av-bind-onclick")){let e=t.getAttribute("av-bind-onclick");if(e){if(!(e in this.viewModel))throw"Property '"+e+"' does not exist on view model";e+"-bind"in this.viewModel||(this.viewModel.prototype[e+"-bind"]=this.viewModel[e].bind(this.viewModel)),t.addEventListener("click",this.viewModel.prototype[e+"-bind"])}}return this}unbindFrom(e){for(let t of this.getElementsWithAttribute(e,"av-bind-onclick")){let e=t.getAttribute("av-bind-onclick");if(e){if(!(e in this.viewModel))throw"Property '"+e+"' does not exist on view model";t.removeEventListener("click",this.viewModel.prototype[e+"-bind"])}}}addPropertyBinding(e,t){if(this.propertyBindings.has(e)){let n=this.propertyBindings.get(e);for(let e of n)if(e.getBindingType()==t.getBindingType()&&e.htmlElement==t.htmlElement&&e.getStyleTargetProp()==t.getStyleTargetProp())return e;this.propertyBindings.get(e).push(t)}else this.propertyBindings.set(e,[t]);return t}static notifyObservers(e,t,n){d.propertyObservers.has(e)&&d.propertyObservers.get(e).has(t)&&d.propertyObservers.get(e).get(t).forEach((e=>e.onPropertyUpdated(t,n)))}unbind(){d.propertyObservers.has(this.viewModel)&&d.propertyObservers.delete(this.viewModel)}registerPropertyObserver(e,t,n){d.propertyObservers.has(e)||d.propertyObservers.set(e,new Map),d.propertyObservers.get(e).has(t)||d.propertyObservers.get(e).set(t,[]),0==d.propertyObservers.get(e).get(t).length&&d.propertyObservers.get(e).get(t).push(n)}onPropertyUpdated(e,t){if(this.propertyBindings.has(e)){let n=this.propertyBindings.get(e);for(let i of n)switch(i.type){case o.CHECKED:i.htmlElement.checked=this.getViewModeProperty(this.viewModel,e);break;case o.TEXT:case o.CLASS:case o.STYLE:case o.VALUE:{let n=this.getViewModeProperty(this.viewModel,e);if(i.propNeedsEvaluation()){let e=i.getValueOnEvaluation(this.viewModel,n);if(i.getBindingType()==o.STYLE)switch(i.getStyleTargetProp()){case"width":i.htmlElement.style.width=e;break;case"display":i.htmlElement.style.setProperty("display",e,"important");break;case"border":i.htmlElement.style.removeProperty("border"),null!=e&&(i.htmlElement.style.border=e);break;case"font-style":i.htmlElement.style.removeProperty("font-style"),i.htmlElement.style.fontStyle=e;break;case"flex-direction":i.htmlElement.style.removeProperty("flex-direction"),i.htmlElement.style.flexDirection=e}i.getBindingType()==o.TEXT&&(i.htmlElement.textContent=e),i.getBindingType()==o.VALUE&&(i.htmlElement.value=e),i.getBindingType()==o.CLASS&&(i.getValueOnTrueEvaluation(this.viewModel)&&i.htmlElement.classList.remove(i.getValueOnTrueEvaluation(this.viewModel)),i.getValueOnFalseEvaluation(this.viewModel)&&i.htmlElement.classList.remove(i.getValueOnFalseEvaluation(this.viewModel)),i.htmlElement.classList.add(e))}else switch(i.getBindingType()){case o.VALUE:i.htmlElement.value=t;break;case o.STYLE:"width"===i.getStyleTargetProp()&&(i.htmlElement.style.width=t);break;default:{i.htmlElement.textContent=null!=t?t:n;let e=i.htmlElement.parentNode;e&&e.classList.contains("grow-wrap")&&(e.dataset.replicatedValue=null!=t?t:n)}}}}}}setViewModeProperty(e,t,n){this.hasKey(e,t)&&(e[t]=n)}getViewModeProperty(e,t){if(this.hasKey(e,t))return e[t]}static propertyChanged(e,t,n,i){d.notifyObservers(i,t,n)}}d.propertyObservers=new Map;var p=__webpack_require__(3685),f=__webpack_require__(466);const g=__webpack_require__(4413).Z,m=__webpack_require__(9940).Z;class v{constructor(e,t){this.fullscreenNotification=t,this.uiBinder=void 0,this.uiBinder=new d(e).bindTo(v.quizModalHTML)}onNewQuiz(t){let n=0;for(let e of t.answers)e.id=n++;v.quizBodyFront.replaceChild(e.fromTemplate(f.render(g,t)),v.quizBodyFront.firstChild),"explanation"in t&&v.quizBodyBack.replaceChild(e.fromTemplate(f.render(m,t)),v.quizBodyBack.firstChild),this.uiBinder.bindTo(v.quizBodyFront)}onHighlightAnswers(e){this.retrieveAnswers().forEach((t=>{let n=t.getAttribute("av-id");null!=e.answers.find((e=>e.correct&&e.id==n))?t.classList.add("btn-success"):t.classList.contains("active")&&t.classList.add("btn-danger"),t.classList.remove("btn-light"),t.classList.remove("active"),t.classList.add("disabled")}))}onUpdateSelectedAnswers(e){this.retrieveAnswers().forEach((t=>{let n=e.answers.find((e=>e.id==t.getAttribute("av-id")));n&&0==n.selected&&t.classList.remove("active")}))}retrieveAnswers(){return v.quizBodyFront.querySelectorAll("[av-bind-onclick=onSelectedAnswer]")}flipHTMLElement(e){setTimeout((()=>{e.style.display="none"}),500),e.style.animation="none",e.classList.remove("quizFaceShow"),e.classList.remove("quizContainerFlip"),e.classList.add("quizContainerFlip")}showHtmlElement(e){setTimeout((()=>{e.style.display="block"}),500),e.style.animation="none",e.classList.remove("quizFaceShow"),e.classList.remove("quizContainerFlip"),e.classList.add("quizFaceShow")}removeScrolling(){document.body.classList.add("noScroll"),document.documentElement.classList.add("noScroll")}addScrolling(){document.body.classList.remove("noScroll"),document.documentElement.classList.remove("noScroll")}onShowStatement(){this.flipHTMLElement(v.quizBack),this.showHtmlElement(v.quizFront)}onShowExplanation(){this.flipHTMLElement(v.quizFront),this.showHtmlElement(v.quizBack)}goFullScreen(){this.removeScrolling(),v.fullscreenModal.show(),this.fullscreenNotification(!0)}exitFullScreen(){this.addScrolling(),v.fullscreenModal.hide(),this.fullscreenNotification(!1)}}(()=>{const t=__webpack_require__(8972).Z;document.body.append(e.fromTemplate(t)),v.quizModalHTML=document.getElementById("quizModal"),v.quizBodyFront=document.getElementById("quizModalBodyFront"),v.quizBodyBack=document.getElementById("quizModalBodyBack"),v.fullscreenModal=new p.Modal(v.quizModalHTML,{keyboard:!1});let n=v.quizBodyFront.parentElement.parentElement;v.quizFront=n.children[0],v.quizBack=n.children[1]})();class y{constructor(e,t){this.id="",this.id=e,this.data=t}}class b{constructor(e){this.quizzesForLang={},e&&this.loadFromJson(e)}loadFromJson(e){e&&Object.keys(e).filter((e=>-1==e.indexOf("-"))).forEach((t=>{let n={};Object.keys(e[t]).filter((e=>"order"!=e)).forEach((i=>{t in this.quizzesForLang||(this.quizzesForLang[t]=[]),n[i]=new y(i,e[t][i])}));let i="order"in e[t]?e[t].order:[...Array(Object.keys(n).length).keys()];console.log(n),i.forEach((e=>{this.quizzesForLang[t].push(n[e])}))}))}getQuizzesForLang(e){return e in this.quizzesForLang?this.quizzesForLang[e]:[]}}class x{constructor(e){this.quizzes=[],this.currQuizIdx=0,this.isMultipleChoiceQuiz=!1,this.quizProgress="0%",this.hasSelectedAnswers=!1,this.isQuizVerified=!1,this.hasMoreQuizzes=!1,this.hasExplanation=!1;let t=new u(this);this.quizViewModel=t,this.quizViewModel.setDefaults(),this.quizUI=new v(t,e)}setDefaults(){this.quizzes=[],this.currQuizIdx=0,this.isMultipleChoiceQuiz=!1,this.quizProgress="0%",this.hasSelectedAnswers=!1,this.isQuizVerified=!1,this.hasMoreQuizzes=!1,this.hasExplanation=!1}startQuizzes(){this.quizUI.goFullScreen(),this.quizUI.onShowStatement(),Prism.highlightAll()}onNextQuiz(){let e=Math.min(this.currQuizIdx+1,this.quizzes.length-1);e!=this.currQuizIdx&&(this.currQuizIdx=e,this.updateStateOnNewQuiz(),Prism.highlightAll())}onFinishQuiz(){this.quizUI.exitFullScreen()}onCheckQuiz(){this.quizUI.onHighlightAnswers(this.getCurrentQuizData()),this.quizViewModel.isQuizVerified=!0}onSelectedAnswer(e){if(this.quizViewModel.isQuizVerified)return;let t=e.target;for(;t&&"BUTTON"!=t.nodeName;)t=t.parentElement;let n=this.getCurrentQuizData(),i=t.getAttribute("av-id");this.isMultipleChoiceQuiz||(n.answers.forEach((e=>e.selected=e.id==i)),this.quizUI.onUpdateSelectedAnswers(n));let r=n.answers.find((e=>e.id==i));r&&(r.selected=t.classList.contains("active")),this.quizViewModel.hasSelectedAnswers=null!=n.answers.find((e=>e.selected))}onShowExplanation(){this.quizUI.onShowExplanation()}onShowStatement(){this.quizUI.onShowStatement()}getCurrentQuizIndex(){return this.currQuizIdx}getCurrentQuizData(){return this.quizzes[this.currQuizIdx].data}setQuizzes(e){this.quizViewModel.setDefaults(),this.quizzes=[...e],this.updateStateOnNewQuiz()}updateStateOnNewQuiz(){let e=this.getCurrentQuizData();this.quizViewModel.hasMoreQuizzes=this.currQuizIdx<this.quizzes.length-1,this.quizViewModel.hasExplanation="explanation"in this.getCurrentQuizData(),this.quizViewModel.quizProgress=100*(this.quizzes.length?(1+this.currQuizIdx)/this.quizzes.length:0)+"%",this.quizViewModel.isMultipleChoiceQuiz=e.answers.filter((e=>e.correct)).length>1,this.quizViewModel.isQuizVerified=!1,this.quizViewModel.hasSelectedAnswers=!1,this.quizUI.onNewQuiz(e)}}class w{constructor(e){this.quizConfigs={},this.QUIZZES_URL="/assets/algovis/quizzes/",this.quizVM=new x(e);for(let e of document.querySelectorAll("[class*=av-quiz]"))e.addEventListener("click",(()=>{let t=e.getAttribute("config-id");t&&(t in this.quizConfigs?this.startQuizzes(t):fetch(this.QUIZZES_URL+t).then((e=>{e.ok&&e.text().then((e=>{this.quizConfigs[t]=new b(JSON.parse(e)),this.startQuizzes(t)}))})))}))}startQuizzes(e){this.quizVM.setQuizzes(this.quizConfigs[e].getQuizzesForLang(c.getLangStr())),this.quizVM.startQuizzes()}}var E,S=__webpack_require__(6608),C=__webpack_require__(5448),k=__webpack_require__(466),A=__webpack_require__(9058),D=__webpack_require__(9142);A.use(D),function(e){e[e[void 0]=0]="undefined",e[e.Primitive=1]="Primitive",e[e.Array=2]="Array",e[e.Object=3]="Object",e[e.Reference=4]="Reference",e[e.Graph=5]="Graph"}(E||(E={}));class _{constructor(){this.isMultiArray=!1,this.isNotStack=!0,this.isNotQueueOrStack=!0,this.isBorderless=!1,this.isString=!1,this.isBinary=!1}onVarNameClicked(){}reset(e){var t=e.getValue(),n=e.getName();this.isBorderless=null==t||null==t||0==t.length||"string"==typeof t,this.isString="string"==typeof t||t&&null!=t[0]&&"string"==typeof t[0],t instanceof S.qd&&(this.isBorderless=t.isEmpty()),this.isMultiArray=this.checkIsMultiArray(t),this.isNotStack=-1==n.indexOf("stack"),this.isNotQueueOrStack=this.isNotStack,this.isBorderless&&(this.isNotStack=!0,this.isNotQueueOrStack=!1)}checkIsMultiArray(e){if("[object Array]"!=Object.prototype.toString.call(e))return!1;let t=e;return t.length>0&&"[object Array]"==Object.prototype.toString.call(t[0])}}class T{constructor(e){this.observable=e,this.templateVarName='<div class="var-box" style="display: flex; align-items: center; user-select: none">             <div style="display: flex; min-width: 20%; justify-content: flex-end;">                 <span id="var-name" class="var-name" av-bind-onclick="onVarNameClicked">{{name}}</span>                 <span id="var-name" class="var-name-bin" av-bind-style-display="{!isBinary: none, isBinary: inline}" av-bind-onclick="onVarNameClicked">bin</span>             </div>             <span id="var-name" class="var-name" av-bind-onclick="onVarNameClicked" style="padding-left: 5px; padding-right: 5px;">:</span>     </div>     ',this.templateReference='<div class="var-value" style="display: flex; flex-wrap: wrap; justify-content: flex-start; align-items: center; border:none;width:100%;">             <span style="font-style: italic;" av-bind-text="LangStrId.9"></span>             <span id="var-value" style="padding-left: 5px"></span>         </div>',this.templatePrimitive='<div class="var-value" style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; min-width: {{width}}px; text-align: left; word-wrap: break-word; white-space: normal;"                 av-bind-style-border="{isBorderless:none}" av-bind-style-font-style="{isBorderless:italic}">                 <span id="var-value" style="max-width: 100%;"></span>     </div>',this.templateArray='<span style="">     {{#rows}}         <div style="display: flex; flex-wrap: wrap;" av-bind-style-flex-direction="{isNotStack: row, !isNotStack: column}">        <span class="align-self-center" av-bind-style-display="{isMultiArray : table-cell, !isMultiArray : none}" style="font-style: italic; font-size: x-small;margin-right: 5px;">{{index_r}}</span>         {{#cols}}             <div style="padding-right:3px;" av-bind-style-display="{isNotStack : table-cell, !isNotStack : table-row}" >                 <span class="var-value" av-bind-style-border="{isBorderless:none}" av-bind-style-font-style="{isBorderless:italic}" style="width: {{width}}px; height:{{height}}px;">                 <div id="var-value"></div>                </span>                 <span av-bind-style-display="{isNotQueueOrStack : table, !isNotQueueOrStack : none}" style="margin: 0 auto; font-style: italic; font-size: x-small;">{{index_c}}</span>             </div>         {{/cols}}        </div>     {{/rows}}     </span>',this.templateObject='<span style="display: flex; flex-wrap: wrap;" class="justify-contents-baseline">     {{#data}}         <div style="padding-right: 3px; display: table-cell;">             <div class="var-value" av-bind-style-border="{isBorderless : none}" av-bind-style-font-style="{isBorderless:italic}" style="width: {{width}}px; height:{{height}}px;">                 <span id="var-value"></span>             </div>             <span av-bind-style-display="{!isBorderless : table, isBorderless : none}" style="margin: 0 auto; font-style: italic; font-size: x-small;">{{index}}</span>         </div>     {{/data}}     </span>',this.templateEmptyGraph='<span class="var-value" av-bind-style-border="{isBorderless:none}" av-bind-style-font-style="{isBorderless:italic}">         <div id="var-value"></div>     </span>',this.templateGraph='<div style="display: block;  resize:vertical; padding: 3px; width: 100%; height:{{height}}px;">     </div>',this.height=23,this.width=23,this.fontSize=13,this.htmlElement=void 0,this.keyValueElements={},this.indextValueElements=[],this.text=void 0,this.graphVis=void 0,this.layout=void 0,this.fontSizeCache={},this.varNameDrawn=!1,this.varValueDrawn=!1,this.elementToDrawType=E.undefined,this.pendingDraw=E.undefined,this.viewModel=new _,this.uiBinder=void 0,this.clientViewModel=void 0,this.observable.registerObserver(this),this.viewModel.onVarNameClicked=()=>{"number"==typeof this.observable.getValue()&&(this.clientViewModel.isBinary=!this.clientViewModel.isBinary,this.redraw(this.elementToDrawType))};let t=new u(this.viewModel);this.viewModel.isBinary=e&&e.isBinary,this.clientViewModel=t,this.uiBinder=new d(t)}onGetEvent(e,t){}onGetArrayAtIndexEvent(e,t,n,i){}onGetObjectPropertyEvent(e,t,n){}getHTMLElement(){return this.htmlElement}textWidth(e){let t=window.getComputedStyle(e,null).getPropertyValue("font-family"),n=window.getComputedStyle(e,null).getPropertyValue("font-size"),i=e.textContent;var r=document.createElement("canvas").getContext("2d");r.font=n+" "+t;let s=r.measureText(i),o=s.fontBoundingBoxAscent+s.fontBoundingBoxDescent;return{w:s.width,h:o}}resetFontSize(e){e.style.removeProperty("font-size")}resetAnimation(e){e.style.animation="none",e.offsetHeight,e.style.animation=null,e.classList.remove("blink"),e.classList.add("blink"),setTimeout((()=>{e.classList.remove("blink")}),600)}toStringKnownObject(e){return"object"==typeof e&&"type"in e?"NodeBase"===e.type?e.value.toString():void 0:e.toString()}fitText(e,t,n,i,r=!1){if(e.textContent=null==t||null==t?void 0===t?"undefined":"null":"number"==typeof t?this.clientViewModel.isBinary?(t>>>0).toString(2).padStart(32,"0"):t.toString():"string"==typeof t&&"'"!=t[0]?`'${t.toString()}'`:this.toStringKnownObject(t),null!=t&&"object"==typeof t){let n=!1;if(t instanceof S.qd?n=t.isEmpty():(0==t.length||null==t.length&&0==Object.keys(t).length)&&(n=!0),n)return e.textContent=c.str(33),void this.resetFontSize(e)}if(e.title=e.textContent,e.parentElement.title=e.textContent,""==e.textContent||r)return;let s=e.id in this.fontSizeCache?this.fontSizeCache[e.id]:0,o=Number.parseInt(window.getComputedStyle(e,null).getPropertyValue("font-size"));if(o&&!Number.isNaN(o)||(o=this.fontSize),s>0&&s==o)return;let a=(e,t)=>t>i?-1:t<i?1:0;e.clientWidth,i=this.height-2;let l=this.textWidth(e),u=a(l.w,l.h);if(0==u)return;let h=o;do{h+=u,e.style.fontSize=h+"px",l=this.textWidth(e)}while(a(l.w,l.h)==u);this.fontSizeCache[e.id]=h}detach(){this.observable.unregisterObserver(this),this.uiBinder.unbind()}drawVarName(){if(this.varNameDrawn)return;let t=k.render(this.templateVarName,{name:this.observable.name}),n=e.addIndexesToIds(t);return this.htmlElement=e.fromTemplate(n),this.varNameDrawn=!0,this.uiBinder.bindTo(this.htmlElement.parentElement),this.htmlElement}updatePendingDraws(){this.pendingDraw!=E.undefined&&(this.redraw(this.pendingDraw),this.pendingDraw=E.undefined)}needsDraw(){return!this.varValueDrawn}needsRedraw(e){return!this.varValueDrawn||!(!this.varValueDrawn||this.elementToDrawType==e)}referenceToUIStr(e){return e.replace("global.","")}redraw(e){this.uiBinder.unbindFrom(this.htmlElement),this.htmlElement.removeChild(this.htmlElement.lastChild),this.keyValueElements={},this.indextValueElements=[],this.keyValueElements={},this.text=void 0,e==E.Primitive&&this.drawPrimitive(this.observable),e==E.Array&&this.drawArray(this.observable),e==E.Object&&this.drawObject(this.observable),e==E.Reference&&this.drawReference(this.observable),e==E.Graph&&this.drawGraph(this.observable),this.uiBinder.bindTo(this.htmlElement)}drawPrimitive(t){this.clientViewModel.reset(t);let n=k.render(this.templatePrimitive,{width:this.width,height:this.height}),i=e.addIndexesToIds(n),r=e.fromTemplate(i);this.htmlElement.append(r),this.text=e.elementStartsWithId(r,"var-value"),this.fitText(this.text,t.getValue(),this.htmlElement.clientWidth,this.htmlElement.clientHeight),this.varValueDrawn=!0,this.elementToDrawType=E.Primitive}drawReference(t){let n=k.render(this.templateReference,{width:this.width,height:this.height}),i=e.addIndexesToIds(n),r=e.fromTemplate(i);this.htmlElement.append(r),this.text=e.elementStartsWithId(r,"var-value"),this.fitText(this.text,this.referenceToUIStr(t.getValue()),this.htmlElement.clientWidth,this.htmlElement.clientHeight,!0),this.varValueDrawn=!0,this.elementToDrawType=E.Reference}drawArray(t){let n=t.getValue(),i=[],r=e=>e?e.map(((e,t)=>({width:this.width,height:this.height,index_c:t}))):{width:this.width,height:this.height,index_c:0};this.clientViewModel.isMultiArray||(n=[n]),this.clientViewModel.isBorderless&&(n[0]=[...n],n[0][0]=void 0);for(let e in n){let t=r(n[e]);t.length||(t=[{width:this.width,height:this.height,index_c:0}]),i.push({index_r:e,cols:t})}let s=k.render(this.templateArray,{rows:i}),o=e.fromTemplate(e.addIndexesToIds(s));this.htmlElement.append(o),this.indextValueElements=this.indextValueElements.concat(e.elementsStartsWithId(o,"var-value"));let a=0,l=0,c=i[a].cols.length;for(let[e,n]of this.indextValueElements.entries()){let r,s;l>=c&&(l=0,a++,c=i[a].cols.length),this.clientViewModel.isMultiArray?(r=a,s=l):r=this.clientViewModel.isNotStack?e:c-e-1;let o=t.getAtIndex(r,s);o=this.clientViewModel.isBorderless||this.clientViewModel.isMultiArray&&null==o?[]:o,this.fitText(n,o,this.width,this.height,this.clientViewModel.isBorderless),l++}this.varValueDrawn=!0,this.elementToDrawType=E.Array}drawObject(t){this.clientViewModel.reset(t);let n=t.getKeys(),i=0==n.length;i&&(n=[...n],n[0]=void 0);let r=k.render(this.templateObject,{data:n.map((e=>({width:this.width,height:this.height,index:e})))}),s=e.addIndexesToIds(r),o=e.fromTemplate(s);this.htmlElement.append(o),this.clientViewModel.isBorderless=i;let a=0,l=e.elementsStartsWithId(o,"var-value");for(let e of n){this.keyValueElements[e]=l[a++];let n=i?{}:t.getAtIndex(e);this.fitText(this.keyValueElements[e],n,this.width,this.height,i)}this.varValueDrawn=!0,this.elementToDrawType=E.Object}createGraphVis(e,t=!0){this.graphVis||(this.graphVis=A({container:e,style:[{selector:"node",style:{"background-color":"#0d6efd",label:"data(label)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":t?"triangle":"none","curve-style":"bezier"}}],zoomingEnabled:!0,userZoomingEnabled:!0,wheelSensitivity:.1}))}drawGraph(t){this.clientViewModel.reset(t);let n=k.render(t.isEmpty()?this.templateEmptyGraph:this.templateGraph,{width:t.isEmpty()?this.width:this.htmlElement.clientWidth,height:t.isEmpty()?this.height:350}),i=e.addIndexesToIds(n),r=e.fromTemplate(i);if(this.htmlElement.append(r),t.isEmpty())this.text=e.elementStartsWithId(r,"var-value"),this.fitText(this.text,t.getValue(),this.htmlElement.clientWidth,this.htmlElement.clientHeight);else{let e=t instanceof C.kJ&&t.hasDirectedEdges();this.createGraphVis(r,e)}this.varValueDrawn=!0,this.elementToDrawType=E.Graph}onSetReferenceEvent(e,t,n){this.clientViewModel.reset(e),this.varNameDrawn?this.needsRedraw(E.Reference)?this.redraw(E.Reference):this.needsDraw()?this.drawReference(e):(this.fitText(this.text,this.referenceToUIStr(n),this.htmlElement.clientWidth,this.htmlElement.clientHeight,!0),this.resetAnimation(this.text)):this.pendingDraw=E.Reference}onSetEvent(e,t,n){this.clientViewModel.reset(e);let i=!(e instanceof S.qd),r=i?E.Primitive:E.Graph;this.varNameDrawn?this.needsRedraw(r)?this.redraw(r):i&&(this.needsDraw()?this.drawPrimitive(e):this.text.textContent!=n&&(this.fitText(this.text,n,this.width,this.height),this.resetAnimation(this.text))):this.pendingDraw=r}checkIsMultiArray(e){let t=e;if(t.length>0)return"[object Array]"==Object.prototype.toString.call(t[0])}onSetArrayValueEvent(e,t,n){if(this.clientViewModel.reset(e),!this.varNameDrawn)return void(this.pendingDraw=E.Array);if(this.needsRedraw(E.Array))return void this.redraw(E.Array);let i=this.checkIsMultiArray(t),r=this.checkIsMultiArray(n),s=e=>{let t=0;if(this.checkIsMultiArray(e))for(let n in e)t+=e[n]?e[n].length:0;else t=e.length;return t};if(i!=r||s(t)!=s(n))this.redraw(E.Array);else if(r)for(let[i,r]of n.entries())for(let[r,s]of n[i].entries())t[i][r]!=n[i][r]&&this.onSetArrayAtIndexEvent(e,n[i][r],n[i][r],i,r);else for(let[i,r]of n.entries())t[i]!=n[i]&&this.onSetArrayAtIndexEvent(e,r,r,i)}onSetArrayAtIndexEvent(e,t,n,i,r){if(!this.varNameDrawn)return void(this.pendingDraw=E.Array);let s=e.getValue();this.checkIsMultiArray(s)&&(i=i*s[0].length+r),this.fitText(this.indextValueElements[i],n,this.width,this.height),this.resetAnimation(this.indextValueElements[i])}onSetObjectValueEvent(e,t,n){if(this.varNameDrawn)if(this.needsRedraw(E.Object))this.redraw(E.Object);else if(Object.keys(t).length!=Object.keys(n).length)this.redraw(E.Object);else for(let i of Object.keys(n))t[i]!=n[i]&&this.onSetObjectPropertyEvent(e,t[i],n[i],i);else this.pendingDraw=E.Object}onSetObjectPropertyEvent(e,t,n,i){this.clientViewModel.reset(e),this.varNameDrawn?i in this.keyValueElements?(this.fitText(this.keyValueElements[i],n,this.width,this.height),this.resetAnimation(this.keyValueElements[i])):this.redraw(E.Object):this.pendingDraw=E.Object}forceGraphRefresh(e){if(this.layout&&(this.layout.stop(),this.layout.destroy()),e instanceof C.wD){const t=40;let n=new Map,i=e.getRoot();i.level=0,i.dirrScore=0;let r=[i];for(;r.length;){let e=r.shift();n.has(e.level)?n.get(e.level).push(e):n.set(e.level,[e]),e.left&&(e.left.offsetX=-t,e.left.dirrScore=e.dirrScore-1,r.push(e.left)),e.right&&(e.right.offsetX=t,e.right.dirrScore=e.dirrScore+1,r.push(e.right))}for(let[e,r]of n.entries())if(!(e<2))for(let n=1-e;n<e;n++){let e=[];for(let t of r)t.dirrScore==n&&e.push(t);if(e.length>1){let n=e[0].parent,r=e[1].parent;for(;n!=r;)n=n.parent,r=r.parent;for(n.left&&(n.left.offsetX-=t),n.right&&(n.right.offsetX+=t);n!=i;)n=n.parent}}this.layout=this.graphVis.layout({name:"dagre",animate:!0,animationDuration:300,animationEasing:"ease-in-out-sine",fit:!0,transform:(t,n)=>{let i=e.findNodeWithId(t.id());return i?i.isRoot()?(i.offsetX=n.x,n):(i.offsetX+=i.parent.offsetX,n.x=i.offsetX,n):n}})}else this.layout=this.graphVis.layout({name:"cose",infinite:!0,fit:!0});this.layout.run()}ensureGraphDrawn(){null==this.graphVis&&this.redraw(E.Graph)}onSetGraphEvent(e,t,n){console.log(e,t,n)}onAccessNode(e,t,n){let i=this.graphVis.filter(`[id = "${t.id}"]`);for(let e=0;e<2;e++)i.animate({style:{opacity:1},duration:8,easing:"ease-in-sine"}).delay(8).animate({style:{opacity:0,"background-color":"black"},duration:8,easing:"ease-in-sine"}).delay(8).animate({style:{opacity:1,"background-color":"#0d6efd"},duration:8,easing:"ease-in-sine"});n==S.Fb.Mark&&i.animate({style:{opacity:1,"background-color":"#d63384"},duration:8,easing:"ease-in-sine"})}onAddEdge(e,t,n){this.ensureGraphDrawn(),this.graphVis.add([{data:{id:t.id}},{data:{id:n.id}},{data:{id:t.id+"-"+n.id,source:t.id,target:n.id}}]),this.forceGraphRefresh(e)}onAddNode(e,t){this.ensureGraphDrawn(),this.graphVis.add([{data:{id:t.id,label:t.label}}]),this.forceGraphRefresh(e)}onRemoveNode(e,t){this.ensureGraphDrawn(),this.graphVis.remove(this.graphVis.filter(`[id = "${t.id}"]`))}onRemoveEdge(e,t,n){this.ensureGraphDrawn(),this.graphVis.remove([{data:{id:t.id}},{data:{id:n.id}},{data:{id:t.id+"-"+n.id,source:t.id,target:n.id}}]),this.forceGraphRefresh(e)}}var M,L=__webpack_require__(466);class ${constructor(e){this.scopeHtmlElement=e,this.scope_body=e.querySelector(".accordion-body"),this.scope_empty_span=this.scope_body.querySelector(".empty-scope"),this.scope_empty_span.textContent=c.str(32)}}class R{constructor(e){this.scene=e,this.accordionScope='    <div class="accordion accordion-flush" id="accordionPanelsStayOpenExample" av-scope="{{scope}}">         <div class="accordion-item">             <span class="accordion-header" id="panelsStayOpen-heading{{scope_idx}}">                 <button class="accordion-button scope-name" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse{{scope_idx}}" aria-expanded="true" aria-controls="panelsStayOpen-collapse{{scope_idx}}">                    {{scopeName}}                 </button>            </span>            <div id="panelsStayOpen-collapse{{scope_idx}}" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-heading{{scope_idx}}">                <div class="accordion-body scope-body">                    <div class="empty-scope">empty</div>                </div>             </div>     </div>',this.observableToVisualizer={},this.scopes=new Map}codeScopeToUiScope(e){let t=e.replace("global.","").split("!").join("").split("."),n=t.pop();if(-1!=n.indexOf("global"))n=n.replace("global",c.str(0));else if("local"==n){let e=t.pop();n=e&&"local"!=e?c.str(11)+c.str(10)+e:c.str(12)}else n=c.str(10)+n;return n}isLocalScope(e){return-1!=e.indexOf("local")&&""!=e.substring(0,e.lastIndexOf("."))}checkScopesExist(e){let t,n=e.split("."),i="";for(let e of n){if(""===i?i=e:i+="."+e,!this.scopes.has(i)){let e=this.createHtmlElementForScope(i);0==this.scopes.size?this.scene.append(e):t.scope_body.append(e),this.scopes.set(i,new $(e))}t=this.scopes.get(i)}}createHtmlElementForScope(t){let n=L.render(this.accordionScope,{scopeName:this.codeScopeToUiScope(t),scope:t,scope_idx:R.scope_idx++});return e.fromTemplate(n)}add(t,n){if(this.checkScopesExist(t),!this.scopes.has(t)){let n=t.substring(0,t.lastIndexOf("."));""==n&&(n="global");let i="global"==n?this.scene:this.scene.querySelector("[av-scope='"+n+"']"),r=this.createHtmlElementForScope(t);this.isLocalScope(t)?e.childElementWithClass(i,".accordion-body").append(r):i.prepend(r),this.scopes.set(t,new $(r))}if(n){let e=t+"."+n.name;e in this.observableToVisualizer||(this.observableToVisualizer[e]=new T(n));let i=this.observableToVisualizer[e],r=this.scopes.get(t),s=i.drawVarName();s&&(r.scope_body.prepend(s),r.scope_empty_span.style.display="none"),i.updatePendingDraws()}return!0}removeScope(e,t,n,i){let r=null!=n?n:t;r&&(i&&i(!0),r.ontransitionend=()=>{n&&t.children[1]==n&&t.children[1].removeChild(n),(!n||t.children[1].children.length<=1)&&(t.remove(),this.scopes.delete(e)),i&&i(!1)},r.classList.add("fade-out"))}remove(e,t,n){let i=this.scene.querySelector("[av-scope='"+e+"']"),r=e+(t?"."+t.name:"");if(!t){this.removeScope(e,i,void 0,n),delete this.observableToVisualizer[r];for(let t of Object.keys(this.observableToVisualizer))-1==t.replace(e+".","").indexOf(".")&&delete this.observableToVisualizer[t];return void this.scopes.delete(e)}let s=this.observableToVisualizer[r].getHTMLElement();for(let t of Object.keys(this.observableToVisualizer)){let r=this.observableToVisualizer[t];if(r.getHTMLElement()==s){this.removeScope(e,i,s,n);let t=1==i.children[1].children.length;r.detach(),t&&(this.removeScope(e,i,void 0,n),this.scopes.delete(e));break}}delete this.observableToVisualizer[r]}clearAll(){for(let e of Object.keys(this.observableToVisualizer))this.observableToVisualizer[e].detach();this.observableToVisualizer={};for(let[e,t]of this.scopes)t.scopeHtmlElement.remove();this.scopes.clear()}}R.scope_idx=0,function(e){e[e[void 0]=0]="undefined",e[e.Primitive=1]="Primitive",e[e.Array=2]="Array",e[e.Object=3]="Object",e[e.Set=4]="Set",e[e.Reference=5]="Reference",e[e.Graph=6]="Graph",e[e.Tree=7]="Tree"}(M||(M={}));class F extends S.Bj{constructor(e,t,n){super(),this.name=e,this.value=t,this.isBinary=n,this.initValue=t?JSON.parse(JSON.stringify(t)):t}empty(){this.value=void 0}reset(){this.setValue(this.initValue)}getType(){return this.determineType(this.value)}getKeys(){return"type"in this.value&&"NodeBase"===this.value.type?["value"]:Object.keys(this.value)}getValue(){for(let e of this.observers)e.onGetEvent(this,this.value);return this.value}getAtIndex(e,t){let n=this.determineType(this.value);for(let t of this.observers)if(n==M.Array)t.onGetArrayAtIndexEvent(this,this.value[e],e);else{if(n!=M.Object)throw"Cannot at index on primitive";t.onGetObjectPropertyEvent(this,e,this.value[e])}return r=e,s=t,(i=this.value)&&i[r]?null!=s?i[r][s]:i[r]:null;var i,r,s}setReference(e){let t=this.value?JSON.parse(JSON.stringify(this.value)):void 0;this.value=null!=e?JSON.parse(JSON.stringify(e)):void 0;for(let e of this.observers)e.onSetReferenceEvent(this,t,this.value)}setValue(e){let t="[object Set]"==Object.prototype.toString.call(e),n=this.value?JSON.parse(JSON.stringify(this.value)):this.value;this.value=e?JSON.parse(JSON.stringify(t?[...e]:e)):e;let i=this.determineType(e);for(let e of this.observers)switch(i){case M.undefined:case M.Primitive:e.onSetEvent(this,n,this.value);break;case M.Array:e.onSetArrayValueEvent(this,n?[...n]:n,this.value?[...this.value]:this.value);break;case M.Object:e.onSetObjectValueEvent(this,n,this.value);break;default:throw"OBSERVABLE type unknown"}}determineType(e){if(!e)return M.undefined;let t=Object.prototype.toString.call(e),n="[object Object]"==t;return"[object Array]"==t?M.Array:n?M.Object:M.Primitive}}var B=__webpack_require__(1612);class I{constructor(e){this.notificationBus=e,this.codexWorker=new Worker(new URL(__webpack_require__.p+__webpack_require__.u(310),__webpack_require__.b)),this.sharedMem=new SharedArrayBuffer(128*Int16Array.BYTES_PER_ELEMENT),this.advanceFlag=new Int32Array(this.sharedMem),this.executionHalted=!1,Atomics.store(this.advanceFlag,0,B.jF.Wait),this.codexWorker.onmessage=e=>{let t=e.data.params;switch(e.data.cmd){case B.LG.setVar:this.notificationBus.setVar(t[0],t[1],t[2]);break;case B.LG.executionFinished:this.notificationBus.onExecutionFinished();break;case B.LG.markcl:this.notificationBus.markcl(t[0]);break;case B.LG.userInteractionRequest:this.executionHalted=!0,Atomics.store(this.advanceFlag,B.EX.Main,B.jF.Wait),this.notificationBus.onUserInteractionRequest(t[0],t[1],t[2]);break;case B.LG.forcemarkcl:Atomics.store(this.advanceFlag,B.EX.Main,B.jF.Wait),this.notificationBus.forcemarkcl(t[0]);break;case B.LG.startScope:this.notificationBus.startScope(t[0]);break;case B.LG.endScope:this.notificationBus.endScope(t[0]);break;case B.LG.pushParams:this.notificationBus.pushParams(t[0]);break;case B.LG.popParams:this.notificationBus.popParams(t[0]);break;case B.LG.onAddNode:this.notificationBus.onAddNode(t[0],t[1],t[2],t[3]);break;case B.LG.onAddEdge:this.notificationBus.onAddEdge(t[0],t[1],t[2]);break;case B.LG.onRemoveNode:this.notificationBus.onRemoveNode(t[0],t[1]);break;case B.LG.onRemoveEdge:this.notificationBus.onRemoveEdge(t[0],t[1],t[2]);break;case B.LG.onAccessNode:this.notificationBus.onAccessNode(t[0],t[1],t[2]);break;case B.LG.onExceptionRaised:this.notificationBus.onExceptionMessage(t[0],t[1]);break;case B.LG.onConsoleLog:this.notificationBus.onTraceMessage(t[0]);break;default:throw"Cant handle "+e.data.cmd}}}sendSharedMem(e){return this.sendWorkerMessage(B.LG.sharedMem,e)}advanceOneCodeLine(){this.executionHalted||Atomics.notify(this.advanceFlag,B.EX.Main)}stopExecution(){this.executionHalted||(Atomics.store(this.advanceFlag,B.EX.Aux,B.jF.Stop),Atomics.notify(this.advanceFlag,0))}execute(){Atomics.store(this.advanceFlag,B.EX.Aux,B.jF.NoOp),this.sendWorkerMessage(B.LG.execute)}setSourceCode(e){this.sendWorkerMessage(B.LG.setSourceCode,e)}userInteractionResponse(e,t){let n=0;switch(e){case B.wt.Alert:n=0;break;case B.wt.Confirm:n=t?1:0;break;case B.wt.Prompt:let e=t;n=null!=e?e.length:-1}if(Atomics.store(this.advanceFlag,B.EX.MessageSize,e),Atomics.store(this.advanceFlag,B.EX.MessageSize+1,n),e==B.wt.Prompt)for(let e=0;e<n;e++)Atomics.store(this.advanceFlag,B.EX.MessageSize+2+e,t.charCodeAt(e));Atomics.store(this.advanceFlag,B.EX.Aux,B.jF.UserInteractionResponse),Atomics.store(this.advanceFlag,B.EX.Main,B.jF.Proceed),Atomics.notify(this.advanceFlag,0),this.executionHalted=!1}sendWorkerMessage(e,...t){this.codexWorker.postMessage({cmd:e,params:t})}init(){return Atomics.store(this.advanceFlag,B.EX.Aux,B.jF.Stop),Atomics.store(this.advanceFlag,B.EX.Main,B.jF.Proceed),this.sendSharedMem(this.sharedMem)}}class O{constructor(e){this.observables=[],this.runtimeScopeName=e}}class P{constructor(){this.currentScope=[],this.currentScopeString=""}reset(){this.currentScope=[],this.currentScopeString=""}scopeStart(e){this.currentScope.push(new O(e)),this.computeCurrentScopeString()}scopeEnd(e){if(this.currentScope[this.currentScope.length-1].runtimeScopeName!=e)throw console.log(this.currentScope+" vs "+e),"LAST SCOPE IS NOT AS EXPECTED ";this.currentScope.pop(),this.computeCurrentScopeString()}getCurrentScope(){return this.currentScopeString}getScopesReversed(){return[...this.currentScope].reverse()}getParentScope(){let e=[...this.currentScope];e.pop(),0==e.length&&e.push(new O("global"));let t="";return e.forEach((e=>t+=e.runtimeScopeName+".")),this.removeTrailingDot(t)}findRuntimeObservableWithName(e){let t=this.getScopesReversed(),n=!1;for(let i=0;i<t.length;i++){let r=t[i].runtimeScopeName;if(!n||!r.includes("!")&&"local"!==r){for(let n of t[i].observables)if(n.name==e){let e="";for(let n=t.length-1;n>=i;n--)e+=t[n].runtimeScopeName+".";return[this.removeTrailingDot(e),n]}t[i].runtimeScopeName.includes("!")&&(n=!0)}}return[void 0,void 0]}storeRuntimeObservableInScope(e){this.currentScope[this.currentScope.length-1].observables.push(e)}attachVarToScope(e,t){return""!=e?t+"."+e:t}static scopeNameToFunctionScope(e){return"global"!=e&&"local"!=e&&"!"!=e[0]?"!"+e:e}computeCurrentScopeString(){this.currentScopeString="",this.currentScope.forEach((e=>this.currentScopeString+=e.runtimeScopeName+".")),this.currentScopeString=this.removeTrailingDot(this.currentScopeString)}removeTrailingDot(e){return e.lastIndexOf(".")==e.length-1?e.slice(0,-1):e}}var N,z=__webpack_require__(1072);!function(e){e[e.let=0]="let",e[e.var=1]="var"}(N||(N={}));class W{constructor(e,t){this.s=e,this.e=t}}class V{constructor(e,t,n,i,r){this.declarationScopeName=e,this.name=t,this.vartype=n,this.endOfDefinitionIndex=i,this.isBinary=r,this.endOfDefinitionIndexes=[],this.source="",this.endOfDefinitionIndexes=[i]}}class H{constructor(e,t,n){this.name=e,this.startOfDefinitionIndex=t,this.endOfDefinitionIndex=n}}class j{constructor(e,t,n,i){this.startOfDefinitionIndex=e,this.endOfDefinitionIndex=t,this.funcScopeName=n,this.varToParams=i}}class U{constructor(){this.code="",this.scopes=[],this.pushFuncParams=[],this.emptyCodeLineNumbers=[],this.fcnReturns=[],this.markLineOverrides=[],this.noMarkLineZone=[],this.explicitBraces=[],this.localhostDebug=!0,this.debugEnabled="undefined"!=typeof window&&"localhost"==window.location.hostname&&this.localhostDebug}getCode(){return this.code}setCode(e,t=!0){let n=!0;this.resetCodeParsingState();let i=new RegExp("(alert)|(confirm)|(prompt)","g");return this.code=e.replace(i,"$&Wrap"),t&&([n]=this.parseCode()),this.code="'use strict'; \n            let BinarySearchTree = Types.BinarySearchTree;             let BinaryTree = Types.BinaryTree;            let Graph = Types.Graph;            let GraphType = Types.GraphType;             let GraphNode = Types.GraphNode;             let BinaryTreeNode = Types.BinaryTreeNode;             let TreeNodeSide = Types.ParentSide;                   let AccessType = Types.AccessType;             let markcl = Funcs.markcl;             let forcemarkcl = Funcs.forcemarkcl;             let setVar = Funcs.setVar;             let startScope = Funcs.startScope;             let endScope = Funcs.endScope;             let pushParams = Funcs.pushParams;             let popParams = Funcs.popParams;             let funcWrap = Funcs.funcWrap;             let promptWrap = Funcs.promptWrap;             let alertWrap = Funcs.alertWrap;             let confirmWrap = Funcs.confirmWrap; \n"+this.code,[n,""]}resetCodeParsingState(){this.emptyCodeLineNumbers=[],this.varDeclarations={},this.scopes=[],this.fcnReturns=[],this.funcDefs={},this.pushFuncParams=[],this.markLineOverrides=[],this.noMarkLineZone=[],this.explicitBraces=[]}dumpDebugInfo(){this.debugEnabled&&(console.log("VARS: "),console.log(this.varDeclarations),console.log("BRACES: "),console.log(this.explicitBraces),console.log("SCOPES: "),console.log(this.scopes),console.log("FUNCDEFS: "),console.log(this.funcDefs),console.log("PUSHPARAMS: "),console.log(this.pushFuncParams),console.log("NOMARKLINE: "),console.log(this.noMarkLineZone),console.log("MARKLINEOVERRIDES: "),console.log(this.markLineOverrides),console.log(this.code))}parseVariable(e,t,n=-1){if("declarations"in t&&0!=t.declarations.length)for(let i of t.declarations){let r="var"==t.kind?N.var:N.let,s=e;r==N.var&&-1!=e.indexOf(".")&&(s=e.substring(0,e.indexOf(".")));let o=i.init&&i.init.raw&&i.init.raw.includes("0b"),a=this.createVariable(s,i.id.name,r,-1==n?t.range[1]:n,o);if(i.init)switch(i.init.type){case"Identifier":a.source=i.init.name;break;case"ArrayExpression":case"ObjectExpression":this.addNoMarklineZone(i.init.range[0]-1,i.init.range[1]+1);break;case"CallExpression":this.extractVariables(e,i.init);break;case"ArrowFunctionExpression":{let e=i.id.name;for(let t of i.init.params)e in this.funcDefs||(this.funcDefs[e]=[]),this.funcDefs[e].push(t.name),this.createVariable(P.scopeNameToFunctionScope(e),t.name,N.var,i.init.body.range[0]+1);this.scopes.push(new H(P.scopeNameToFunctionScope(i.id.name),i.init.body.range[0]+1,i.init.body.range[1]-1)),this.extractVariables(P.scopeNameToFunctionScope(i.id.name),i.init.body);break}}}}extractVariables(e,t){var n;if(!t)return;let i=[t];t.body&&(i=!("length"in t.body)&&t.body.body?t.body.body:"length"in t.body?t.body:[t.body]);for(let t of i)switch(t.type){case"VariableDeclaration":this.parseVariable(e,t);break;case"FunctionDeclaration":var r=t.id.name;r in this.funcDefs||(this.funcDefs[r]=[]);for(let n of t.params)this.funcDefs[r].push(n.name),this.createVariable(e+"."+P.scopeNameToFunctionScope(r),n.name,N.let,t.body.range[0]+1);this.extractVariables(e+"."+P.scopeNameToFunctionScope(r),t);break;case"BreakStatement":this.scopes.push(new H("local",-1,t.range[0]));break;case"ReturnStatement":{let n=t.range[0];for(let t of this.scopes)if(t.name.split(".local").join("")==e&&t.startOfDefinitionIndex<n&&t.endOfDefinitionIndex>n){if(-1!=t.name.indexOf("global"))continue;t.endOfDefinitionIndex=n}this.fcnReturns.push(t.range[0]),t.argument&&(this.extractVariables(e,t.argument.left),this.extractVariables(e,t.argument.right));break}case"ForOfStatement":case"ForInStatement":{let n=this.code.lastIndexOf(")",t.body.range[0]);this.explicitBraces.push(new W(n+1,t.body.range[1])),this.markLineOverrides.push(n+1),this.scopes.push(new H("local",t.range[0],t.range[1])),t.left&&t.left.declarations&&t.left.declarations.length>0&&this.createVariable(e+".local",t.left.declarations[0].id.name,N.let,t.body.range[0]+1),this.extractVariables(e+".local",t);break}case"ForStatement":{let n=this.code.lastIndexOf(")",t.body.range[0]);this.explicitBraces.push(new W(n+1,t.body.range[1])),this.markLineOverrides.push(n+1),this.scopes.push(new H("local",t.range[0],t.range[1])),this.parseVariable(e+".local",t.init,n+1),this.extractVariables(e+".local",t);break}case"IfStatement":{let n=e=>{e&&"BlockStatement"==e.type&&this.scopes.push(new H("local",e.range[0]+1,e.range[1]-1))};if(t.consequent&&"BlockStatement"!=t.consequent.type){let e=this.code.lastIndexOf(")",t.consequent.range[0]);this.explicitBraces.push(new W(e+1,t.consequent.range[1]+1))}t.alternate&&("BlockStatement"!=t.alternate.type&&"IfStatement"!=t.alternate.type&&this.explicitBraces.push(new W(t.alternate.range[0],t.alternate.range[1])),this.addNoMarklineZone(t.consequent.range[1],t.alternate.range[0]-4)),n(t.consequent),n(t.alternate),this.extractVariables(e+".local",t.consequent),this.extractVariables(e+".local",t.alternate);break}case"DoWhileStatement":this.scopes.push(new H("local",t.range[0],t.range[1])),this.extractVariables(e+".local",t);break;case"WhileStatement":{let n=this.code.lastIndexOf(")",t.body.range[0]);this.explicitBraces.push(new W(n+1,t.body.range[1])),this.markLineOverrides.push(n+1),this.scopes.push(new H("local",t.range[0],t.range[1])),this.extractVariables(e+".local",t);break}case"BlockStatement":this.markLineOverrides.push(t.body.range?t.body.range[0]+1:t.range[0]+1),this.scopes.push(new H("local",t.range[0],t.range[1])),this.extractVariables(e+".local",t);break;case"SwitchStatement":for(let e of t.cases)"consequent"in e&&e.consequent.length>0&&("BlockStatement"==e.consequent[0].type?this.markLineOverrides.push(e.consequent[0].range[0]+1):this.markLineOverrides.push(e.consequent[0].range[0]));break;case"ExpressionStatement":this.extractVariables(e,t.expression);break;case"BinaryExpression":this.extractVariables(e,t.left),this.extractVariables(e,t.right);break;case"CallExpression":if(t.callee&&t.callee.object){let i=null!==(n=t.callee.object.name)&&void 0!==n?n:t.callee.object.object?t.callee.object.object.name:void 0,[r,s]=this.searchVarInScopeAndParent(e,i);if(s.length){let e=this.code.indexOf(");",t.range[0]);this.createVariable(r,i,s[0].vartype,e+1)}}else if(t.callee.name in this.funcDefs){let n=t.callee.name,i=[];for(let r=0;r<t.arguments.length;r++){let s=t.arguments[r],o=s.name;o||"object"in s&&"property"in s&&(o=s.object.name),o&&this.getVarDeclsTillFuncBorder(e,void 0,o).length>0&&n in this.funcDefs&&i.push([P.scopeNameToFunctionScope(n)+"."+this.funcDefs[n][r],o])}this.pushFuncParams.push(new j(t.range[0],t.range[1],P.scopeNameToFunctionScope(n),i))}t.arguments&&t.arguments.length&&this.addNoMarklineZone(t.range[0]+1,t.range[1]);for(let n of t.arguments)this.extractVariables(e,n);break;case"UnaryExpression":if(t.operator&&"delete"==t.operator){let n=t.argument.object.name,[i,r]=this.searchVarInScopeAndParent(e,n);r.length>0&&this.createVariable(i,n,r[0].vartype,t.range[1]+1)}break;case"UpdateExpression":case"AssignmentExpression":{let n="";"AssignmentExpression"==t.type?(n=t.left.object&&t.left.object.name?t.left.object.name:t.left.name,!n&&t.left.object.object&&(n=t.left.object.object.name),!n&&t.left&&t.left.object&&"ThisExpression"==t.left.object.type&&(n="this"),t.right&&"CallExpression"==t.right.type&&this.extractVariables(e,t.right)):n="UpdateExpression"==t.type?t.argument.name:t.argument.object.name;let i=[],r=e;"this"==n?i.push(new V(e,n,N.let,-1,!1)):[r,i]=this.searchVarInScopeAndParent(e,n),i.length>0&&this.createVariable(r,n,i[0].vartype,t.range[1]+1),t.right&&"ObjectExpression"==t.right.type&&this.addNoMarklineZone(t.range[0],t.range[1]);break}}}createVariable(e,t,n,i,r=!1){e in this.varDeclarations||(this.varDeclarations[e]={});let s=new V(e,t,n,i,r);return t in this.varDeclarations[e]?-1==this.varDeclarations[e][t].endOfDefinitionIndexes.indexOf(s.endOfDefinitionIndex)&&this.varDeclarations[e][t].endOfDefinitionIndexes.push(s.endOfDefinitionIndex):this.varDeclarations[e][t]=s,s}addNoMarklineZone(e,t){this.noMarkLineZone.push(new W(e,t))}isEmptyLine(e){return-1!=this.emptyCodeLineNumbers.indexOf(e)}isInNoMarkLineZone(e){return null!=this.noMarkLineZone.find((t=>e>=t.s&&e<=t.e))}updateNoMarkLineZone(e,t){for(let n in this.noMarkLineZone){let i=this.noMarkLineZone[n];e<=i.s&&(i.s+=t),e<=i.e&&(i.e+=t)}}injectCookies(){let e={},t=(t,n)=>{t in e||(e[t]=[]),e[t].push(n)};for(const e of this.explicitBraces)t(e.s,"{"),t(e.e,"}");for(const e of this.scopes){if(-1==e.startOfDefinitionIndex)continue;let n=`;startScope('${e.name}');`;t(e.startOfDefinitionIndex,n)}for(const e of Object.keys(this.varDeclarations))for(const n of Object.keys(this.varDeclarations[e])){let i=this.varDeclarations[e][n];for(const e of i.endOfDefinitionIndexes){let n="";n=""===i.source?`;setVar('${i.name}', ${i.name});`:`;setVar('${i.name}', ${i.name}, '${i.source}');`,t(e,n)}}let n=this.scopes.sort(((e,t)=>e.endOfDefinitionIndex!=t.endOfDefinitionIndex?e.endOfDefinitionIndex-t.endOfDefinitionIndex:t.name.charCodeAt(0)-e.name.charCodeAt(0)));for(const e of n){let n=("global"==e.name?"\n":"")+`;endScope('${e.name}');`;t(e.endOfDefinitionIndex,n)}for(const e of this.pushFuncParams){let n=`funcWrap( {f: () => { pushParams(${JSON.stringify(e.varToParams)}); startScope('`+e.funcScopeName+"'); let ret = ";t(e.startOfDefinitionIndex,n),n=`; popParams(${JSON.stringify(e.varToParams)}); endScope('`+e.funcScopeName+"');<FORCEFCNRET>; return ret;}} )",t(e.endOfDefinitionIndex,n)}for(const e of this.fcnReturns)t(e,"<FCNRET>");for(const e of this.markLineOverrides)t(e,"<FORCEMARKLINE>");for(const t of Object.keys(e).reverse()){let n=parseInt(t),i=e[n].join("");this.code=this.code.substring(0,n)+i+this.code.substring(n),this.updateNoMarkLineZone(n,i.length)}}parseCode(){if(!this.code)return[!1,"No code"];let e;try{e=z.parseScript(this.code,{range:!0}),this.debugEnabled&&console.log(e)}catch(e){return[!1,"line "+e.lineNumber+": "+e.description]}if(this.varDeclarations={},this.scopes=[],this.fcnReturns=[],this.markLineOverrides=[],e.body){let t=-1,n=0;for(;n<e.body.length;){if("VariableDeclaration"!=e.body[n].type){n++;continue}let i=e.body[n];i.declarations&&i.declarations.length&&"CallExpression"==i.declarations[0].init.type||(t!=n?(e.body.splice(t+1,0,e.body[n]),e.body.splice(n+1,1),t++):t=n),n++}}this.scopes.push(new H("global",e.range[0],e.range[1])),this.markLineOverrides.push(e.range[1]),this.extractVariables("global",e),this.injectCookies();let t=(e,t,n)=>{if(-1==n.indexOf(e))return n;let i="",r=n.split(e),s=t.length-e.length;for(let n=0;n<r.length-1;n++){let o=r[n];if("<FORCEFCNRET>"!=e&&this.isInNoMarkLineZone(this.code.length+o.length))i+=o,this.updateNoMarkLineZone(this.code.length+i.length,s);else{i+=o+t;let e=(o+t).length;this.updateNoMarkLineZone(this.code.length+i.length-e,s)}}return i+(r.length>1?r[r.length-1]:n)},n=(e,t,n)=>"\n"!=e&&this.isInNoMarkLineZone(this.code.length+t)?n:(this.updateNoMarkLineZone(this.code.length+t,e.length),n.substring(0,t)+e+n.substring(t)),i=["{","}"],r=this.code.split("\n");this.code="";for(let[e,s]of r.entries()){let r=s.trim();if((0==r.length||0==r.indexOf("//")||1==r.length&&-1!=i.indexOf(r))&&this.emptyCodeLineNumbers.push(e+1),(r.startsWith("/*")&&-1==r.indexOf("*/")||r.startsWith("/*")&&r.endsWith("*/"))&&this.emptyCodeLineNumbers.push(e+1),s+="\n",!this.isEmptyLine(e+1)){s=t("<FCNRET>",";endScope();",s);let i=`;forcemarkcl(${e+1});`;s=t("<FORCEMARKLINE>",i,s),s=t("<FORCEFCNRET>",i,s);let r=`;markcl(${e+1}); `,o=s.indexOf("*/");-1!=o&&o<s.length-3?s=n(r,o+2,s):-1==s.indexOf("case")&&(s=n(r,"{"==s.trim()[0]?s.indexOf("{")+1:0,s))}this.code+=s}return[!0,""]}searchVarInScopeAndParent(e,t){let n=e,i=this.getVarDeclsTillFuncBorder(n,void 0,t);return 0==i.length?(n=e.split(".local").join(""),i=this.getVarDeclsTillFuncBorder(n,void 0,t),0==i.length&&(n="global",i=this.getVarDeclsTillFuncBorder(n,void 0,t))):n=i[0].declarationScopeName,[n,i]}searchVarInAllScopes(e){let t=[];for(let n in this.varDeclarations){let i=this.varDeclarations[n];if(null!=i&&0!=Object.keys(i).length)for(let r of Object.keys(i)){let i=this.varDeclarations[n][r];i.vartype!=N.var&&"global"!=i.declarationScopeName||i.name!=e||t.push(i)}}return t}getVarDeclsTillFuncBorder(e,t,n){let i=[],r=e.split(".").reverse();for(let e of r){if(-1!=e.indexOf("!")){i.push(e);break}i.push(e)}let s=[];for(i.reverse();i.length;){e=i.join(".");for(let i of Object.entries(this.varDeclarations))if(i[0].endsWith(e)){let e=this.varDeclarations[i[0]];for(let i of Object.values(e))if(!(null!=t&&i.vartype!=t||null!=n&&i.name!=n||(s.push(i),null==n)))break}i.pop()}return s}}class G{constructor(){this.notificationObservers=[]}registerNotificationObserver(e){this.notificationObservers.push(e)}onEnterScopeVariable(e,t){for(const n of this.notificationObservers)"onEnterScopeVariable"in n&&n.onEnterScopeVariable(e,t)}onExitScopeVariable(e,t){for(const n of this.notificationObservers)"onExitScopeVariable"in n&&n.onExitScopeVariable(e,t)}onTraceMessage(e){for(const t of this.notificationObservers)"onTraceMessage"in t&&t.onTraceMessage(e)}onExceptionMessage(e,t){for(const n of this.notificationObservers)"onTraceMessage"in n&&n.onExceptionMessage(e,t)}onUserInteractionRequest(e,t,n){for(const i of this.notificationObservers)"onTraceMessage"in i&&i.onUserInteractionRequest(e,t,n)}onCompilationError(e,t){for(const n of this.notificationObservers)"onTraceMessage"in n&&n.onCompilationError(e,t)}onExecutionFinished(){for(const e of this.notificationObservers)"onExecutionFinished"in e&&e.onExecutionFinished()}onAccessNode(e,t,n){for(const i of this.notificationObservers)"onAccessNode"in i&&i.onAccessNode(e,t,n)}onAddEdge(e,t,n){for(const i of this.notificationObservers)"onAddEdge"in i&&i.onAddEdge(e,t,n)}onAddNode(e,t,n,i){for(const r of this.notificationObservers)"onAddNode"in r&&r.onAddNode(e,t,n,i)}onRemoveNode(e,t){for(const n of this.notificationObservers)"onRemoveNode"in n&&n.onRemoveNode(e,t)}onRemoveEdge(e,t,n){for(const i of this.notificationObservers)"onRemoveEdge"in i&&i.onRemoveEdge(e,t,n)}forcemarkcl(e){for(const t of this.notificationObservers)"forcemarkcl"in t&&t.forcemarkcl(e)}markcl(e){for(const t of this.notificationObservers)"markcl"in t&&t.markcl(e)}startScope(e){for(const t of this.notificationObservers)"startScope"in t&&t.startScope(e)}endScope(e){for(const t of this.notificationObservers)"endScope"in t&&t.endScope(e)}pushParams(e){for(const t of this.notificationObservers)"pushParams"in t&&t.pushParams(e)}popParams(e){for(const t of this.notificationObservers)"popParams"in t&&t.popParams(e)}setVar(e,t,n){for(const i of this.notificationObservers)"setVar"in i&&i.setVar(e,t,n)}}var q,K;!function(e){e[e.MARK_LINE=0]="MARK_LINE",e[e.FORCE_MARK=1]="FORCE_MARK",e[e.READ=2]="READ",e[e.READ_AT=3]="READ_AT",e[e.WRITE=4]="WRITE",e[e.WRITE_AT=5]="WRITE_AT",e[e.WRITE_REF=6]="WRITE_REF",e[e.SCOPE_START=7]="SCOPE_START",e[e.SCOPE_END=8]="SCOPE_END",e[e.CREATE_VAR=9]="CREATE_VAR",e[e.CREATE_REF=10]="CREATE_REF",e[e.GRAPH_ADD_EDGE=11]="GRAPH_ADD_EDGE",e[e.GRAPH_ADD_VERTEX=12]="GRAPH_ADD_VERTEX",e[e.GRAPH_REMOVE_EDGE=13]="GRAPH_REMOVE_EDGE",e[e.GRAPH_REMOVE_VERTEX=14]="GRAPH_REMOVE_VERTEX",e[e.BINARY_TREE_ADD_NODE=15]="BINARY_TREE_ADD_NODE",e[e.BINARY_TREE_ADD_EDGE=16]="BINARY_TREE_ADD_EDGE",e[e.BINARY_TREE_REMOVE_NODE=17]="BINARY_TREE_REMOVE_NODE",e[e.BINARY_TREE_REMOVE_EDGE=18]="BINARY_TREE_REMOVE_EDGE",e[e.GRAPH_ACCESS_NODE=19]="GRAPH_ACCESS_NODE"}(q||(q={}));class X{static execute(e,t,n,i){switch(e){case q.READ:t.getValue(n);break;case q.WRITE:t.setValue(i);break;case q.WRITE_REF:t.setReference(i);break;default:throw"Cannot process operation type: "+e}}}class Y{static execute(e,t,n,i,r){switch(e){case q.WRITE_AT:t.setValueAtIndex(i,r);break;case q.READ_AT:t.getAtIndex(r);break;default:throw"Cannot process operation type: "+e}}}class J{static execute(e,t,n,i,r,s){switch(e){case q.GRAPH_ADD_EDGE:t.addEdge(n,i);break;case q.GRAPH_ADD_VERTEX:t.addVertex(n);break;case q.GRAPH_REMOVE_EDGE:t.removeEdge(n,i);break;case q.GRAPH_REMOVE_VERTEX:t.removeVertex(n);break;case q.BINARY_TREE_ADD_NODE:t instanceof C.xC?t.add(n):t.add(n,i,r);break;case q.BINARY_TREE_REMOVE_NODE:t.remove(n);break;case q.BINARY_TREE_ADD_EDGE:case q.BINARY_TREE_REMOVE_EDGE:break;case q.GRAPH_ACCESS_NODE:t.accessValue(n,s);break;default:throw"Cannot process operation type: "+e}}}!function(e){e[e.Idle=0]="Idle",e[e.Executing=1]="Executing",e[e.ReplayEnded=2]="ReplayEnded",e[e.Waiting=3]="Waiting"}(K||(K={}));class Z extends class{forcemarkcl(e){}markcl(e){}startScope(e){}endScope(e){}pushParams(e){}popParams(e){}setVar(e,t,n){}}{constructor(e=!0){super(),this.injectMarkers=e,this.rsMonitor=new P,this.refs={},this.status=K.Idle,this.notificationBus=new G,this.codeExecProxy=new I(this.notificationBus),this.codeProcessor=new U,this.notificationBus.registerNotificationObserver(this)}onSetArrayValueEvent(e,t,n){X.execute(q.WRITE,e,JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(n)))}onSetReferenceEvent(e,t,n){X.execute(q.WRITE_REF,e,t,n)}onSetEvent(e,t,n){X.execute(q.WRITE,e,t,n)}onGetEvent(e,t){X.execute(q.READ,e,t,t)}onSetArrayAtIndexEvent(e,t,n,i){Y.execute(q.WRITE_AT,e,t,n,i)}onGetArrayAtIndexEvent(e,t,n){Y.execute(q.READ_AT,e,t,t,n)}onSetObjectValueEvent(e,t,n){X.execute(q.WRITE,e,t,n)}onSetObjectPropertyEvent(e,t,n,i){Y.execute(q.WRITE_AT,e,t,n,i)}onGetObjectPropertyEvent(e,t,n){Y.execute(q.READ_AT,e,t,t,n)}onAccessNode(e,t,n){let i=this.getRuntimeObservableWithId(e.id);J.execute(q.GRAPH_ACCESS_NODE,i,t.value,void 0,void 0,n)}onAddEdge(e,t,n){let i=this.getRuntimeObservableWithId(e.id),r=i instanceof C.kJ;J.execute(r?q.GRAPH_ADD_EDGE:q.BINARY_TREE_ADD_EDGE,i,t.value,n.value)}onAddNode(e,t,n,i){let r=this.getRuntimeObservableWithId(e.id),s=r instanceof C.kJ;J.execute(s?q.GRAPH_ADD_VERTEX:q.BINARY_TREE_ADD_NODE,r,t.value,n?n.value:void 0,i)}onRemoveNode(e,t){let n=this.getRuntimeObservableWithId(e.id),i=n instanceof C.kJ;J.execute(i?q.GRAPH_REMOVE_VERTEX:q.BINARY_TREE_REMOVE_NODE,n,t.value)}onRemoveEdge(e,t,n){let i=this.getRuntimeObservableWithId(e.id),r=i instanceof C.kJ;J.execute(r?q.GRAPH_REMOVE_EDGE:q.BINARY_TREE_REMOVE_EDGE,i,t.value,n.value)}isNotStarted(){return this.status==K.Idle}isReplayFinished(){return this.status==K.ReplayEnded}isWaiting(){return this.status==K.Waiting}setWaiting(e){this.status=e?K.Waiting:K.Executing}setSourceCode(e){this.resetExecutionState(),this.notificationBus.onCompilationError(!1),this.notificationBus.onExceptionMessage(!1);let[t,n]=this.codeProcessor.setCode(e,this.injectMarkers);return t||this.notificationBus.onCompilationError(t,n),t}registerNotificationObserver(e){this.notificationBus.registerNotificationObserver(e)}forcemarkcl(e){this.notificationBus.markcl(e)}onExecutionFinished(){this.status=K.ReplayEnded}startScope(e){this.rsMonitor.scopeStart(P.scopeNameToFunctionScope(e)),this.executeRuntimeObservableVarLifetime(q.SCOPE_START,this.findRuntimeObservableFromName(void 0,N.var))}endScope(e){let t=e=>{this.executeRuntimeObservableVarLifetime(q.SCOPE_END,this.findRuntimeObservableFromName(void 0)),this.rsMonitor.scopeEnd(P.scopeNameToFunctionScope(e))};if(e)return void t(e);let n=this.rsMonitor.getCurrentScope().lastIndexOf("!");if(-1!=n){e=this.rsMonitor.getCurrentScope().substring(n);for(let n of e.split(".").reverse())n.startsWith("!")||t(n)}}pushParams(e){for(let t of e){let e=this.rsMonitor.attachVarToScope(t[0],this.rsMonitor.getCurrentScope()),n=this.rsMonitor.attachVarToScope(t[1],this.rsMonitor.getCurrentScope());this.refs[e]=n}}popParams(e){for(let t of e){let e=this.rsMonitor.attachVarToScope(t[0],this.rsMonitor.getCurrentScope());delete this.refs[e]}}setVar(e,t,n){if(t instanceof S.$i||t instanceof C.Ul||t instanceof C.wD)return;let i=this.rsMonitor.getCurrentScope();if(this.isReferenceObject(t)&&!("__isGraphType__"in t)){let r=this.rsMonitor.attachVarToScope(e,i);n&&(this.refs[r]=this.rsMonitor.getParentScope()+"."+n);let s=this.getReferencedObject(r);if(r!=s){let[n,r]=this.createRuntimeObservable(this.rsMonitor.getCurrentScope(),e,t);n&&this.executeRuntimeObservableVarLifetime(q.CREATE_REF,this.findRuntimeObservableFromName(e)),r.setReference(s);let o=s.lastIndexOf(".");e=s.substring(o+1),i=s.substring(0,o)}}let[r,s]=this.createRuntimeObservable(i,e,t);r&&this.executeRuntimeObservableVarLifetime(q.CREATE_VAR,[s]),s.setValue(t)}startReplay(){this.resetExecutionState(),this.executeSourceCode()}advanceOneCodeLine(){this.codeExecProxy.advanceOneCodeLine()}onUserInteractionResponse(e,t){this.codeExecProxy.userInteractionResponse(e,t)}resetExecutionState(){this.refs={},this.rsMonitor.reset()}executeSourceCode(){return e=this,t=void 0,i=function*(){this.status==K.Executing&&this.codeExecProxy.stopExecution(),this.status=K.Executing,this.codeProcessor.dumpDebugInfo(),this.notificationBus.onCompilationError(!1),this.notificationBus.onExceptionMessage(!1);try{this.codeExecProxy.init(),this.codeExecProxy.setSourceCode(this.codeProcessor.getCode()),this.codeExecProxy.execute()}catch(e){this.status=K.Idle,console.log(e);let t="object"==typeof e&&"message"in e?e.message:e;return this.notificationBus.onExceptionMessage(!0,t),this.notificationBus.onExecutionFinished(),!1}return!0},new((n=void 0)||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}));var e,t,n,i}findRuntimeObservableFromName(e,t=N.let){let n=[];return this.rsMonitor.getScopesReversed().forEach((t=>{let i=t.observables.find((t=>t.name==e));i&&n.push(i)})),n}executeRuntimeObservableVarLifetime(e,t){let n=(e,t)=>{e==q.SCOPE_END?this.notificationBus.onExitScopeVariable(this.rsMonitor.getCurrentScope(),t):this.notificationBus.onEnterScopeVariable(this.rsMonitor.getCurrentScope(),t)};if(t&&t.length)for(let i of t)e==q.SCOPE_START&&i.empty(),n(e,i);else n(e,void 0)}getRuntimeObservableWithId(e){for(let t of this.rsMonitor.getScopesReversed()){let n=t.observables.find((t=>t.id==e));if(n)return n}}createRuntimeObservable(e,t,n){let i,[r,s]=this.rsMonitor.findRuntimeObservableWithName(t),o=(a=this.codeProcessor.getVarDeclsTillFuncBorder(e,N.let,t))?a.find((e=>e.name==t)):void 0;var a;if(s&&!(o&&o.declarationScopeName.length>r.length))return[!1,s];if(n&&"object"==typeof n&&"__isGraphType__"in n){switch(n.type){case S.KU.DIRECTED:case S.KU.UNDIRECTED:i=new C.kJ(n.type);break;case S.KU.BT:i=new C.wD(n.type);break;case S.KU.BST:i=new C.xC}n.name=t,i.copyFrom(n)}else i=new F(t,n,o&&o.isBinary);return this.rsMonitor.storeRuntimeObservableInScope(i),[!0,i]}isReferenceObject(e){let t=Object.prototype.toString.call(e);return"[object Array]"==t||"[object Object]"==t}getReferencedObject(e){let t=!1;for(;e in this.refs;)e=this.refs[e],t=!0;if(t)return e;let n=e.lastIndexOf("local.");if(-1!=n){let t=e.substring(0,n)+e.substring(n+6);return this.getReferencedObject(t)}return e}}var Q=__webpack_require__(2085);__webpack_require__(9063);class ee{constructor(e,t=!1,n=!1){this.MaxCodeLines=30,this.MinCodeLines=5,this.Range=Q.require("ace/range").Range,this.eventListeners=[],this.lineComments=[],this.skipEventsCount=0;let i=e.textContent,r=i.split("\n"),[s,o]=this.processNewCode(i);this.lineComments=s,this.editor=Q.edit(e.id),this.editor.session.setMode("ace/mode/javascript"),this.editor.setFontSize(14),this.editor.setShowPrintMargin(!1),this.editor.setAutoScrollEditorIntoView(!0),this.editor.setReadOnly(t),this.editor.setOptions({useWorker:!1,wrap:80}),this.setMaxLines(r.length),o=this.unescapeSpecialChars(o);let a=0,l=0,c=()=>{let e=!1;"\n"==o.charAt(a)&&(l++,e=!0),this.editor.session.setValue(o.substring(0,a)+"\n".repeat(r.length-l+(e?1:0))),a<o.length?(a++,setTimeout(c,10)):(this.registerOnChangeNotifier(),this.editor.session.setValue(o+"\n"))};n?c():(this.registerOnChangeNotifier(),this.editor.session.setValue(o+"\n"))}setMaxLines(e){this.editor.setOption("maxLines",Math.min(this.MaxCodeLines,1+e))}unescapeSpecialChars(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}registerOnChangeNotifier(){this.editor.on("change",(()=>{if(this.skipEventsCount>0)return void this.skipEventsCount--;let[,e,t]=this.removeComments(this.editor.getSession().getValue());this.setMaxLines(t);let n=this.unescapeSpecialChars(e);n==e?this.notifySourceCodeObservers(!0):this.editor.setValue(n)}))}registerEventNotifier(e){this.eventListeners.push(e),e.onSourceCodeUpdated(this.editor.getSession().getValue(),!1)}unRegisterEventNotifier(e){this.eventListeners=this.eventListeners.slice(this.eventListeners.indexOf(e),1)}notifySourceCodeObservers(e){for(let t of this.eventListeners)t.onSourceCodeUpdated(this.editor.getSession().getValue(),e)}highlightLine(e){this.editor.gotoLine(e),this.unhighlightLine(),this.marker=this.editor.session.addMarker(new this.Range(e-1,0,e-1,1),"myMarker","fullLine")}unhighlightLine(){this.editor.session.removeMarker(this.marker),this.marker=void 0}getSourceCode(){return this.editor.getValue()}getLineComment(e){var t;return e>=this.lineComments.length?"":null!==(t=this.lineComments[e])&&void 0!==t?t:""}processNewCode(e){if(!e||""==e)return[[],"\n".repeat(this.MinCodeLines-1),this.MinCodeLines];let[t,n,i]=this.removeComments(e);return i<this.MinCodeLines&&(n+="\n".repeat(this.MinCodeLines-i+1),i=this.MinCodeLines),[t,n,i]}setSourceCode(e){let[t,n,i]=this.processNewCode(e);this.lineComments=t,this.skipEventsCount=2,this.setMaxLines(i),this.editor.setValue(n),this.highlightLine(1),this.notifySourceCodeObservers(!1)}removeComments(e){let t=[],n=0,i=1,r=new RegExp("/\\*\\*\\*([\\s\\S]*?)\\*\\*\\*/"),s=e.split("\n"),o="";for(let e of s){let s=r.exec(e);s?(t[i]=s[1].trim(),o+=e.replace(s[0],"")):o+=e,o+="\n",n++,i++}return[t,o.substring(0,o.length-1),n]}}var te=__webpack_require__(3685);class ne{constructor(){this.consoleOutput="",this.showComments=!0,this.isPaused=!0,this.isExecutionCompleted=!1,this.isVisualisationDisabled=!1,this.isSnippetSet=!1,this.snippets=[],this.selectedSnippetDesc="",this.selectedSnippetIdx=0,this.hasLevelSpecified=!1,this.hasMoreSnippets=!1,this.timeRemainingForSolution="",this.hasCompilationError=!1,this.compilatonErrorMessage="",this.hasException=!1,this.exceptionMessage="",this.isSolution=!1,this.promptTitle="",this.promptDefaultValue="",this.hasCancelBtn=!0,this.hasInputBox=!0,this.hasSolution=!1,this.isFunctionalityDisabled=!1,this.userInteraction=B.wt.Alert}onShowComments(){}onAutoplayToggled(){}compilationErrorMessage(){return this.compilatonErrorMessage}onAdvance(e){}onRestart(){}onFullscreen(){}onShowSolution(){}onSnippetSelected(e){}onNextSnippet(){}onPlaybackSpeedChangedSSlow(){}onPlaybackSpeedChangedSlow(){}onPlaybackSpeedChangedRealtime(){}onPromptOk(){}onPromptCancel(){}setDefaults(){this.consoleOutput="",this.isPaused=!0,this.isExecutionCompleted=!1,this.isVisualisationDisabled=!1,this.isSolution=!1,this.isSnippetSet=!1,this.hasLevelSpecified=!1,this.selectedSnippetDesc="",this.selectedSnippetIdx=0,this.hasMoreSnippets=!1,this.timeRemainingForSolution="",this.showComments=!0,this.hasCompilationError=!1,this.compilatonErrorMessage="",this.hasException=!1,this.exceptionMessage="",this.promptTitle="",this.promptDefaultValue="",this.hasCancelBtn=!0,this.hasInputBox=!0,this.hasSolution=!1,this.isFunctionalityDisabled=!0,this.userInteraction=B.wt.Alert}}class ie{constructor(e,t,n){this.app=e,this.snippetEventsCbks=n,this.commentsPopoverHandle=void 0,this.promptWidget=void 0,this.userInteractionMsgBox=void 0,this.msgBoxWidget=void 0,this.userMsgBox=void 0,this.autoReplayInterval=600,this.autoplayTimer=void 0,this.timeoutExpiredOnce=!1,this.timestampTouched=void 0,this.timerSolution=void 0,this.viewModel=new ne,this.lineNoToBeExecuted=-1,this.userCodeBeforeShowSolution="";let i=e.querySelector("[class*=leftPane]"),r=e.querySelector("[class*=rightPane]"),s=e.querySelector("[class*=panelVariables]"),o=e.querySelector("[class*=codeEditor]"),a=e.querySelector("[class*=av-buttonsBar]"),l=e.querySelector("[class*=av-snippets]");this.promptWidget=e.querySelector("[id=toast-"+o.id),this.userInteractionMsgBox=new te.Toast(this.promptWidget),this.msgBoxWidget=e.querySelector("[id=msgBox-"+o.id),this.userMsgBox=new te.Toast(this.msgBoxWidget);let h=e.hasAttribute("av-autoplay"),p=e.hasAttribute("av-write"),f=e.hasAttribute("av-novis"),g=e.hasAttribute("av-autocomplete"),m=-1;e.hasAttribute("av-exercise")?(p=!0,h=!1,f=!0,m=parseInt(e.getAttribute("av-exercise").split(":")[1])):m=e.hasAttribute("av-selected")?parseInt(e.attributes.getNamedItem("av-selected").value):-1,this.codeDebugger=new Z(!f),this.codeRenderer=new ee(o,!p,g);let v=new R(s),y=new u(this.viewModel),b=y;b.setDefaults(),b.isVisualisationDisabled=f;let x=this,w=e=>{let n=t.findIndex((t=>t.id==e));if(-1!=n){let e=t[n];b.selectedSnippetDesc=e.desc,b.hasMoreSnippets=n<t.length-1,b.hasLevelSpecified=""!=e.level,b.hasSolution=""!=e.solution,b.selectedSnippetIdx=n,this.userCodeBeforeShowSolution="",this.codeRenderer.setSourceCode(e.code),this.timestampTouched=void 0,this.timeoutExpiredOnce=!1}};this.viewModel.onNextSnippet=()=>{b.selectedSnippetIdx++,b.selectedSnippetIdx<t.length&&w(t[b.selectedSnippetIdx].id)},this.viewModel.onSnippetSelected=e=>{let t=Number.parseInt(e.getAttribute("av-id"));w(t)},b.isSnippetSet=t.length>1&&-1==m,t.length>0&&(-1!=m&&-1!=t.findIndex((e=>e.id==m))?w(m):w(t[0].id)),this.viewModel.onFullscreen=()=>{n&&n.onShowFullscreen(this.app)},this.viewModel.onShowComments=()=>{b.showComments=!b.showComments,b.showComments?L(this.lineNoToBeExecuted):this.commentsPopoverHandle=this.snippetEventsCbks.onDisposePopover(this.commentsPopoverHandle)},this.viewModel.onAutoplayToggled=()=>{b.isExecutionCompleted&&this.viewModel.onRestart(),this.codeDebugger.isNotStarted()&&this.codeDebugger.startReplay(),b.isPaused=!b.isPaused,clearInterval(this.autoplayTimer),b.isPaused?h=!1:this.autoplayTimer=setInterval((()=>{b.isPaused=b.isExecutionCompleted,b.isPaused?clearInterval(this.autoplayTimer):this.codeDebugger.isWaiting()?setTimeout(E,20):E()}),this.autoReplayInterval)},this.viewModel.onAdvance=()=>{this.codeDebugger.isNotStarted()&&this.codeDebugger.startReplay(),b.isPaused&&E()};let E=()=>{this.codeDebugger.isWaiting()||this.codeDebugger.advanceOneCodeLine()};var S;this.viewModel.onRestart=()=>{b.isPaused=!0,b.isExecutionCompleted=!1,b.consoleOutput="",clearInterval(this.autoplayTimer),this.autoplayTimer=void 0,v.clearAll(),this.codeDebugger.startReplay()},this.viewModel.onPlaybackSpeedChangedSSlow=()=>{this.autoReplayInterval=500},this.viewModel.onPlaybackSpeedChangedSlow=()=>{this.autoReplayInterval=200},this.viewModel.onPlaybackSpeedChangedRealtime=()=>{this.autoReplayInterval=0},function(e){e[e.Ok=0]="Ok",e[e.Cancel=1]="Cancel"}(S||(S={}));let C=(e,t,n)=>{switch(e){case B.wt.Alert:return;case B.wt.Confirm:return t==S.Ok;case B.wt.Prompt:return t==S.Ok?n:null;default:return}},k=x.promptWidget.querySelector("[class=form-control]");k.addEventListener("keyup",(function(e){"Enter"===e.key&&x.viewModel.onPromptOk()})),this.viewModel.onPromptOk=()=>{let e=this.promptWidget.querySelector("[class=form-control]").value;this.userInteractionMsgBox.hide(),this.codeDebugger.onUserInteractionResponse(b.userInteraction,C(b.userInteraction,S.Ok,e)),b.isFunctionalityDisabled=!1},this.viewModel.onPromptCancel=()=>{this.codeDebugger.onUserInteractionResponse(b.userInteraction,C(b.userInteraction,S.Cancel,null)),b.isFunctionalityDisabled=!1};let A=e=>{Math.floor(e%1e3/100);let t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return Math.floor(e/36e5%24),(n<10?"0"+n:n)+":"+(t<10?"0"+t:t)};this.msgBoxWidget.addEventListener("hidden.bs.toast",(()=>{this.timerSolution&&(clearTimeout(this.timerSolution),this.timerSolution=void 0)})),this.viewModel.onShowSolution=()=>{let e=e=>60*e*1e3,n=()=>{this.timeoutExpiredOnce=!0,b.isSolution=!b.isSolution,b.isSolution&&(this.userCodeBeforeShowSolution=this.codeRenderer.getSourceCode()),this.codeRenderer.setSourceCode(b.isSolution?(b.selectedSnippetIdx<t.length?t[b.selectedSnippetIdx]:void 0).solution:this.userCodeBeforeShowSolution)},i=this.timestampTouched?Date.now()-this.timestampTouched:0;if(b.timeRemainingForSolution=A(e(2)-i),i<e(2))return this.timestampTouched&&(this.timerSolution=setInterval((()=>{let t=this.timestampTouched?Date.now()-this.timestampTouched:0,i=e(2)-t;i<=0?(x.userMsgBox.hide(),n()):b.timeRemainingForSolution=""+A(i)}),1e3)),void x.userMsgBox.show();n()},new d(y).bindTo(a).bindTo(l).bindTo(r).bindTo(this.promptWidget).bindTo(this.msgBoxWidget),this.codeDebugger.registerNotificationObserver({onEnterScopeVariable:(e,t)=>{v.add(e,t)},onExitScopeVariable:(e,t)=>{v.remove(e,t,(e=>{x.codeDebugger.setWaiting(e)}))}}),this.codeDebugger.registerNotificationObserver({onExceptionMessage(e,t){b.exceptionMessage=t,b.hasException=e,e&&(b.isPaused=e,b.isExecutionCompleted=!0)},onCompilationError(e,t){b.compilatonErrorMessage=t,b.hasCompilationError=e,e&&(b.isPaused=e,b.isExecutionCompleted=!0)},onTraceMessage(e){b.consoleOutput+=e+"\r\n"},onUserInteractionRequest(e,t,n){x.userInteractionMsgBox.show(),k.focus(),b.isFunctionalityDisabled=!0,b.userInteraction=e,b.promptTitle=null!=t?t:c.str(20),b.promptDefaultValue=null!=n?n:"",b.hasCancelBtn=e!=B.wt.Alert,b.hasInputBox=e==B.wt.Prompt}}),this.codeDebugger.registerNotificationObserver({markcl(e){b.isExecutionCompleted=!1,x.lineNoToBeExecuted=e,L(e)},onExecutionFinished(){b.isExecutionCompleted=x.codeDebugger.isReplayFinished()}}),this.codeRenderer.registerEventNotifier({onSourceCodeUpdated:(e,t)=>{""!=e.trim()&&(!this.timeoutExpiredOnce&&t&&(this.timestampTouched=Date.now()),b.isFunctionalityDisabled=!1,b.consoleOutput="",v.clearAll(),e=(new DOMParser).parseFromString(e,"text/html").documentElement.textContent,x.codeDebugger.setSourceCode(e),p||f||!this.codeDebugger.isNotStarted()||this.codeDebugger.startReplay(),h&&this.viewModel.onAutoplayToggled())}});var D={content:"",html:!0,maxLines:"12"};let _=()=>document.querySelector("[class=myMarker]");var T=t=>{if(!b.showComments||f||!t)return;this.commentsPopoverHandle=this.snippetEventsCbks.onDisposePopover(this.commentsPopoverHandle);let n=e.querySelector("[class*=commentsPopover]");"style"in t&&(n.style.top=parseInt(t.style.top)+1*parseInt(t.style.height)+"px",this.commentsPopoverHandle=this.snippetEventsCbks.onShowPopover(n,D))},M=new MutationObserver((function(e){e.forEach((function(e){let t=_();e.target!=t&&e.target!=i||T(e.target)}))}));let L=e=>{this.codeRenderer.highlightLine(e);let t=this.codeRenderer.getLineComment(e);if(""!==t){D.content=t;let e=()=>{let t=_();t?(M.observe(t,{attributes:!0,attributeFilter:["style"]}),M.observe(i,{attributes:!0,attributeFilter:["style"]}),T(t)):setTimeout(e,200)};e()}else""!=D.content&&(this.commentsPopoverHandle=this.snippetEventsCbks.onDisposePopover(this.commentsPopoverHandle)),D.content=""};setTimeout((()=>{for(let t of e.querySelectorAll(".ace_gutter-cell"))t.addEventListener("mouseover",(e=>{let t=parseInt(e.target.textContent);D.content=this.codeRenderer.getLineComment(t),T(e.target)})),t.addEventListener("mouseout",(()=>{D.content=this.codeRenderer.getLineComment(this.lineNoToBeExecuted),T(_())}))}),500),h&&this.viewModel.onAutoplayToggled()}}var re=__webpack_require__(466),se=__webpack_require__(3572).Z,oe=__webpack_require__(3685);const ae=__webpack_require__(4162).Z,le=__webpack_require__(5036).Z;class ce{constructor(e,t){var n,i;this.id=-1,this.code="",this.desc="",this.level="",this.solution="",this.id="id"in e?e.id:t,this.code=e.code,this.desc=e.desc,this.level=null!==(n=e.level)&&void 0!==n?n:"",this.solution=null!==(i=e.solution)&&void 0!==i?i:""}}class ue{constructor(e){this.snippetsForLang={},e&&this.loadFromJson(e)}loadFromJson(e){e&&Object.keys(e).forEach((t=>{t in this.snippetsForLang||(this.snippetsForLang[t]={});let n=0;Object.values(e[t]).forEach((e=>{if(-1!=t.indexOf("src-"))return;let i=new ce(e,n++);i.level in this.snippetsForLang[t]||(this.snippetsForLang[t][i.level]=[]),this.snippetsForLang[t][i.level].push(i)}))}))}getSnippetsForLang(e){return e in this.snippetsForLang?this.snippetsForLang[e]:{}}getSnippetsForAllLevels(e){let t=[];for(let n in e)t=t.concat(e[n]);return t}getAllSnippetsForLang(e){let t=[];for(let n in this.snippetsForLang[e])t=t.concat(this.snippetsForLang[e][n]);return t}}class he{constructor(e,t){this.id=e,this.widget=t}}class de{constructor(){this.lazyWidget={},this.viewportObserver=void 0,this.options={root:null,rootMargin:"0px",threshold:.05},this.GITHUB_SNIPPETS_URL="/assets/algovis/",de.snippetsUI.initialize();for(let e of document.querySelectorAll("[class=algovis]")){let t="code-editor-"+(de.widgetIndex++).toString();e.setAttribute("av-code-editor-id",t),e.hasAttribute("av-lazy")?this.setupLazyLoading(t,e):this.createWidget(e)}}setupLazyLoading(e,t){if(!e||!t)return;let n=this;this.lazyWidget[e]=new he(e,t),this.viewportObserver||(this.viewportObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){let t=e.target.getAttribute("av-code-editor-id"),i=n.lazyWidget[t];if(!i)return;n.createWidget(i.widget),delete n.lazyWidget[t],this.viewportObserver.unobserve(i.widget)}}))}),this.options)),this.viewportObserver.observe(t)}getConfigId(e){let t;return e.hasAttribute("av-exercise")?t="exercises/"+e.getAttribute("av-exercise").split(":")[0]:e.hasAttribute("config-id")&&(t="snippets/"+e.getAttribute("config-id")),t}createWidget(e){let t=this.getConfigId(e);t?fetch(this.GITHUB_SNIPPETS_URL+t).then((t=>{t.ok&&t.text().then((t=>{this.snippetsConfig=new ue,this.snippetsConfig.loadFromJson(JSON.parse(t));let n=this.snippetsConfig.getSnippetsForLang(c.getLangStr()),i=[];for(let e in n)i.push({level:e,snippets:n[e]});let r=this.snippetsConfig.getSnippetsForAllLevels(n);this.widgetLoader(e,i,r)}))})):this.widgetLoader(e)}widgetLoader(e,t=[],n=[]){e.innerHTML=re.render(ae,{codeEditorId:e.getAttribute("av-code-editor-id"),levels:t,code:e.innerHTML});let i,r=e.firstChild;for(let t of[...e.attributes])r.setAttribute(t.name,t.value),e.removeAttribute(t.name);new ie(r,n,de.snippetsUI);let s={sizes:[55,45]};de.snippetsUI.orientationWatcher.matches||r.classList.contains("verticalView")||(i=se([r.children[0],r.children[1]],s)),de.snippetsUI.orientationWatcher.addEventListener("change",(function(e){e.matches?i&&i.destroy():r.classList.contains("verticalView")||(i=se([r.children[0],r.children[1]],s))}))}onFullScreenEvent(e){e?de.snippetsUI.onHideAllPopovers():de.snippetsUI.onShowAllPopovers()}}de.widgetIndex=0,de.snippetsUI=new class{constructor(){this.popoverCache=[],this.orientationWatcher=window.matchMedia("(max-width: 968px)")}initialize(){document.body.append(e.fromTemplate(le)),this.snippetsModalBody=document.getElementById("modalBody"),this.fullscreenModal=new oe.Modal(document.getElementById("fullscreenModal"),{keyboard:!0}),this.fullscreenModal._element.addEventListener("hidden.bs.modal",(e=>{this.appContainer.append(document.getElementById("modalBody").children[0]),this.onShowAllPopovers()}))}onShowFullscreen(e){this.appContainer=e.parentElement,this.snippetsModalBody.appendChild(e),this.onHideAllPopovers(),this.fullscreenModal.show()}onShowPopover(e,t){let n=new oe.Popover(e,t);return this.popoverCache.push(n),n.show(),n}onDisposePopover(e){let t=this.popoverCache.indexOf(e);return-1!=t?(e.dispose(),void this.popoverCache.splice(t,1)):e}onHideAllPopovers(){for(let e of this.popoverCache)e.hide()}onShowAllPopovers(){for(let e of this.popoverCache)e.show()}},c.setLang(i.En),__webpack_require__(9492),new class{constructor(e){window.addEventListener("load",(()=>{this.loadHooks(),e()}))}loadHooks(){let i=[...e.elemsFromTemplate(n)];for(let t of i){let n=t.classList[0];if(-1!=n.indexOf("-box"))for(let i of document.querySelectorAll("[class*="+n+"]")){let r=e.createElement("span");r.innerHTML=i.innerHTML,i.innerHTML="",t=t.cloneNode(!0),t.classList.remove(n),i.append(t),i.append(r)}}let o=-1;for(let n of document.querySelectorAll("av-elem"))switch(o++,n.getAttribute("type")){case"ieditor":{let i=r.render(t,{hookIdx:o}),s=e.elemsFromTemplate(i);n.after(s[0].cloneNode(!0));let a=n.parentElement;"li"!=a.tagName.toLowerCase()&&(a=a.parentElement);let l=s[1].cloneNode(!0);for(let e of n.attributes)l.firstChild.nextSibling.setAttribute(e.name,e.value);a.lastChild.after(l),n.remove();break}}for(let e of document.querySelectorAll("[class*=av-tippie]"))e.setAttribute("data-bs-toggle","tooltip"),e.setAttribute("data-bs-placement","top"),new s.Tooltip(e);for(let e of i)if("list-arrow"==e.classList[0])for(let t of document.querySelectorAll("[class*=list-arrow]"))t.append(e.cloneNode(!0).children[0]);for(let e of document.querySelectorAll("[class=counter]")){e.textContent="0";let t=()=>{const n=parseInt(e.getAttribute("data-target"));let i=parseInt(e.textContent);i<n?(e.textContent=`${Math.ceil(++i)}`,setTimeout(t,5)):e.textContent=n.toString()};setInterval(t,1e3)}let a=document.querySelector("[class=counters]"),l=document.querySelector("[class=flex-container]");a&&l&&l.after(a);let c=document.getElementById("ez-toc-container");c&&c.classList.add("av-ez-toc-container");let u={},h=new IntersectionObserver((e=>{let t=(e,t)=>{document.querySelector('a[href="#'+e+'"]').style.fontWeight=t?"bold":"normal"};e.forEach((e=>{let n=document.getElementById("ez-toc-container");n&&n.querySelectorAll("a").forEach((e=>{e.style.fontWeight="normal"})),u[e.target.id]=e.isIntersecting;for(let e in u)t(e,u[e])}))}),{rootMargin:"0px",threshold:1});setTimeout((()=>{for(let e of document.querySelectorAll("[class=ez-toc-section]"))h.observe(e)}),2e3)}}((()=>{new w((new de).onFullScreenEvent)}));let pe=e=>{var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.head.appendChild(t)};pe("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"),pe("https://fonts.googleapis.com/css?family=Source+Sans+Pro")})()})();